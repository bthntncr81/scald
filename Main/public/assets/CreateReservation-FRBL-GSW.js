import{r as M,R as e,P as m,l as y,j as i,b as w,t as E}from"./app-DV9Enp-g.js";import{z as L}from"./index-CuMLbxmh.js";import{F as V,a as Z}from"./formik.esm-57hcKfmx.js";import{u as C,L as D}from"./Layout-4Yl3SVGs.js";import{F as N}from"./FieldRenderer-CQ2ywok4.js";import T from"./ExistingReservations-DkHuZrGa.js";import{u as A}from"./use_table_data-Dqvu1vx3.js";import{u as W}from"./useTranslation-B_tqir3M.js";import{_ as B,a as F,B as S}from"./_rollupPluginBabelHelpers-3bc641ae-fORsOdMW.js";import{f}from"./format-DNgEHVKA.js";import"./input-BY0aN3Wh.js";import"./platform_roles-C6HFwJ_S.js";import"./ArrowDown2-BYk1CnSd.js";import"./tab-panels-vLnb1L73.js";import"./form-label-BRtD5jpz.js";import"./Clock-DOUKTfsE.js";import"./ProfileCircle-kDGWjsR6.js";import"./accordion-panel-Bmo1-bWf.js";import"./NewCustomerSchema-C2AlfYyz.js";import"./index.esm-DH7tFHsH.js";import"./useDebounce-BZ39Q-Ut.js";import"./Minus-hQCtIxHU.js";import"./popover-trigger-bCcTHQgY.js";import"./popover-header-BFLhNdCb.js";import"./popover-body-Dv7tL-tk.js";import"./use-boolean-S__THBuA.js";import"./index-sP33oPgb.js";import"./Calendar-DOPv7dkO.js";import"./ArrowRight2-Cm1MJeQW.js";import"./string_formatter-C0BoQtKC.js";import"./input-group-B3tcnjIp.js";import"./input-addon-BXuOB8U6.js";import"./textarea-7dmbfoGY.js";import"./DataTable-CNld8Vzj.js";import"./Pagination-BLwLKiba.js";import"./tr-DmrvMSh4.js";var O=["variant","color","size"],z=function(r){var t=r.color;return e.createElement(e.Fragment,null,e.createElement("path",{d:"M16.75 3.56V2c0-.41-.34-.75-.75-.75s-.75.34-.75.75v1.5h-6.5V2c0-.41-.34-.75-.75-.75s-.75.34-.75.75v1.56c-2.7.25-4.01 1.86-4.21 4.25-.02.29.22.53.5.53h16.92c.29 0 .53-.25.5-.53-.2-2.39-1.51-4-4.21-4.25ZM20 9.84H4c-.55 0-1 .45-1 1V17c0 3 1.5 5 5 5h4.93c.69 0 1.17-.67.95-1.32-.2-.58-.37-1.22-.37-1.68 0-3.03 2.47-5.5 5.5-5.5.29 0 .58.02.86.07.6.09 1.14-.38 1.14-.98v-1.74A1.02 1.02 0 0 0 20 9.84ZM9.21 17.71c-.1.09-.21.16-.33.21-.12.05-.25.08-.38.08s-.26-.03-.38-.08-.23-.12-.33-.21c-.18-.19-.29-.45-.29-.71 0-.06.01-.13.02-.19.01-.07.03-.13.06-.19.02-.06.05-.12.09-.18.03-.05.08-.1.12-.15.1-.09.21-.16.33-.21a1 1 0 0 1 .76 0c.12.05.23.12.33.21.04.05.09.1.12.15.04.06.07.12.09.18.03.06.05.12.06.19.01.06.02.13.02.19 0 .26-.11.52-.29.71Zm0-3.5c-.1.09-.21.16-.33.21-.12.05-.25.08-.38.08s-.26-.03-.38-.08c-.13-.05-.23-.12-.33-.21-.18-.19-.29-.45-.29-.71 0-.26.11-.52.29-.71.1-.09.21-.16.33-.21a1 1 0 0 1 .76 0c.12.05.23.12.33.21.04.05.09.1.12.15.04.06.07.12.09.18.03.06.05.12.06.18.01.07.02.14.02.2 0 .26-.11.52-.29.71Zm3.5 0c-.19.18-.44.29-.71.29-.13 0-.26-.03-.38-.08-.13-.05-.23-.12-.33-.21-.18-.19-.29-.45-.29-.71 0-.06.01-.13.02-.2.01-.06.03-.12.06-.18.02-.06.05-.12.09-.18l.12-.15c.37-.37 1.04-.37 1.42 0l.12.15c.04.06.07.12.09.18.03.06.05.12.06.18.01.07.02.14.02.2 0 .26-.11.52-.29.71Z",fill:t}),e.createElement("path",{d:"M21.83 16.17a4.008 4.008 0 0 0-5.66 0 4.008 4.008 0 0 0 0 5.66 4.008 4.008 0 0 0 5.66 0 4.008 4.008 0 0 0 0-5.66Zm-.76 3.39c-.13.14-.32.22-.53.22h-.74v.78c0 .21-.08.39-.22.53s-.32.22-.53.22c-.41 0-.75-.34-.75-.75v-.78h-.75a.749.749 0 1 1 0-1.5h.75v-.71a.749.749 0 1 1 1.5 0v.71h.74c.42 0 .75.34.75.75 0 .21-.08.4-.22.53Z",fill:t}))},H=function(r){var t=r.color;return e.createElement(e.Fragment,null,e.createElement("path",{d:"M3 13.01V8.5c0-3 1.5-5 5-5h8c3.5 0 5 2 5 5v7.86c-.73-.83-1.8-1.36-3-1.36-2.21 0-4 1.79-4 4 0 .75.21 1.46.58 2.06.21.36.48.68.79.94H8c-3.5 0-5-2-5-5M8 2v3M16 2v3M3.5 9.09h17",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M18 23a4 4 0 1 0 0-8 4 4 0 0 0 0 8ZM19.49 19.05h-2.98M18 17.59v2.99",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M11.995 13.7h.009M8.295 13.7h.01M8.295 16.7h.01",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},P=function(r){var t=r.color;return e.createElement(e.Fragment,null,e.createElement("path",{d:"M16.75 3.56V2c0-.41-.34-.75-.75-.75s-.75.34-.75.75v1.5h-6.5V2c0-.41-.34-.75-.75-.75s-.75.34-.75.75v1.56c-2.7.25-4.01 1.86-4.21 4.25-.02.29.22.53.5.53h16.92c.29 0 .53-.25.5-.53-.2-2.39-1.51-4-4.21-4.25Z",fill:t}),e.createElement("path",{opacity:".4",d:"M21 10.838v1.74c0 .61-.54 1.08-1.14.98-.28-.04-.57-.07-.86-.07a5.51 5.51 0 0 0-5.5 5.5c0 .46.18 1.1.37 1.68a.998.998 0 0 1-.95 1.32H8c-3.5 0-5-2-5-5v-6.16c0-.55.45-1 1-1h16c.55.01 1 .46 1 1.01Z",fill:t}),e.createElement("path",{d:"M8.5 15c-.26 0-.52-.11-.71-.29-.18-.19-.29-.45-.29-.71 0-.26.11-.52.29-.71.23-.23.58-.34.91-.27.06.01.12.03.18.06.06.02.12.05.18.09l.15.12c.18.19.29.45.29.71 0 .26-.11.52-.29.71l-.15.12c-.06.04-.12.07-.18.09-.06.03-.12.05-.18.06-.07.01-.14.02-.2.02ZM12 15c-.26 0-.52-.11-.71-.29-.18-.19-.29-.45-.29-.71 0-.26.11-.52.29-.71.38-.37 1.05-.37 1.42 0 .18.19.29.45.29.71 0 .26-.11.52-.29.71-.19.18-.45.29-.71.29ZM8.5 18.499c-.26 0-.52-.11-.71-.29-.18-.19-.29-.45-.29-.71 0-.26.11-.52.29-.71.1-.09.2-.16.33-.21.37-.16.81-.07 1.09.21.18.19.29.45.29.71 0 .26-.11.52-.29.71-.19.18-.45.29-.71.29ZM21.83 16.17a4.008 4.008 0 0 0-5.66 0 4.008 4.008 0 0 0 0 5.66 4.008 4.008 0 0 0 5.66 0 4.008 4.008 0 0 0 0-5.66Zm-.76 3.39c-.13.14-.32.22-.53.22h-.74v.78c0 .21-.08.39-.22.53s-.32.22-.53.22c-.41 0-.75-.34-.75-.75v-.78h-.75a.749.749 0 1 1 0-1.5h.75v-.71a.749.749 0 1 1 1.5 0v.71h.74c.42 0 .75.34.75.75 0 .21-.08.4-.22.53Z",fill:t}))},k=function(r){var t=r.color;return e.createElement(e.Fragment,null,e.createElement("path",{d:"M8 2v3M16 2v3M3.5 9.09h17M18 23a4 4 0 1 0 0-8 4 4 0 0 0 0 8ZM19.49 19.05h-2.98M18 17.59v2.99",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M21 8.5v7.86c-.73-.83-1.8-1.36-3-1.36-2.21 0-4 1.79-4 4 0 .75.21 1.46.58 2.06.21.36.48.68.79.94H8c-3.5 0-5-2-5-5V8.5c0-3 1.5-5 5-5h8c3.5 0 5 2 5 5Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M11.995 13.7h.01M8.294 13.7h.01M8.294 16.7h.01",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},I=function(r){var t=r.color;return e.createElement(e.Fragment,null,e.createElement("path",{d:"M8 5.75c-.41 0-.75-.34-.75-.75V2c0-.41.34-.75.75-.75s.75.34.75.75v3c0 .41-.34.75-.75.75ZM16 5.75c-.41 0-.75-.34-.75-.75V2c0-.41.34-.75.75-.75s.75.34.75.75v3c0 .41-.34.75-.75.75ZM8.5 14.498c-.13 0-.26-.02-.38-.08-.12-.05-.23-.12-.33-.21-.18-.19-.29-.45-.29-.71 0-.13.03-.26.08-.38s.12-.23.21-.33c.1-.09.21-.16.33-.21.36-.15.81-.07 1.09.21.09.1.16.21.21.33.05.12.08.25.08.38 0 .26-.11.52-.29.71-.19.18-.45.29-.71.29ZM12 14.499c-.26 0-.52-.11-.71-.29-.09-.1-.16-.21-.21-.33a.995.995 0 0 1-.08-.38c0-.26.11-.52.29-.71.28-.28.72-.37 1.09-.21.12.05.23.12.33.21.18.19.29.45.29.71 0 .13-.02.26-.08.38-.05.12-.12.23-.21.33-.1.09-.21.16-.33.21-.12.06-.25.08-.38.08ZM8.5 17.999c-.13 0-.26-.03-.38-.08s-.23-.12-.33-.21c-.18-.19-.29-.44-.29-.71 0-.13.03-.26.08-.38.05-.13.12-.23.21-.33.1-.09.21-.16.33-.21.36-.16.81-.07 1.09.21.09.1.16.2.21.33.05.12.08.25.08.38 0 .27-.11.52-.29.71-.19.18-.45.29-.71.29ZM20.5 9.84h-17c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h17c.41 0 .75.34.75.75s-.34.75-.75.75ZM18 23.75c-2.62 0-4.75-2.13-4.75-4.75s2.13-4.75 4.75-4.75 4.75 2.13 4.75 4.75-2.13 4.75-4.75 4.75Zm0-8c-1.79 0-3.25 1.46-3.25 3.25s1.46 3.25 3.25 3.25 3.25-1.46 3.25-3.25-1.46-3.25-3.25-3.25Z",fill:t}),e.createElement("path",{d:"M19.49 19.8H16.5c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h2.99a.749.749 0 1 1 0 1.5Z",fill:t}),e.createElement("path",{d:"M18 21.33c-.41 0-.75-.34-.75-.75v-2.99c0-.41.34-.75.75-.75s.75.34.75.75v2.99c0 .41-.34.75-.75.75Z",fill:t}),e.createElement("path",{d:"M15.37 22.75H8c-3.65 0-5.75-2.1-5.75-5.75V8.5c0-3.65 2.1-5.75 5.75-5.75h8c3.65 0 5.75 2.1 5.75 5.75v7.86c0 .31-.19.59-.49.7-.29.11-.62.03-.83-.21-.62-.7-1.51-1.1-2.44-1.1-1.79 0-3.25 1.46-3.25 3.25 0 .59.16 1.17.47 1.67.17.3.39.55.63.76.24.2.33.53.22.83-.09.29-.37.49-.69.49ZM8 4.25c-2.86 0-4.25 1.39-4.25 4.25V17c0 2.86 1.39 4.25 4.25 4.25h5.82a4.7 4.7 0 0 1-.57-2.25c0-2.62 2.13-4.75 4.75-4.75.79 0 1.57.2 2.25.57V8.5c0-2.86-1.39-4.25-4.25-4.25H8Z",fill:t}))},$=function(r){var t=r.color;return e.createElement(e.Fragment,null,e.createElement("path",{d:"M8 2v3M16 2v3",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{opacity:".4",d:"M3.5 9.09h17",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M18 23a4 4 0 1 0 0-8 4 4 0 0 0 0 8ZM19.49 19.05h-2.98M18 17.59v2.99",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M21 8.5v7.86c-.73-.83-1.8-1.36-3-1.36-2.21 0-4 1.79-4 4 0 .75.21 1.46.58 2.06.21.36.48.68.79.94H8c-3.5 0-5-2-5-5V8.5c0-3 1.5-5 5-5h8c3.5 0 5 2 5 5Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{opacity:".4",d:"M11.995 13.7h.009M8.295 13.7h.01M8.295 16.7h.009",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},_=function(r,t){switch(r){case"Bold":return e.createElement(z,{color:t});case"Broken":return e.createElement(H,{color:t});case"Bulk":return e.createElement(P,{color:t});case"Linear":return e.createElement(k,{color:t});case"Outline":return e.createElement(I,{color:t});case"TwoTone":return e.createElement($,{color:t});default:return e.createElement(k,{color:t})}},u=M.forwardRef(function(a,r){var t=a.variant,p=a.color,c=a.size,h=B(a,O);return e.createElement("svg",F({},h,{xmlns:"http://www.w3.org/2000/svg",ref:r,width:c,height:c,viewBox:"0 0 24 24",fill:"none"}),_(t,p))});u.propTypes={variant:m.oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:m.string,size:m.oneOfType([m.string,m.number])};u.defaultProps={variant:"Linear",color:"currentColor",size:"24"};u.displayName="CalendarAdd";const q=1,G=10,J=[{type:"block",label:"Customer information",items:[{name:"userId",type:"customer"},{type:"group",groupItems:[{name:"numberOfPeople",type:"numberWithController",label:"Number of people"},{name:"tableNumber",type:"number",label:"Table number"}]},{name:"reservationNote",type:"textarea",placeholder:"Write customer note"}]},{type:"block",label:"Date and time",items:[{type:"datepicker",name:"reservationDate"},{type:"group",groupItems:[{type:"time",name:"startTime",label:"Start time"},{type:"time",name:"endTime",label:"End time"}]}]}];function Ce(){const{t:a}=W(),[r,t]=M.useState(!1),{mutate:p}=y(),c=C(),{items:h,isLoading:x,refresh:j}=A("/api/reservations",{search:"",page:q,limit:G,status:"",listType:"active"});return i.jsxDEV(D,{title:a("Reservation / Create"),enableDrawerSidebar:c.width<1124,children:i.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(350px,1fr),minmax(30rem,36rem)] md:flex-nowrap gap-6 lg:gap-0 py-8 px-4 md:px-8 lg:px-0 lg:py-0",children:[i.jsxDEV("div",{className:"flex items-center w-full lg:overflow-y-scroll",children:i.jsxDEV("div",{className:"max-w-2xl w-full flex flex-col items-center mx-auto",children:[i.jsxDEV(u,{size:100,className:"text-purple-500 mb-6",variant:"Bulk"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/CreateReservation.tsx",lineNumber:73,columnNumber:13},this),i.jsxDEV(V,{initialValues:{fullName:"",email:"",phoneNumber:"",userId:"",reservationDate:new Date,reservationNote:"",numberOfPeople:1,tableNumber:1,startTime:new Date,endTime:new Date},onSubmit:async(s,n)=>{const v={userId:s.userId,reservationDate:f(s.reservationDate,"yyyy-MM-dd"),startTime:f(s.startTime,"h:mm a"),endTime:f(s.endTime,"h:mm a"),numberOfPeople:s.numberOfPeople,tableNumber:String(s.tableNumber),reservationNote:s.reservationNote};try{n.setSubmitting(!0);const{data:o}=await w.post("/api/reservations",v);o!=null&&o.success&&(j(),p(d=>d.startsWith("/api/reservations")),E.success(a((o==null?void 0:o.message)||"Reservation created successfully")))}catch(o){E.error(a(o.response.data.message||"Something went wrong"))}finally{n.resetForm(),n.setSubmitting(!1)}},children:({isSubmitting:s})=>i.jsxDEV(Z,{className:"flex flex-col gap-4 w-full lg:px-4",children:[J.map((n,v)=>i.jsxDEV("div",{className:"flex flex-col gap-2 w-full p-6 bg-white rounded-md shadow-primary @container",children:[i.jsxDEV("h3",{className:"text-xl border-b border-black/10 pb-2 font-medium",children:a(n.label)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/CreateReservation.tsx",lineNumber:120,columnNumber:23},this),n.items.map((o,d)=>L(o).with({type:"group"},l=>{var g;return i.jsxDEV("div",{className:"grid grid-cols-1 @sm:grid-cols-2 gap-2",children:(g=l==null?void 0:l.groupItems)==null?void 0:g.map((b,R)=>i.jsxDEV(N,{...b,isHidden:r&&n.label==="Customer information"&&b.type!=="customer"},`${b.name}-${R}`,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/CreateReservation.tsx",lineNumber:133,columnNumber:33},this))},`group-${d}`,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/CreateReservation.tsx",lineNumber:128,columnNumber:29},this)}).otherwise(l=>i.jsxDEV(e.Fragment,{children:l.name&&i.jsxDEV(N,{...l,toggleCreationMode:t,isHidden:r&&n.label==="Customer information"&&l.type!=="customer"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/CreateReservation.tsx",lineNumber:150,columnNumber:33},this)},`${l.name}-${d}`,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/CreateReservation.tsx",lineNumber:148,columnNumber:29},this)))]},`block-${v}`,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/CreateReservation.tsx",lineNumber:116,columnNumber:21},this)),i.jsxDEV(S,{className:"bg-purple-500 hover:bg-purple-600 disabled:hover:bg-purple-600 text-white",size:"lg",type:"submit",isLoading:s,children:a("Make reservation")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/CreateReservation.tsx",lineNumber:166,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/CreateReservation.tsx",lineNumber:114,columnNumber:17},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/CreateReservation.tsx",lineNumber:74,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/CreateReservation.tsx",lineNumber:72,columnNumber:11},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/CreateReservation.tsx",lineNumber:71,columnNumber:9},this),i.jsxDEV(T,{items:h,isLoading:x},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/CreateReservation.tsx",lineNumber:179,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/CreateReservation.tsx",lineNumber:70,columnNumber:7},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/CreateReservation.tsx",lineNumber:69,columnNumber:5},this)}export{Ce as default};
