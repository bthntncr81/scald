const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["PendingTable-BxuYTos_.js","app-DV9Enp-g.js","app-D9cDmbVs.css","DataTable-CNld8Vzj.js","Pagination-BLwLKiba.js","useTranslation-B_tqir3M.js","tr-DmrvMSh4.js","_rollupPluginBabelHelpers-3bc641ae-fORsOdMW.js","ArrowDown2-BYk1CnSd.js","ArrowRight2-Cm1MJeQW.js","use_table_data-Dqvu1vx3.js","currency_formatter-Bz1CGAdC.js","DeleteOrder-DMMuBqZM.js","order_status-CM2aeLIm.js","string_formatter-C0BoQtKC.js","index-CuMLbxmh.js","PrintInvoice-D4UWVblX.js","input-BY0aN3Wh.js","popover-trigger-bCcTHQgY.js","divider-ChBlpOfM.js","generate_invoice-stSZ9ez8.js","DiscountTypeSelect-DQGXDPdn.js","use-radio-6sqGZ21b.js","visually-hidden.style-Bfr07Aua.js","platform_roles-C6HFwJ_S.js","Eye-14Q_bsoa.js","switch-B97T3cky.js","use-checkbox-CXyjvu9v.js","textarea-7dmbfoGY.js","Trash-D0bDSe0A.js","popover-arrow-CcvyMVbB.js","popover-header-BFLhNdCb.js","popover-body-Dv7tL-tk.js","popover-footer-DDOtcm9S.js","ReadyOrderTable-Bi5iU_Tv.js","PersonSelection-DKFDbMD9.js","useDebounce-BZ39Q-Ut.js","User-nTP7YzRg.js","ProcessingTable-W1FLMsbr.js","OnDeliveryTable-CPU4BkPr.js","CompletedTable-B-vIxlEw.js","CancelledTable-D4IIO6ub.js","FailedTable-DyMVHpp4.js"])))=>i.map(i=>d[i]);
import{R as O,j as e,C as a,S as T,t as S,b as I,m as L,r as d,x as u,_ as N}from"./app-DV9Enp-g.js";import{u as z}from"./use_table_data-Dqvu1vx3.js";import{u as M}from"./useDebounce-BZ39Q-Ut.js";import{O as F}from"./order_status-CM2aeLIm.js";import{s as H}from"./string_formatter-C0BoQtKC.js";import{H as v,F as W}from"./platform_roles-C6HFwJ_S.js";import{T as g,M as A,a as V,A as y,b as _,c as G}from"./ArrowDown2-BYk1CnSd.js";import{S as $}from"./switch-B97T3cky.js";import{B as k}from"./_rollupPluginBabelHelpers-3bc641ae-fORsOdMW.js";import{B as q,I as J}from"./input-BY0aN3Wh.js";import{M as K,a as Q}from"./menu-option-group-DB7xgu7N.js";import{u as X}from"./useTranslation-B_tqir3M.js";import{T as Y,a as Z,b as c,c as ee,d as p}from"./tab-panels-vLnb1L73.js";const B=new F;function te({rows:r}){const[s,h]=O.useState(),[n,i]=O.useState(),[x,U]=O.useState(),[w,R]=O.useState(""),P=M(w,300),{items:f,isLoading:C}=z("/api/users",{search:P,page:1,limit:20,type:"delivery"}),E=!!(r!=null&&r.some(t=>t.type==="delivery")),j=async t=>{var m,D;if("status"in t&&E&&(t.status==="on_delivery"||t.status==="completed")&&r.some(l=>!l.deliveryManId)){S.error(a("Select delivery man first"));return}try{const{data:o}=await I.patch("/api/orders/bulk/update",{ids:r.map(l=>l.id),...t});o!=null&&o.success?(S.success(a("Order updated successfully")),await L(l=>l.startsWith("/api/orders"))):S.error(a("Failed to update order"))}catch(o){const l=((D=(m=o==null?void 0:o.response)==null?void 0:m.data)==null?void 0:D.message)||a("Something went wrong");S.error(l)}};return e.jsxDEV("div",{className:"flex-wrap lg:flex-nowrap items-center gap-4 ml-auto flex",children:[e.jsxDEV(v,{gap:3,children:[e.jsxDEV(g,{color:"secondary.400",className:"whitespace-nowrap",children:a("Payment status")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:86,columnNumber:9},this),e.jsxDEV($,{colorScheme:"green",size:"lg",isChecked:n,onChange:t=>{const m=t.target.checked;i(m),j({paymentStatus:m})}},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:89,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:85,columnNumber:7},this),E&&e.jsxDEV(A,{matchWidth:!0,children:[e.jsxDEV(V,{as:k,variant:"outline",rightIcon:e.jsxDEV(y,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:107,columnNumber:24},this),onClick:t=>t.stopPropagation(),color:x?"inherit":"",children:(x==null?void 0:x.fullName)||a("Select delivery man")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:104,columnNumber:11},this),e.jsxDEV(_,{className:"p-1",children:C?e.jsxDEV(v,{color:"secondary.400",children:[e.jsxDEV(T,{size:"sm"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:116,columnNumber:17},this),e.jsxDEV(g,{fontSize:"sm",color:"secondary.400",py:2,px:3,children:a("Loading...")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:117,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:115,columnNumber:15},this):f.length?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(q,{className:"pb-1 border-b border-black/5",children:e.jsxDEV(J,{type:"search",placeholder:"Search delivery man",onChange:t=>R(t.target.value)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:124,columnNumber:19},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:123,columnNumber:17},this),f==null?void 0:f.map(t=>e.jsxDEV(G,{onClick:()=>{U(f.find(m=>m.id===t.id)),j({deliveryManId:t.id})},children:t.fullName},t.id,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:133,columnNumber:21},this))]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:122,columnNumber:15},this):e.jsxDEV(g,{fontSize:"sm",color:"secondary.400",py:2,px:3,children:a("No delivery man available")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:148,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:113,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:103,columnNumber:9},this),e.jsxDEV(A,{children:[e.jsxDEV(V,{as:k,variant:"outline",rightIcon:e.jsxDEV(y,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:160,columnNumber:22},this),color:s?s==null?void 0:s.fgColor:"",borderColor:s==null?void 0:s.fgColor,children:s?a(H(s==null?void 0:s.label)):a("Status")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:157,columnNumber:9},this),e.jsxDEV(_,{className:"p-1 min-w-[250px]",children:e.jsxDEV(K,{value:(s==null?void 0:s.value)||"",onChange:t=>{h(B.getStatusDetails(t)),j({status:t})},children:B.all().map(t=>!E&&t.value==="on_delivery"?null:e.jsxDEV(Q,{value:t.value,color:t.fgColor,icon:null,children:a(t.label)},t.value,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:176,columnNumber:17},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:167,columnNumber:11},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:166,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:156,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/BulkUpdateOrder.tsx",lineNumber:83,columnNumber:5},this)}const se=d.lazy(()=>N(()=>import("./PendingTable-BxuYTos_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33]))),ie=d.lazy(()=>N(()=>import("./ReadyOrderTable-Bi5iU_Tv.js"),__vite__mapDeps([34,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37]))),ae=d.lazy(()=>N(()=>import("./ProcessingTable-W1FLMsbr.js"),__vite__mapDeps([38,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37]))),re=d.lazy(()=>N(()=>import("./OnDeliveryTable-CPU4BkPr.js"),__vite__mapDeps([39,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37]))),ne=d.lazy(()=>N(()=>import("./CompletedTable-B-vIxlEw.js"),__vite__mapDeps([40,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37]))),de=d.lazy(()=>N(()=>import("./CancelledTable-D4IIO6ub.js"),__vite__mapDeps([41,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37]))),oe=d.lazy(()=>N(()=>import("./FailedTable-DyMVHpp4.js"),__vite__mapDeps([42,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37]))),b=({children:r})=>e.jsxDEV(d.Suspense,{fallback:e.jsxDEV(v,{className:"flex items-center justify-center h-32 bg-white",children:e.jsxDEV(T,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:21,columnNumber:11},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:20,columnNumber:9},void 0),children:r},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:18,columnNumber:5},void 0);function je({index:r}){const{t:s}=X(),[h,n]=d.useState([]);return e.jsxDEV("div",{className:"@container",children:e.jsxDEV(Y,{defaultIndex:r,isLazy:!0,children:[e.jsxDEV(W,{justify:"space-between",className:"h-12 flex-wrap gap-y-1.5 gap-x-4",children:h.length?e.jsxDEV(te,{rows:h},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:65,columnNumber:13},this):e.jsxDEV("div",{className:"w-full overflow-x-auto",children:e.jsxDEV(Z,{className:"flex whitespace-nowrap",children:[e.jsxDEV(c,{as:u,href:"/admin/order-status/pending",children:s("Pending")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:41,columnNumber:17},this),e.jsxDEV(c,{as:u,href:"/admin/order-status/processing",children:s("Processing")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:44,columnNumber:17},this),e.jsxDEV(c,{as:u,href:"/admin/order-status/ready",children:s("Ready")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:47,columnNumber:17},this),e.jsxDEV(c,{as:u,href:"/admin/order-status/on-delivery",children:s("On delivery")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:50,columnNumber:17},this),e.jsxDEV(c,{as:u,href:"/admin/order-status/completed",children:s("Completed")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:53,columnNumber:17},this),e.jsxDEV(c,{as:u,href:"/admin/order-status/failed",children:s("Failed")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:56,columnNumber:17},this),e.jsxDEV(c,{as:u,href:"/admin/order-status/cancelled",children:s("Cancelled")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:59,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:40,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:39,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:37,columnNumber:9},this),e.jsxDEV(ee,{children:[e.jsxDEV(p,{children:e.jsxDEV(b,{children:e.jsxDEV(se,{setSelectedRow:i=>n(i)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:72,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:71,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:70,columnNumber:11},this),e.jsxDEV(p,{children:e.jsxDEV(b,{children:e.jsxDEV(ae,{setSelectedRow:i=>n(i)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:77,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:76,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:75,columnNumber:11},this),e.jsxDEV(p,{children:e.jsxDEV(b,{children:e.jsxDEV(ie,{setSelectedRow:i=>n(i)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:82,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:81,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:80,columnNumber:11},this),e.jsxDEV(p,{children:e.jsxDEV(b,{children:e.jsxDEV(re,{setSelectedRow:i=>n(i)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:87,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:86,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:85,columnNumber:11},this),e.jsxDEV(p,{children:e.jsxDEV(b,{children:e.jsxDEV(ne,{setSelectedRow:i=>n(i)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:92,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:91,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:90,columnNumber:11},this),e.jsxDEV(p,{children:e.jsxDEV(b,{children:e.jsxDEV(oe,{setSelectedRow:i=>n(i)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:97,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:96,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:95,columnNumber:11},this),e.jsxDEV(p,{children:e.jsxDEV(b,{children:e.jsxDEV(de,{setSelectedRow:i=>n(i)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:102,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:101,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:100,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:69,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:36,columnNumber:7},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/OrderStatus.tsx",lineNumber:35,columnNumber:5},this)}export{je as O};
