import{j as e,b as C,t as p,r as x,M as W,c as U,a as $,m as Y}from"./app-DV9Enp-g.js";import{u as f}from"./useTranslation-B_tqir3M.js";import{P as ee,a as ae,b as ie}from"./popover-trigger-bCcTHQgY.js";import{a as se}from"./input-BY0aN3Wh.js";import{T as ge}from"./Trash-D0bDSe0A.js";import{B as c,u as O}from"./_rollupPluginBabelHelpers-3bc641ae-fORsOdMW.js";import{P as xe}from"./popover-header-BFLhNdCb.js";import{P as be,B as pe}from"./popover-arrow-CcvyMVbB.js";import{P as ne}from"./popover-body-Dv7tL-tk.js";import{P as te}from"./popover-footer-DDOtcm9S.js";import{c as re,a as j,e as oe}from"./index.esm-DH7tFHsH.js";import{F as le,a as de}from"./formik.esm-57hcKfmx.js";import{F as me}from"./FieldRenderer-Ds4nkS0Z.js";import{c as w}from"./currency_formatter-Bz1CGAdC.js";import{u as K,M as L,L as Ne}from"./Layout-4Yl3SVGs.js";import{E as Z}from"./Edit2-BR-gFx13.js";import{D as H,a as G,M as Q,A as _,H as Ae,B as D}from"./platform_roles-C6HFwJ_S.js";import{s as E}from"./string_formatter-C0BoQtKC.js";import{F as fe}from"./FilterSearch-1uMYI-Ol.js";import{M as z,T as b,a as I,A as R,b as q}from"./ArrowDown2-BYk1CnSd.js";import{M,a as P}from"./menu-option-group-DB7xgu7N.js";import{B as Ce}from"./BulkDeleteButton-BS9Zhni5.js";import{S as ce}from"./switch-B97T3cky.js";import{E as Te}from"./Eye-14Q_bsoa.js";import{T as Ee}from"./ToolBar-CxhXniPl.js";import{D as je}from"./DataTable-CNld8Vzj.js";import{u as ve}from"./use_table_data-Dqvu1vx3.js";import{u as Ve}from"./useDebounce-BZ39Q-Ut.js";import"./index-CuMLbxmh.js";import"./use-boolean-S__THBuA.js";import"./tag-DOREaL30.js";import"./ImageUpload-D5P185gr.js";import"./index-DOaWT0nF.js";import"./form-label-BRtD5jpz.js";import"./input-group-B3tcnjIp.js";import"./input-element-D56J_yd_.js";import"./use-radio-6sqGZ21b.js";import"./visually-hidden.style-Bfr07Aua.js";import"./radio-BkVBa4kL.js";import"./tab-panels-vLnb1L73.js";import"./format-DNgEHVKA.js";import"./Clock-DOUKTfsE.js";import"./ProfileCircle-kDGWjsR6.js";import"./accordion-panel-Bmo1-bWf.js";import"./use-checkbox-CXyjvu9v.js";import"./SearchNormal-wibGUap8.js";import"./Export-C4Sp0XrA.js";import"./Pagination-BLwLKiba.js";import"./tr-DmrvMSh4.js";import"./ArrowRight2-Cm1MJeQW.js";function ue({isIconButton:a=!1,id:r,refresh:l}){const{t:o}=f(),d=async()=>{try{const{data:t}=await C.delete(`/api/charges/${r}`);t!=null&&t.message&&(p.success(o(t==null?void 0:t.message)||o("Charge deleted successfully")),l())}catch(t){p.error(o(t.response.data.message)||o("Something went wrong"))}};return e.jsxDEV(ee,{children:({onClose:t})=>e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ae,{children:a?e.jsxDEV(se,{"aria-label":o("Delete"),icon:e.jsxDEV(ge,{size:"18"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/DeleteTaxAndCharges.tsx",lineNumber:50,columnNumber:23},this),colorScheme:"red",className:"hover:bg-red-100",variant:"outline"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/DeleteTaxAndCharges.tsx",lineNumber:48,columnNumber:15},this):e.jsxDEV(c,{variant:"outline",w:"full",colorScheme:"red",mr:3,children:o("Delete")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/DeleteTaxAndCharges.tsx",lineNumber:56,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/DeleteTaxAndCharges.tsx",lineNumber:46,columnNumber:11},this),e.jsxDEV(ie,{children:[e.jsxDEV(xe,{pt:4,fontWeight:"bold",border:"0",children:o("Confirm delete")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/DeleteTaxAndCharges.tsx",lineNumber:62,columnNumber:13},this),e.jsxDEV(be,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/DeleteTaxAndCharges.tsx",lineNumber:65,columnNumber:13},this),e.jsxDEV(ne,{whiteSpace:"normal",children:o("Are you sure you want to delete?")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/DeleteTaxAndCharges.tsx",lineNumber:66,columnNumber:13},this),e.jsxDEV(te,{border:"0",display:"flex",alignItems:"center",justifyContent:"flex-end",pb:4,children:e.jsxDEV(pe,{size:"sm",children:[e.jsxDEV(c,{colorScheme:"secondary",className:"bg-secondary-200 text-secondary-800 hover:bg-secondary-300",onClick:t,children:o("Cancel")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/DeleteTaxAndCharges.tsx",lineNumber:77,columnNumber:17},this),e.jsxDEV(c,{colorScheme:"red",className:"bg-red-400 hover:bg-red-500",onClick:d,children:o("Delete")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/DeleteTaxAndCharges.tsx",lineNumber:84,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/DeleteTaxAndCharges.tsx",lineNumber:76,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/DeleteTaxAndCharges.tsx",lineNumber:69,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/DeleteTaxAndCharges.tsx",lineNumber:61,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/DeleteTaxAndCharges.tsx",lineNumber:45,columnNumber:9},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/DeleteTaxAndCharges.tsx",lineNumber:43,columnNumber:5},this)}const De=re().shape({name:j().required("Charge name is required"),type:j().required("Charge type is required"),amount:oe().required("Charging amount is required"),amountType:j().required("Charging amount type is required")});function he({isIconButton:a=!1,data:r,refresh:l}){const{isOpen:o,onOpen:d,onClose:t}=O(),n=x.useRef(null),i=K(),{t:u}=f(),{id:m,name:S,type:y,amount:v,amountType:F,isAvailable:k}=r||{},B=[{name:"name",label:"Charge Name",type:"text",placeholder:"Enter charge name"},{name:"type",label:"Charge type",type:"radio",options:[{name:"tax",label:"Tax"},{name:"charge",label:"Charge"}]},{name:"amount",label:"Charging amount",type:"number",placeholder:"Enter amount"},{name:"amountType",label:"Charging amount type",type:"radio",options:[{name:"percentage",label:"Percentage (%)"},{name:"amount",label:`Amount (${w(0,{symbolOnly:!0})})`}]}];return e.jsxDEV(e.Fragment,{children:[a?e.jsxDEV(se,{"aria-label":"Edit",icon:e.jsxDEV(Z,{size:"18"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:76,columnNumber:17},this),colorScheme:"blue",className:"hover:bg-blue-100",variant:"outline",onClick:d},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:74,columnNumber:9},this):e.jsxDEV(c,{"aria-label":"Edit",rightIcon:e.jsxDEV(Z,{size:"18"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:85,columnNumber:22},this),colorScheme:"blue",className:"hover:bg-blue-100",variant:"outline",w:"full",onClick:d,children:u("Edit")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:83,columnNumber:9},this),e.jsxDEV(H,{isOpen:o,placement:i.width<640?"bottom":"right",size:"md",onClose:t,finalFocusRef:n,children:[e.jsxDEV(W,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:102,columnNumber:9},this),e.jsxDEV(G,{className:"h-[80%] sm:h-auto rounded-xl sm:rounded-none",children:[e.jsxDEV(L,{className:"border-b border-black/5",children:[u("Edit tax and charges"),e.jsxDEV(U,{className:"sm:hidden"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:106,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:104,columnNumber:11},this),e.jsxDEV(le,{initialValues:{name:S??"",type:y??"",amount:v??"",amountType:F??"",isAvailable:!!k},onSubmit:async(T,N)=>{try{N.setSubmitting(!0);const{data:h}=await C.put(`/api/charges/${m}`,T);h!=null&&h.success&&(t(),l(),p.success(u(h==null?void 0:h.message)||"Charges updated successfully"))}catch(h){p.error(u(h.response.data.message)||"Something went wrong")}finally{N.setSubmitting(!1)}},validationSchema:De,children:({isSubmitting:T,setFieldValue:N})=>e.jsxDEV(de,{children:[e.jsxDEV($,{className:"space-y-4",children:e.jsxDEV("div",{className:"flex flex-col gap-5",children:B.map(h=>e.jsxDEV(me,{item:h,setFieldValue:N},h.name,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:139,columnNumber:23},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:137,columnNumber:19},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:136,columnNumber:17},this),e.jsxDEV(Q,{borderTopWidth:"1px",borderColor:"secondary.200",className:"absolute bg-white w-full bottom-0",children:[e.jsxDEV(c,{variant:"outline",w:"full",mr:3,onClick:t,children:"Cancel"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:148,columnNumber:19},this),e.jsxDEV(c,{variant:"solid",colorScheme:"primary",w:"full",type:"submit",isLoading:T,className:"bg-primary-400 hover:bg-primary-500",children:"Save"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:151,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:143,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:135,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:109,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:103,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:95,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/EditTaxAndCharges.tsx",lineNumber:72,columnNumber:5},this)}function ye({filter:a,setFilter:r}){var o,d,t;const{t:l}=f();return e.jsxDEV(ee,{matchWidth:!0,children:[e.jsxDEV(ae,{children:e.jsxDEV(c,{variant:"outline",leftIcon:e.jsxDEV(fe,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:37,columnNumber:45},this),children:l("Filter")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:37,columnNumber:9},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:36,columnNumber:7},this),e.jsxDEV(ie,{children:[e.jsxDEV(ne,{className:"w-full p-2.5 flex flex-col gap-y-3",children:[e.jsxDEV(z,{matchWidth:!0,children:[e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV(b,{className:"text-secondary-500",children:l("Type")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:46,columnNumber:15},this),e.jsxDEV(I,{as:c,className:"w-full text-left justify-start bg-secondary-50 font-normal",rightIcon:e.jsxDEV(R,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:50,columnNumber:28},this),color:a.type?"inherit":"secondary.500",children:l(E(a.type||"Type"))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:47,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:45,columnNumber:13},this),e.jsxDEV(q,{className:"w-full p-1",children:e.jsxDEV(M,{value:(o=a.type)==null?void 0:o.toString(),onChange:n=>{r(i=>({...i,type:n}))},type:"radio",children:["tax","charge"].map(n=>e.jsxDEV(P,{value:n,icon:null,children:l(E(n))},n,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:65,columnNumber:19},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:57,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:56,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:44,columnNumber:11},this),e.jsxDEV(z,{matchWidth:!0,children:[e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV(b,{className:"text-secondary-500",children:l("Type")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:75,columnNumber:15},this),e.jsxDEV(I,{as:c,className:"w-full text-left justify-start bg-secondary-50 font-normal",rightIcon:e.jsxDEV(R,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:79,columnNumber:28},this),color:a.amountType?"inherit":"secondary.500",children:l(E(a.amountType||"Amount Type"))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:76,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:74,columnNumber:13},this),e.jsxDEV(q,{className:"w-full p-1",children:e.jsxDEV(M,{value:(d=a.amountType)==null?void 0:d.toString(),onChange:n=>{r(i=>({...i,amountType:n}))},type:"radio",children:["percentage","amount"].map(n=>e.jsxDEV(P,{value:n,icon:null,children:l(E(n))},n,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:94,columnNumber:19},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:86,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:85,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:73,columnNumber:11},this),e.jsxDEV(z,{matchWidth:!0,children:[e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV(b,{className:"text-secondary-500",children:l("Availability")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:105,columnNumber:15},this),e.jsxDEV(I,{as:c,className:"w-full text-left justify-start bg-secondary-50 font-normal",rightIcon:e.jsxDEV(R,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:109,columnNumber:28},this),color:a.available?"inherit":"secondary.500",children:a.available!==void 0?l(E(a.available==="true"?"Available":"Unavailable")):l("Availability")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:106,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:104,columnNumber:13},this),e.jsxDEV(q,{className:"w-full p-1",children:e.jsxDEV(M,{value:(t=a.available)==null?void 0:t.toString(),onChange:n=>{r(i=>({...i,available:n}))},type:"radio",children:["true","false"].map(n=>e.jsxDEV(P,{value:n,icon:null,children:l(E(n==="true"?"Available":"Unavailable"))},n,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:126,columnNumber:19},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:118,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:117,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:42,columnNumber:9},this),e.jsxDEV(te,{className:"border-black/5",children:e.jsxDEV(c,{size:"md",className:"w-full",onClick:()=>{r({})},children:l("Clear")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:135,columnNumber:11},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:134,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:41,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/FilterTaxAndCharges.tsx",lineNumber:35,columnNumber:5},this)}const we=re().shape({name:j().required("Name is required"),type:j().required("Charge type is required"),amount:oe().required("Amount is required"),amountType:j().required("Amount type is required")}),Se=[{name:"name",label:"Name",type:"text",placeholder:"Tax/charge name"},{name:"type",label:"Charge type",type:"radio",options:[{name:"tax",label:"Tax"},{name:"charge",label:"Charge"}]},{name:"amount",label:"Charging amount",type:"number",placeholder:"Add charge amount"},{name:"amountType",label:"Charging amount type",type:"radio",options:[{name:"percentage",label:"Percentage (%)"},{name:"amount",label:`Amount (${w(0,{symbolOnly:!0})})`}]}];function Fe({refresh:a}){const{t:r}=f(),{isOpen:l,onOpen:o,onClose:d}=O(),t=x.useRef(null),n=K();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(c,{variant:"solid",colorScheme:"primary",className:"bg-primary-400 hover:bg-primary-500",rightIcon:e.jsxDEV(_,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:67,columnNumber:20},this),onClick:o,children:r("Create new")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:63,columnNumber:7},this),e.jsxDEV(H,{isOpen:l,placement:n.width<640?"bottom":"right",size:"md",onClose:d,finalFocusRef:t,children:[e.jsxDEV(W,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:79,columnNumber:9},this),e.jsxDEV(G,{className:"h-[80%] sm:h-auto rounded-xl sm:rounded-none",children:[e.jsxDEV(L,{className:"border-b border-black/5",children:[r("Create new tax/charge"),e.jsxDEV(U,{className:"sm:hidden"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:83,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:81,columnNumber:11},this),e.jsxDEV(le,{initialValues:{name:"",type:"",amount:"",amountType:"",isAvailable:!0},onSubmit:async(i,u)=>{try{u.setSubmitting(!0);const{data:m}=await C.post("/api/charges",i);m!=null&&m.success&&(d(),a(),p.success(m.message))}catch(m){p.error(r(m.response.data.message)||r("Something went wrong"))}finally{u.setSubmitting(!1)}},validationSchema:we,children:({isSubmitting:i,setFieldValue:u})=>e.jsxDEV(de,{children:[e.jsxDEV($,{className:"space-y-4",children:Se.map(m=>e.jsxDEV("div",{className:"flex flex-col gap-5 border-b border-black/5 pb-4",children:e.jsxDEV(me,{item:m,setFieldValue:u},m.name,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:119,columnNumber:23},this)},m.name,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:115,columnNumber:21},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:113,columnNumber:17},this),e.jsxDEV(Q,{borderTopWidth:"1px",borderColor:"secondary.200",className:"absolute bg-white w-full bottom-0",children:[e.jsxDEV(c,{variant:"outline",w:"full",mr:3,onClick:d,children:r("Cancel")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:128,columnNumber:19},this),e.jsxDEV(c,{variant:"solid",colorScheme:"primary",w:"full",type:"submit",isLoading:i,className:"bg-primary-400 hover:bg-primary-500",rightIcon:e.jsxDEV(_,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:138,columnNumber:32},this),children:r("Create")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:131,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:123,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:112,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:86,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:80,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:72,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/NewTaxAndCharge.tsx",lineNumber:62,columnNumber:5},this)}function ke({rows:a,reset:r,available:l,setAvailable:o}){const{t:d}=f(),t=i=>{p.promise(C.patch("/api/charges/bulk/update",{ids:a.map(u=>u.id),isAvailable:i}),{loading:d("Updating availability..."),success:()=>(Y(u=>u.startsWith("/api/charges")),d("Tax/charges availability updated successfully")),error:()=>d("Failed to update tax/charges availability")})},n=()=>{p.promise(C.delete("/api/charges/bulk/delete",{data:{ids:a.map(i=>i.id)}}),{loading:d("Deleting..."),success:()=>(r==null||r(),Y(i=>i.startsWith("/api/charges")),d("Tax/charges deleted successfully")),error:()=>d("Failed to delete tax/charges")})};return e.jsxDEV("div",{className:"w-full flex items-center justify-end",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV(Ae,{className:"ml-auto",children:[e.jsxDEV(b,{color:"secondary.400",children:[" ",d("Availability")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/TaxAndChargeBulkUpdateBar.tsx",lineNumber:67,columnNumber:11},this),e.jsxDEV(ce,{size:"lg",colorScheme:"green",isChecked:l,onChange:i=>{o(i.target.checked),t(i.target.checked)}},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/TaxAndChargeBulkUpdateBar.tsx",lineNumber:68,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/TaxAndChargeBulkUpdateBar.tsx",lineNumber:66,columnNumber:9},this),e.jsxDEV(Ce,{onDelete:n},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/TaxAndChargeBulkUpdateBar.tsx",lineNumber:79,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/TaxAndChargeBulkUpdateBar.tsx",lineNumber:65,columnNumber:7},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/TaxAndChargeBulkUpdateBar.tsx",lineNumber:64,columnNumber:5},this)}function Be({isAvailable:a,id:r,refresh:l}){const{t:o}=f(),d=async t=>{try{const{data:n,status:i}=await C.patch(`/api/charges/${r}`,{isAvailable:t});i===200&&(p.success(o(n.message)),l())}catch(n){C.isAxiosError(n)&&p.error(o("Something went wrong"))}};return e.jsxDEV(ce,{colorScheme:"green",defaultChecked:!!a,size:"lg",onChange:t=>d(t.target.checked)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ToggleAvailability.tsx",lineNumber:35,columnNumber:5},this)}function ze({data:a,refresh:r}){const{isOpen:l,onOpen:o,onClose:d}=O(),t=x.useRef(null),n=K(),{t:i}=f();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(c,{variant:"outline",colorScheme:"secondary",className:"border-secondary-200 text-secondary-800 hover:bg-secondary-100",rightIcon:e.jsxDEV(Te,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:40,columnNumber:20},this),onClick:o,children:i("View")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:36,columnNumber:7},this),e.jsxDEV(H,{isOpen:l,placement:n.width<640?"bottom":"right",size:"md",onClose:d,finalFocusRef:t,children:[e.jsxDEV(W,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:53,columnNumber:9},this),e.jsxDEV(G,{className:"h-[80%] sm:h-auto rounded-xl sm:rounded-none",children:[e.jsxDEV(L,{className:"border-b border-black/5",children:[i("Tax and Charges"),e.jsxDEV(U,{className:"sm:hidden"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:58,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:55,columnNumber:11},this),e.jsxDEV($,{children:e.jsxDEV("div",{className:"flex flex-col gap-5",children:[e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV(b,{className:"text-secondary-500",children:i("Charge name")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:64,columnNumber:17},this),e.jsxDEV(b,{as:"h5",fontSize:"lg",fontWeight:"semibold",children:i(a.name)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:65,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:63,columnNumber:15},this),e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV(b,{className:"text-secondary-500",children:i("Charge type")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:71,columnNumber:17},this),e.jsxDEV(D,{size:"lg",variant:"solid",colorScheme:a.type==="tax"?"blue":"primary",className:"w-fit",children:i(a.type)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:72,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:70,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV(b,{className:"text-secondary-500",children:i("Charge amount")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:84,columnNumber:19},this),e.jsxDEV(b,{as:"h5",fontSize:"lg",fontWeight:"semibold",children:a.amountType==="amount"?`${w(a.amount)}`:`${a.amount}%`},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:85,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:83,columnNumber:17},this),e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV(b,{className:"text-secondary-500",children:i("Amount type")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:93,columnNumber:19},this),e.jsxDEV(D,{size:"lg",variant:"solid",colorScheme:a.amountType==="percentage"?"primary":"blue",className:"w-fit",children:i(a.amountType)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:94,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:92,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:82,columnNumber:15},this),e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV(b,{className:"text-secondary-500",children:i("Availability")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:106,columnNumber:17},this),e.jsxDEV(D,{size:"lg",variant:"solid",colorScheme:a.isAvailable?"green":"primary",className:"w-fit",children:i(a.isAvailable?"Available":"Unavailable")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:107,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:105,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:62,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:61,columnNumber:11},this),e.jsxDEV(Q,{borderTopWidth:"1px",borderColor:"secondary.200",className:"absolute bg-white w-full bottom-0",children:[e.jsxDEV(c,{variant:"outline",w:"full",mr:3,onClick:d,children:i("Close")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:124,columnNumber:13},this),e.jsxDEV(ue,{id:a==null?void 0:a.id,refresh:r},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:127,columnNumber:13},this),e.jsxDEV(he,{data:a,refresh:r},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:128,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:119,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:54,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:46,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/TaxAndCharges/ViewTaxAndCharges.tsx",lineNumber:35,columnNumber:5},this)}function Fa(){const{t:a}=f(),[r,l]=x.useState(1),[o,d]=x.useState(10),[t,n]=x.useState(""),[i,u]=x.useState([]),[m,S]=x.useState({}),[y,v]=x.useState([]),[F,k]=x.useState(!1),B=Ve(t,300),{items:T,meta:N,isLoading:h,refresh:V,isValidating:J}=ve("/api/charges",{page:r,limit:o,search:B,available:m.available,type:m.type,amountType:m.amountType});return x.useEffect(()=>{!J&&T.length===0&&v([])},[J]),e.jsxDEV(Ne,{title:a("Tax and charges"),children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV(Ee,{bulkAction:{isBulkAction:!!y.length,BulkUpdateBar:()=>e.jsxDEV(ke,{rows:y,reset:()=>v([]),available:F,setAvailable:k},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:61,columnNumber:15},this)},filter:e.jsxDEV(ye,{filter:m,setFilter:S},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:69,columnNumber:19},this),AddNew:()=>e.jsxDEV(Fe,{refresh:V},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:70,columnNumber:25},this),setSearchQuery:n},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:57,columnNumber:9},this),e.jsxDEV(je,{data:T,isLoading:h,sorting:i,setSorting:u,onRowSelection:v,getRowId:s=>s.id,enableMultiRowSelection:!0,pagination:{total:N==null?void 0:N.total,page:r,setPage:l,limit:o,setLimit:d},structure:[{accessorKey:"checkbox",enableSorting:!1,header:({table:s})=>e.jsxDEV("input",{type:"checkbox",checked:s==null?void 0:s.getIsAllRowsSelected(),onChange:s==null?void 0:s.getToggleAllRowsSelectedHandler(),className:"accent-primary-500 cursor-pointer scale-110"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:94,columnNumber:17},this),cell:({row:s})=>e.jsxDEV("input",{type:"checkbox",checked:s==null?void 0:s.getIsSelected(),onChange:s==null?void 0:s.getToggleSelectedHandler(),className:"accent-primary-500 cursor-pointer scale-110"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:102,columnNumber:17},this)},{accessorKey:"id",header:()=>a("SL"),cell:s=>s.row.index+1},{accessorKey:"name",header:()=>a("Charge Name")},{accessorKey:"amount",header:()=>a("Charge amount"),cell:({row:s})=>{var g,A,X;return e.jsxDEV("span",{className:"font-bold",children:((g=s.original)==null?void 0:g.amountType)==="percentage"?`${(A=s.original)==null?void 0:A.amount}%`:`${w((X=s.original)==null?void 0:X.amount)}`},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:123,columnNumber:17},this)}},{accessorKey:"type",header:()=>a("Charge type"),cell:({row:s})=>{var g,A;return e.jsxDEV(D,{variant:"solid",colorScheme:((g=s.original)==null?void 0:g.type)==="tax"?"teal":"primary",children:a((A=s.original)==null?void 0:A.type)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:134,columnNumber:17},this)}},{accessorKey:"amountType",header:()=>a("Amount type"),cell:({row:s})=>{var g,A;return e.jsxDEV(D,{variant:"solid",colorScheme:((g=s.original)==null?void 0:g.amountType)==="amount"?"teal":"primary",children:a((A=s.original)==null?void 0:A.amountType)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:146,columnNumber:17},this)}},{accessorKey:"isAvailable",header:()=>a("Availability"),cell:({row:s})=>{var g;return e.jsxDEV(Be,{isAvailable:(g=s.original)==null?void 0:g.isAvailable,refresh:V,id:s.original.id},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:158,columnNumber:17},this)}},{accessorKey:"actions",header:()=>a("Actions"),cell:({row:s})=>e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(ze,{data:s.original,refresh:V},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:170,columnNumber:19},this),e.jsxDEV(he,{isIconButton:!0,data:s.original,refresh:V},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:171,columnNumber:19},this),e.jsxDEV(ue,{isIconButton:!0,id:s.original.id,refresh:V},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:172,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:169,columnNumber:17},this)}]},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:74,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:56,columnNumber:7},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/TaxAndCharges.tsx",lineNumber:55,columnNumber:5},this)}export{Fa as default};
