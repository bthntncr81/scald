import{u as V,f as F,r as S,j as e,S as I,b as L,t as c,I as N}from"./app-DV9Enp-g.js";import{P as x}from"./ProfileLayout-BnQrKly8.js";import{F as O,a as T,b as h,c as y}from"./formik.esm-57hcKfmx.js";import{u as z}from"./useTranslation-B_tqir3M.js";import{F as g,B as E,I as P,a as j}from"./input-BY0aN3Wh.js";import{F as v}from"./form-label-BRtD5jpz.js";import{E as w}from"./Eye-14Q_bsoa.js";import{E as C}from"./EyeSlash-BmaZhiGA.js";import{B as R}from"./_rollupPluginBabelHelpers-3bc641ae-fORsOdMW.js";import"./CustomerHeader-Yt-OgDBY.js";import"./validate_required_variants-CWNFFnRe.js";import"./platform_roles-C6HFwJ_S.js";import"./ArrowDown2-BYk1CnSd.js";import"./Minus-hQCtIxHU.js";import"./currency_formatter-Bz1CGAdC.js";import"./use-radio-6sqGZ21b.js";import"./visually-hidden.style-Bfr07Aua.js";import"./TickCircle-C8Z4cRgD.js";import"./index-CuMLbxmh.js";import"./Edit2-BR-gFx13.js";import"./tr-DmrvMSh4.js";import"./radio-BkVBa4kL.js";import"./checkbox-0eFyDNwp.js";import"./use-checkbox-CXyjvu9v.js";import"./popover-trigger-bCcTHQgY.js";import"./divider-ChBlpOfM.js";import"./Trash-D0bDSe0A.js";import"./textarea-7dmbfoGY.js";import"./popover-anchor-BlKiDovh.js";import"./input-group-B3tcnjIp.js";import"./input-element-D56J_yd_.js";import"./SearchNormal-wibGUap8.js";import"./popover-body-Dv7tL-tk.js";import"./link-B3Pi-QCK.js";import"./ProfileCircle-kDGWjsR6.js";function B(){const{data:r,error:o,isLoading:n,...a}=V("/api/auth/check",F,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!0,shouldRetryOnError:!1});return{data:r,isLoading:n,error:o,...a}}const k=[{id:"3b07e15c-f596-4fc4-977d-3aaaeee49669",groupTitle:"Personal information",items:[{name:"firstName",label:"First name",type:"text",placeholder:"Enter your first name"},{name:"lastName",label:"Last name",type:"text",placeholder:"Enter your last name"},{name:"email",label:"Email",type:"email",placeholder:"Enter your email",readOnly:!0},{name:"phoneNumber",label:"Phone",type:"tel",placeholder:"Enter your phone number"}]},{id:"538e037c-4a44-4966-ad82-a80475f60717",groupTitle:"Delivery address",items:[{name:"address",label:"Address",type:"text",placeholder:"Enter your address"}]}],A=[{id:"c37bbf72-178d-4232-9d24-d5e21bfbf437",groupTitle:"Password",items:[{name:"password",label:"Current password",type:"password",placeholder:"Enter your current password"},{name:"newPassword",label:"New password",type:"password",placeholder:"Enter your new password"},{name:"confirmPassword",label:"Confirm password",type:"password",placeholder:"Confirm new password"}]}];function Pe(){var d,u,f,p,b;const{t:r}=z(),[o,n]=S.useState(!1),{data:a,isLoading:D,mutate:M}=B();return D?e.jsxDEV(x,{children:e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center",children:e.jsxDEV(I,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:88,columnNumber:11},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:87,columnNumber:9},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:86,columnNumber:7},this):e.jsxDEV(x,{children:e.jsxDEV("div",{className:"w-full max-w-[900px] mx-auto",children:e.jsxDEV("div",{className:"w-full px-6 pb-10",children:e.jsxDEV(O,{initialValues:{firstName:((d=a==null?void 0:a.user)==null?void 0:d.firstName)||"",lastName:((u=a==null?void 0:a.user)==null?void 0:u.lastName)||"",email:((f=a==null?void 0:a.user)==null?void 0:f.email)||"",phoneNumber:((p=a==null?void 0:a.user)==null?void 0:p.phoneNumber)||"",address:((b=a==null?void 0:a.user)==null?void 0:b.address)||"",password:"",newPassword:"",confirmPassword:""},onSubmit:async(m,i)=>{try{const{data:s,status:t}=await L.put("/api/users/profile/update",m);(s!=null&&s.success&&t===200||t===201)&&(M(),c.success(r("Profile updated successfully")))}catch(s){c.error(r(s.response.data.message||"Something went wrong"))}finally{i.setSubmitting(!1)}},children:({isSubmitting:m})=>e.jsxDEV(T,{className:"flex gap-4 w-full",children:[e.jsxDEV("div",{className:"w-full",children:k.map(i=>e.jsxDEV("div",{className:"w-full py-4 flex flex-col gap-y-2",children:[e.jsxDEV("h3",{className:"text-base font-normal",children:r(i.groupTitle)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:128,columnNumber:23},this),i.items.map(s=>e.jsxDEV(h,{name:s.name,children:({field:t,meta:l})=>e.jsxDEV(g,{isInvalid:!!(l.touched&&l.error),children:[e.jsxDEV(E,{"data-label":!s.label,className:`relative border rounded-2xl px-4 py-1.5 border-secondary-300 data-[label=true]:py-4 ${s.readOnly&&"text-secondary-500 opacity-70"}`,children:[s.label&&e.jsxDEV(v,{className:"m-0 text-secondary-500 text-xs leading-5 font-normal",children:r(s.label)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:138,columnNumber:35},this),e.jsxDEV(P,{rounded:"full",type:s.type==="password"&&o?"text":s.type,placeholder:r(s.placeholder),readOnly:s.readOnly,className:"bg-white border-none p-0 h-fit rounded-none font-normal text-base",...t},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:142,columnNumber:33},this),s.type==="password"&&e.jsxDEV(j,{"aria-label":"Show password",size:"sm",variant:"ghost",onClick:()=>n(!o),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10",children:e.jsxDEV(N,{as:o?w:C,className:"size-5 text-secondary-600"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:159,columnNumber:37},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:152,columnNumber:35},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:133,columnNumber:31},this),e.jsxDEV(y,{children:r(l.error)||""},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:167,columnNumber:31},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:132,columnNumber:29},this)},s.name,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:130,columnNumber:25},this))]},i.id,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:127,columnNumber:21},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:125,columnNumber:17},this),e.jsxDEV("div",{className:"w-full flex flex-col items-end",children:[A.map(i=>e.jsxDEV("div",{className:"w-full py-4 flex flex-col gap-y-2",children:[e.jsxDEV("h3",{className:"text-base font-normal",children:r(i.groupTitle)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:178,columnNumber:23},this),i.items.map(s=>e.jsxDEV(h,{name:s.name,children:({field:t,meta:l})=>e.jsxDEV(g,{isInvalid:!!(l.touched&&l.error),children:[e.jsxDEV(E,{"data-label":!s.label,className:"relative border rounded-2xl px-4 py-1.5 border-secondary-300 data-[label=true]:py-4",children:[s.label&&e.jsxDEV(v,{className:"m-0 text-secondary-500 text-xs leading-5 font-normal",children:r(s.label)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:188,columnNumber:35},this),e.jsxDEV(P,{rounded:"full",type:s.type==="password"&&o?"text":s.type,placeholder:r(s.placeholder),className:"bg-white border-none p-0 h-fit rounded-none font-normal text-base",...t},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:192,columnNumber:33},this),s.type==="password"&&e.jsxDEV(j,{"aria-label":"Show password",size:"sm",variant:"ghost",onClick:()=>n(!o),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10",children:e.jsxDEV(N,{as:o?w:C,className:"size-5 text-secondary-600"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:208,columnNumber:37},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:201,columnNumber:35},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:183,columnNumber:31},this),e.jsxDEV(y,{children:r(l.error)||""},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:216,columnNumber:31},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:182,columnNumber:29},this)},s.name,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:180,columnNumber:25},this))]},i.id,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:177,columnNumber:21},this)),e.jsxDEV(R,{className:"bg-secondary-700 text-white rounded-full px-4 py-2.5 hover:bg-secondary-900 text-sm font-medium",type:"submit",disabled:m,isLoading:m,children:r("UPDATE PROFILE")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:223,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:175,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:124,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:98,columnNumber:11},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:97,columnNumber:9},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:96,columnNumber:7},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:95,columnNumber:5},this)}export{Pe as default};
