import{t as re,v as ie}from"./visually-hidden.style-Bfr07Aua.js";import{al as ce,n as I,r as s,y as P,w as le,A as i,z as G}from"./app-p3FobzL5.js";import{u as de}from"./input-cx0LjzCS.js";import{d as a}from"./_rollupPluginBabelHelpers-3bc641ae-btRFf1Fy.js";function me(k={}){const J=de(k),{isDisabled:t,isReadOnly:d,isRequired:F,isInvalid:r,id:R,onBlur:Q,onFocus:W,"aria-describedby":B}=J,{defaultChecked:M,isChecked:w,isFocusable:X,onChange:Y,isIndeterminate:u,name:p,value:A,tabIndex:x=void 0,"aria-label":K,"aria-labelledby":U,"aria-invalid":L,...Z}=k,S=ce(Z,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),m=I(Y),q=I(Q),H=I(W),[h,_]=s.useState(!1),[f,C]=s.useState(!1),[v,O]=s.useState(!1),[y,b]=s.useState(!1);s.useEffect(()=>re(_),[]);const c=s.useRef(null),[V,$]=s.useState(!0),[ee,D]=s.useState(!!M),E=w!==void 0,n=E?w:ee,T=s.useCallback(e=>{if(d||t){e.preventDefault();return}E||D(n?e.currentTarget.checked:u?!0:e.currentTarget.checked),m==null||m(e)},[d,t,n,E,u,m]);P(()=>{c.current&&(c.current.indeterminate=!!u)},[u]),le(()=>{t&&C(!1)},[t,C]),P(()=>{const e=c.current;if(!(e!=null&&e.form))return;const o=()=>{D(!!M)};return e.form.addEventListener("reset",o),()=>{var l;return(l=e.form)==null?void 0:l.removeEventListener("reset",o)}},[]);const z=t&&!X,N=s.useCallback(e=>{e.key===" "&&b(!0)},[b]),j=s.useCallback(e=>{e.key===" "&&b(!1)},[b]);P(()=>{if(!c.current)return;c.current.checked!==n&&D(c.current.checked)},[c.current]);const ae=s.useCallback((e={},o=null)=>{const l=g=>{f&&g.preventDefault(),b(!0)};return{...e,ref:o,"data-active":a(y),"data-hover":a(v),"data-checked":a(n),"data-focus":a(f),"data-focus-visible":a(f&&h),"data-indeterminate":a(u),"data-disabled":a(t),"data-invalid":a(r),"data-readonly":a(d),"aria-hidden":!0,onMouseDown:i(e.onMouseDown,l),onMouseUp:i(e.onMouseUp,()=>b(!1)),onMouseEnter:i(e.onMouseEnter,()=>O(!0)),onMouseLeave:i(e.onMouseLeave,()=>O(!1))}},[y,n,t,f,h,v,u,r,d]),te=s.useCallback((e={},o=null)=>({...e,ref:o,"data-active":a(y),"data-hover":a(v),"data-checked":a(n),"data-focus":a(f),"data-focus-visible":a(f&&h),"data-indeterminate":a(u),"data-disabled":a(t),"data-invalid":a(r),"data-readonly":a(d)}),[y,n,t,f,h,v,u,r,d]),se=s.useCallback((e={},o=null)=>({...S,...e,ref:G(o,l=>{l&&$(l.tagName==="LABEL")}),onClick:i(e.onClick,()=>{var l;V||((l=c.current)==null||l.click(),requestAnimationFrame(()=>{var g;(g=c.current)==null||g.focus({preventScroll:!0})}))}),"data-disabled":a(t),"data-checked":a(n),"data-invalid":a(r)}),[S,t,n,r,V]),ne=s.useCallback((e={},o=null)=>({...e,ref:G(c,o),type:"checkbox",name:p,value:A,id:R,tabIndex:x,onChange:i(e.onChange,T),onBlur:i(e.onBlur,q,()=>C(!1)),onFocus:i(e.onFocus,H,()=>C(!0)),onKeyDown:i(e.onKeyDown,N),onKeyUp:i(e.onKeyUp,j),required:F,checked:n,disabled:z,readOnly:d,"aria-label":K,"aria-labelledby":U,"aria-invalid":L?!!L:r,"aria-describedby":B,"aria-disabled":t,style:ie}),[p,A,R,T,q,H,N,j,F,n,z,d,K,U,L,r,B,t,x]),oe=s.useCallback((e={},o=null)=>({...e,ref:o,onMouseDown:i(e.onMouseDown,ue),"data-disabled":a(t),"data-checked":a(n),"data-invalid":a(r)}),[n,t,r]);return{state:{isInvalid:r,isFocused:f,isChecked:n,isActive:y,isHovered:v,isIndeterminate:u,isDisabled:t,isReadOnly:d,isRequired:F},getRootProps:se,getCheckboxProps:ae,getIndicatorProps:te,getInputProps:ne,getLabelProps:oe,htmlProps:S}}function ue(k){k.preventDefault(),k.stopPropagation()}export{me as u};
