import{r as a,j as r}from"./app-p3FobzL5.js";import{F as x,V as R}from"./ViewReservation-Cmmat_Np.js";import{T as g}from"./ToolBar-BbtEQ1iQ.js";import{D as A}from"./DataTable-Dg7GowNh.js";import{L as j}from"./Layout-AyYa8XQx.js";import{u as E}from"./use_table_data-mkdPdtFX.js";import{u as V}from"./useDebounce-C3LzOcPg.js";import{u as H}from"./useTranslation-jbS6ivqO.js";import{B as U}from"./platform_roles-D3HjcMuK.js";import{f as n}from"./format-DNgEHVKA.js";/* empty css            */import"./FieldRenderer-DBnXtxM-.js";import"./formik.esm-C9K4NhZh.js";import"./input-cx0LjzCS.js";import"./_rollupPluginBabelHelpers-3bc641ae-btRFf1Fy.js";import"./index-CuMLbxmh.js";import"./NewCustomerSchema-Bv1JN8aw.js";import"./index.esm-vozbR36e.js";import"./Minus-CX-dPmlg.js";import"./popover-trigger-D9abZrFQ.js";import"./ArrowDown2-DM1rERZ4.js";import"./popover-header-DBc-fTNW.js";import"./popover-body-Cnhf1gCL.js";import"./use-boolean-De0xEA2B.js";import"./index-CTyIfV9B.js";import"./Calendar-DKjvVyJ0.js";import"./ArrowRight2-OjDQz_0a.js";import"./Clock-6LrARp7T.js";import"./string_formatter-C0BoQtKC.js";import"./form-label-rj1Y5muO.js";import"./input-group-3FZosNBb.js";import"./input-addon-B-GPb1QT.js";import"./textarea-pmQ9KYwB.js";import"./FilterSearch-xi2SBHqX.js";import"./menu-option-group-DwzCappL.js";import"./popover-footer-Bj-c8mCp.js";import"./Edit2-BUbnZjhm.js";import"./parse-B5ZfNmo9.js";import"./Trash-CzXP6s3A.js";import"./popover-arrow-cOi1xr-l.js";import"./Eye-BnFH3BGQ.js";import"./input-element-DW2n0nal.js";import"./SearchNormal-CydsvnL-.js";import"./Export-BL6q9MYm.js";import"./Pagination-CMtLnuaE.js";import"./tr-EefZORq7.js";import"./tab-panels-DHV8yGV0.js";import"./ProfileCircle-DpyEwL7u.js";import"./accordion-panel-C6BP8wfC.js";function je(){const{t}=H(),[u,c]=a.useState(1),[l,p]=a.useState(10),[d,h]=a.useState(""),[v,b]=a.useState([]),[i,N]=a.useState({}),y=V(d,300),{items:f,meta:m,isLoading:D}=E("/api/reservations",{search:y,page:u,limit:l,status:i.status,listType:"history",reservationDate:i!=null&&i.reservationDate?n(i==null?void 0:i.reservationDate,"yyyy-MM-dd"):void 0});return r.jsxDEV(j,{title:t("Reservations history"),children:r.jsxDEV("div",{className:"p-6",children:[r.jsxDEV(g,{filter:r.jsxDEV(x,{filter:i,setFilter:N},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:47,columnNumber:19},this),setSearchQuery:h,exportUrl:"/api/reservations/export/all?listType=history"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:46,columnNumber:9},this),r.jsxDEV(A,{data:f,isLoading:D,sorting:v,setSorting:b,pagination:{total:m==null?void 0:m.total,page:u,setPage:c,limit:l,setLimit:p},structure:[{accessorKey:"id",header:()=>t("SL"),cell:e=>e.row.index+1},{accessorKey:"createdAt",header:()=>t("Created On"),cell:({row:e})=>{var s,o;return r.jsxDEV("div",{className:"space-y-1",children:[r.jsxDEV("p",{className:"font-bold",children:n(new Date((s=e.original)==null?void 0:s.createdAt),"dd MMM yyyy")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:75,columnNumber:19},this),r.jsxDEV("p",{children:n(new Date((o=e.original)==null?void 0:o.createdAt),"hh:mm a")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:78,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:74,columnNumber:17},this)}},{accessorKey:"user.fullName",header:()=>t("Customer name")},{accessorKey:"user.phoneNumber",header:()=>t("Contact number")},{accessorKey:"reservationDate",header:()=>t("Time & Date"),cell:({row:e})=>{var s;return r.jsxDEV("div",{className:"space-y-1",children:[r.jsxDEV("p",{className:"font-bold",children:n((s=e.original)==null?void 0:s.reservationDate,"dd MMM yyyy")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:95,columnNumber:19},this),r.jsxDEV("p",{children:[e.original.startTime," ",t("to")," ",e.original.endTime]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:98,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:94,columnNumber:17},this)}},{accessorKey:"numberOfPeople",header:()=>t("People"),cell:({row:e})=>{var s;return r.jsxDEV("span",{className:"font-bold",children:(s=e.original)==null?void 0:s.numberOfPeople},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:107,columnNumber:34},this)}},{accessorKey:"tableNumber",header:()=>t("Table No"),cell:({row:e})=>{var s;return r.jsxDEV("span",{className:"font-bold",children:(s=e.original)==null?void 0:s.tableNumber},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:112,columnNumber:34},this)}},{accessorKey:"status",header:()=>t("Status"),cell:({row:e})=>{var s,o;return r.jsxDEV(U,{colorScheme:((s=e.original)==null?void 0:s.status)==="cancelled"?"red":"green",children:t((o=e.original)==null?void 0:o.status)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:118,columnNumber:17},this)}},{accessorKey:"action",header:()=>t("Action"),cell:({row:e})=>r.jsxDEV(R,{reservation:e.original,refresh:()=>{}},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:127,columnNumber:34},this)}]},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:52,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:45,columnNumber:7},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:44,columnNumber:5},this)}export{je as default};
