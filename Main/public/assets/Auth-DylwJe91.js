import{r as x,j as e,I as w,b as D,t as l,a2 as u,x as d,S as y}from"./app-p3FobzL5.js";import{c as g,a as n,f as k}from"./index.esm-vozbR36e.js";import{u as U,c as j,F as v,a as A}from"./formik.esm-C9K4NhZh.js";import{z as V}from"./index-CuMLbxmh.js";import{u as c}from"./useTranslation-jbS6ivqO.js";import{F as S,B as F,I as b,a as L}from"./input-cx0LjzCS.js";import{E as q}from"./Eye-BnFH3BGQ.js";import{E as P}from"./EyeSlash-D60LoThr.js";import{R as m}from"./platform_roles-D3HjcMuK.js";import{C as I}from"./checkbox-r7APxjHP.js";import{B as E}from"./_rollupPluginBabelHelpers-3bc641ae-btRFf1Fy.js";import{C}from"./CustomerLayout-B-isIdbx.js";import{T,a as R,b as N,c as B,d as f}from"./tab-panels-DHV8yGV0.js";/* empty css            */import"./ArrowDown2-DM1rERZ4.js";import"./use-checkbox-fX-NceDq.js";import"./visually-hidden.style-Bfr07Aua.js";import"./CustomerHeader-C04vMqIV.js";import"./validate_required_variants-D2yQpkaP.js";import"./Minus-CX-dPmlg.js";import"./currency_formatter-Bz1CGAdC.js";import"./use-radio-BmR54MTD.js";import"./TickCircle-BeldSHqy.js";import"./Edit2-BUbnZjhm.js";import"./tr-EefZORq7.js";import"./radio-Bmoumz0n.js";import"./popover-trigger-D9abZrFQ.js";import"./divider-CHTuOarn.js";import"./Trash-CzXP6s3A.js";import"./textarea-pmQ9KYwB.js";import"./popover-anchor-B8g7wOff.js";import"./input-group-3FZosNBb.js";import"./input-element-DW2n0nal.js";import"./SearchNormal-CydsvnL-.js";import"./popover-body-Cnhf1gCL.js";const z=g().shape({email:n().email("Invalid email address").required("Email is required"),password:n().required("Password is required")});function p({name:s,...r}){const{t:o}=c(),[a,t]=x.useState(!1),[i,h]=U(s);return e.jsxDEV(S,{isInvalid:!!(h.touched&&h.error),children:[e.jsxDEV(F,{className:"relative border rounded-2xl px-4 py-1.5 border-secondary-300 focus-within:border-primary-500",children:[r.label&&r.type!=="password"&&e.jsxDEV("label",{className:"text-xs leading-4 font-normal text-secondary-500",children:r.label},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/FormField.tsx",lineNumber:24,columnNumber:11},this),V(r).with({type:"password"},()=>e.jsxDEV(e.Fragment,{children:[e.jsxDEV(b,{rounded:"full",type:a?"text":r.type,placeholder:o(r.placeholder||""),className:"bg-white border-none leading-6 p-0 rounded-none font-normal text-base focus:outline-none focus:ring-0",...i},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/FormField.tsx",lineNumber:29,columnNumber:15},this),e.jsxDEV(L,{"aria-label":"Show password",size:"sm",variant:"ghost",onClick:()=>t(!a),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10",children:e.jsxDEV(w,{as:a?q:P,className:"size-5 text-secondary-600"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/FormField.tsx",lineNumber:44,columnNumber:17},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/FormField.tsx",lineNumber:37,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/FormField.tsx",lineNumber:28,columnNumber:13},this)).otherwise(()=>e.jsxDEV(b,{rounded:"full",type:r.type,placeholder:o(r.placeholder||""),className:"bg-white border-none p-0 h-fit leading-6 rounded-none font-normal text-base focus:outline-none focus:ring-0",...i},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/FormField.tsx",lineNumber:49,columnNumber:13},this))]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/FormField.tsx",lineNumber:22,columnNumber:7},this),e.jsxDEV(j,{className:"px-4",children:o(h.error||"")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/FormField.tsx",lineNumber:58,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/FormField.tsx",lineNumber:21,columnNumber:5},this)}function M(){const{t:s}=c();return e.jsxDEV(v,{initialValues:{email:"",password:"",remember:!1},onSubmit:async(r,o)=>{var a;try{o.setSubmitting(!0);const{data:t}=await D.post("/api/auth/login",r);if(!t.login&&t.requiredVerification&&l.success(s(t.message)),t.login&&t.user)switch((a=t==null?void 0:t.user)==null?void 0:a.roleId){case m.ADMIN:u.visit("/admin/dashboard");break;case m.MANAGER:u.visit("/manager/dashboard");break;case m.POS:u.visit("/pos/pos");break;case m.DISPLAY:u.visit("/display");break;case m.KITCHEN:u.visit("/kitchen");break;case m.CUSTOMER:u.visit("/");break;default:u.visit("/")}}catch(t){l.error(s(t.response.data.message)||s("Invalid Credentials"))}finally{o.setSubmitting(!1)}},validationSchema:z,children:({isSubmitting:r})=>e.jsxDEV(A,{className:"space-y-4",children:[e.jsxDEV(p,{name:"email",type:"email",label:s("Email"),placeholder:s("Enter your email")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/Login.tsx",lineNumber:69,columnNumber:11},this),e.jsxDEV(p,{name:"password",type:"password",label:s("Password"),placeholder:s("Enter password")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/Login.tsx",lineNumber:78,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-between items-center flex-wrap",children:[e.jsxDEV(I,{colorScheme:"primary",className:"text-secondary-800 rounded whitespace-nowrap",defaultChecked:!0,children:s("Remember me")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/Login.tsx",lineNumber:86,columnNumber:13},this),e.jsxDEV(d,{href:"/forgot-password",className:"font-medium underline hover:text-primary-400 transition whitespace-nowrap",children:s("Forgot password?")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/Login.tsx",lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/Login.tsx",lineNumber:85,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-end",children:e.jsxDEV(E,{variant:"solid",colorScheme:"primary",isLoading:r,type:"submit",className:"button-primary",children:s("Login")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/Login.tsx",lineNumber:101,columnNumber:13},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/Login.tsx",lineNumber:100,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/Login.tsx",lineNumber:67,columnNumber:9},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/Login.tsx",lineNumber:15,columnNumber:5},this)}const O=g().shape({firstName:n().required("First name is required"),lastName:n().required("Last name is required"),email:n().email("Invalid email").required("Email is required"),phoneNumber:n().required("Phone number is required"),address:n().required("Address is required"),password:n().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:n().oneOf([k("password")],"Passwords must match").required("Confirm password is required")});function $(){const{t:s}=c(),r=[{name:"firstName",label:"First name",type:"text",placeholder:"Enter your first name"},{name:"lastName",label:"Last name",type:"text",placeholder:"Enter your last name"},{name:"email",label:"Email",type:"email",placeholder:"Enter your email"},{name:"phoneNumber",label:"Phone",type:"tel",placeholder:"Enter your phone"},{name:"address",label:"Address",type:"text",placeholder:"Enter your address"},{name:"password",label:"Password",type:"password",placeholder:"Enter password"},{name:"confirmPassword",label:"Confirm Password",type:"password",placeholder:"Re-enter password"}];return e.jsxDEV(v,{initialValues:{firstName:"",lastName:"",email:"",password:"",address:"",phoneNumber:"",confirmPassword:""},onSubmit:async(o,a)=>{var t;try{a.setSubmitting(!0);const{data:i}=await D.post("/api/auth/register",o);i.success&&((t=i==null?void 0:i.user)!=null&&t.id)&&l.success(s(i.message))}catch(i){l.error(s(i.response.data.message)||s("Something went wrong"))}finally{a.setSubmitting(!1)}},validationSchema:O,children:({isSubmitting:o})=>e.jsxDEV(A,{className:"space-y-4",children:[r.map(a=>e.jsxDEV(p,{...a},a.name,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/SignUp.tsx",lineNumber:57,columnNumber:13},this)),e.jsxDEV("div",{className:"flex justify-end",children:e.jsxDEV(E,{variant:"solid",colorScheme:"primary",isLoading:o,type:"submit",className:"button-primary",children:s("Sign Up")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/SignUp.tsx",lineNumber:61,columnNumber:13},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/SignUp.tsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/SignUp.tsx",lineNumber:55,columnNumber:9},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Auth/SignUp.tsx",lineNumber:29,columnNumber:5},this)}function ye({...s}){const{t:r}=c(),o=window.location.pathname.split("/")[1];return x.useEffect(()=>{s.auth&&(window.location.href="/")},[]),s.auth?e.jsxDEV("div",{className:"w-screen h-screen flex items-center justify-center",children:e.jsxDEV(y,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:22,columnNumber:9},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:21,columnNumber:7},this):e.jsxDEV(C,{children:e.jsxDEV("div",{className:"py-14 px-4",children:e.jsxDEV("div",{className:"max-w-[638px] mx-auto bg-white py-12 px-6 sm:px-16 rounded-2xl shadow-auth",children:[e.jsxDEV("h2",{className:"text-2xl font-semibold text-center mb-2",children:r("Welcome")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:31,columnNumber:11},this),e.jsxDEV("p",{className:"text-center mb-8",children:r("Sign up or sign in to continue")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:32,columnNumber:11},this),e.jsxDEV(T,{defaultIndex:o==="login"?0:1,variant:"soft-rounded",colorScheme:"green",children:[e.jsxDEV(R,{className:"auth-tab",children:[e.jsxDEV(N,{as:d,href:"/login",children:r("Login")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:35,columnNumber:15},this),e.jsxDEV(N,{as:d,href:"/signup",children:r("Sign Up")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:38,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:34,columnNumber:13},this),e.jsxDEV(B,{children:[e.jsxDEV(f,{pb:0,children:e.jsxDEV(M,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:44,columnNumber:17},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:43,columnNumber:15},this),e.jsxDEV(f,{pb:0,children:e.jsxDEV($,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:47,columnNumber:17},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:46,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:42,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:33,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:30,columnNumber:9},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:29,columnNumber:7},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/Auth.tsx",lineNumber:28,columnNumber:5},this)}export{ye as default};
