import{r as N,j as e,C as a,S as P,u as G,f as U,M as _,a as $}from"./app-DV9Enp-g.js";import{u as L}from"./use_table_data-Dqvu1vx3.js";import{u as M}from"./useDebounce-BZ39Q-Ut.js";import{O as k}from"./order_status-CM2aeLIm.js";import{s as x}from"./string_formatter-C0BoQtKC.js";import{P as Q,a as q,b as J}from"./popover-trigger-bCcTHQgY.js";import{B as b,u as X}from"./_rollupPluginBabelHelpers-3bc641ae-fORsOdMW.js";import{F as Y}from"./FilterSearch-1uMYI-Ol.js";import{P as Z}from"./popover-body-Dv7tL-tk.js";import{M as O,T as d,a as E,A as g,b as v}from"./ArrowDown2-BYk1CnSd.js";import{M as H,a as V}from"./menu-option-group-DB7xgu7N.js";import{I as B,B as j}from"./input-BY0aN3Wh.js";import{a as K,L as I}from"./Layout-4Yl3SVGs.js";import{H as T,D as ee,a as ie,B as D,F as se,M as re}from"./platform_roles-C6HFwJ_S.js";import{P as te}from"./popover-footer-DDOtcm9S.js";import{O as ae,P as ne}from"./PrintInvoice-D4UWVblX.js";import{c as C}from"./currency_formatter-Bz1CGAdC.js";import{z as oe}from"./index-CuMLbxmh.js";import{u as R}from"./useTranslation-B_tqir3M.js";import{E as de}from"./Eye-14Q_bsoa.js";import{D as z}from"./divider-ChBlpOfM.js";import{T as me}from"./ToolBar-CxhXniPl.js";import{D as le}from"./DataTable-CNld8Vzj.js";import"./formik.esm-57hcKfmx.js";import"./tab-panels-vLnb1L73.js";import"./form-label-BRtD5jpz.js";import"./format-DNgEHVKA.js";import"./Clock-DOUKTfsE.js";import"./ProfileCircle-kDGWjsR6.js";import"./accordion-panel-Bmo1-bWf.js";import"./tr-DmrvMSh4.js";import"./generate_invoice-stSZ9ez8.js";import"./input-group-B3tcnjIp.js";import"./input-element-D56J_yd_.js";import"./SearchNormal-wibGUap8.js";import"./Export-C4Sp0XrA.js";import"./Pagination-BLwLKiba.js";import"./ArrowRight2-Cm1MJeQW.js";const ce=new k;function ue({filter:i,setFilter:t}){const[y,A]=N.useState(""),[f,p]=N.useState(""),w=M(y,300),F=M(f,300),{items:m,isLoading:h}=L("/api/users",{search:w,page:1,limit:20,customer:"customer"}),{items:u,isLoading:s}=L("/api/users",{search:F,page:1,limit:20,customer:"delivery"});return e.jsxDEV(Q,{matchWidth:!0,children:[e.jsxDEV(q,{children:e.jsxDEV(b,{variant:"outline",leftIcon:e.jsxDEV(Y,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:79,columnNumber:45},this),children:a("Filter")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:79,columnNumber:9},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:78,columnNumber:7},this),e.jsxDEV(J,{children:[e.jsxDEV(Z,{className:"w-full p-2.5 flex flex-col gap-3",children:[e.jsxDEV(O,{matchWidth:!0,children:[e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV(d,{className:"text-secondary-500",children:a("Order status")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:88,columnNumber:15},this),e.jsxDEV(E,{as:b,className:"w-full text-left justify-start bg-secondary-50 font-normal",rightIcon:e.jsxDEV(g,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:92,columnNumber:28},this),color:i!=null&&i.status?"inherit":"secondary.500",children:a(x(i==null?void 0:i.status))||a("Status")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:89,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:87,columnNumber:13},this),e.jsxDEV(v,{className:"w-full p-1",children:e.jsxDEV(H,{value:(i==null?void 0:i.status)||"",onChange:r=>t(n=>({...n,status:r})),type:"radio",children:ce.all().map((r,n)=>["completed","failed","canceled"].includes(r.value)&&e.jsxDEV(V,{value:r.value,icon:null,color:r.fgColor,children:a(r.label)},n,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:107,columnNumber:23},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:99,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:98,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:86,columnNumber:11},this),e.jsxDEV(O,{matchWidth:!0,children:[e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV(d,{className:"text-secondary-500",children:a("Order type")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:124,columnNumber:15},this),e.jsxDEV(E,{as:b,className:"w-full text-left justify-start bg-secondary-50 font-normal",rightIcon:e.jsxDEV(g,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:128,columnNumber:28},this),color:i!=null&&i.type?"inherit":"secondary.500",children:a(x(i==null?void 0:i.type))||a("Order type")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:125,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:123,columnNumber:13},this),e.jsxDEV(v,{className:"w-full p-1",children:e.jsxDEV(H,{value:(i==null?void 0:i.type)||"",onChange:r=>t(n=>({...n,type:r})),type:"radio",children:["dine_in","delivery","pickup"].map((r,n)=>e.jsxDEV(V,{value:r,icon:null,children:a(x(r))},n,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:145,columnNumber:19},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:137,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:136,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:122,columnNumber:11},this),e.jsxDEV(O,{matchWidth:!0,children:[e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV(d,{className:"text-secondary-500",children:a("Payment type")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:156,columnNumber:15},this),e.jsxDEV(E,{as:b,className:"w-full text-left justify-start bg-secondary-50 font-normal",rightIcon:e.jsxDEV(g,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:160,columnNumber:28},this),color:i!=null&&i.paymentType?"inherit":"secondary.500",children:a(x(i==null?void 0:i.paymentType))||a("Payment type")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:157,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:155,columnNumber:13},this),e.jsxDEV(v,{className:"w-full p-1",children:e.jsxDEV(H,{value:(i==null?void 0:i.paymentType)||"",onChange:r=>t(n=>({...n,paymentType:r})),type:"radio",children:["cash","card"].map((r,n)=>e.jsxDEV(V,{value:r,icon:null,children:a(x(r))},n,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:177,columnNumber:19},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:169,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:168,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:154,columnNumber:11},this),e.jsxDEV(O,{matchWidth:!0,children:[e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV(d,{className:"text-secondary-500",children:a("Payment status")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:188,columnNumber:15},this),e.jsxDEV(E,{as:b,className:"w-full text-left justify-start bg-secondary-50 font-normal",rightIcon:e.jsxDEV(g,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:192,columnNumber:28},this),color:i!=null&&i.paymentStatus?"inherit":"secondary.500",children:a(x((i==null?void 0:i.paymentStatus)==="true"?"Paid":"Unpaid"))||a("Payment status")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:189,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:187,columnNumber:13},this),e.jsxDEV(v,{className:"w-full p-1",children:e.jsxDEV(H,{value:(i==null?void 0:i.paymentStatus)||"",onChange:r=>t(n=>({...n,paymentStatus:r})),type:"radio",children:["true","false"].map((r,n)=>e.jsxDEV(V,{value:r,icon:null,children:a(x(r==="true"?"Paid":"Unpaid"))},n,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:210,columnNumber:19},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:202,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:201,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:186,columnNumber:11},this),e.jsxDEV(O,{matchWidth:!0,children:[e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV(d,{className:"text-secondary-500",children:a("Customer")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:221,columnNumber:15},this),e.jsxDEV(E,{as:b,className:"w-full text-left justify-start bg-secondary-50 font-normal",rightIcon:e.jsxDEV(g,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:225,columnNumber:28},this),color:i!=null&&i.user?"inherit":"secondary.500",children:(i==null?void 0:i.userName)||a("Customer name")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:222,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:220,columnNumber:13},this),e.jsxDEV(v,{className:"w-full p-1",children:[e.jsxDEV(B,{type:"search",name:"customerSearch",placeholder:a("Search..."),value:y,onChange:r=>A(r.target.value)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:233,columnNumber:15},this),e.jsxDEV(K,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:240,columnNumber:15},this),h?e.jsxDEV(j,{children:e.jsxDEV(T,{color:"secondary.500",className:"py-2 px-4",children:[e.jsxDEV(P,{size:"sm"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:245,columnNumber:21},this),e.jsxDEV(d,{children:[" ",a("Loading...")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:246,columnNumber:21},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:244,columnNumber:19},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:243,columnNumber:17},this):(m==null?void 0:m.length)>0?e.jsxDEV(H,{value:(i==null?void 0:i.userName)||"",onChange:r=>t(n=>{var c;return{...n,user:r,userName:(c=m==null?void 0:m.find(o=>{var l;return((l=o.id)==null?void 0:l.toString())===r}))==null?void 0:c.fullName}}),type:"radio",children:m==null?void 0:m.map(r=>{var n;return e.jsxDEV(V,{value:(n=r.id)==null?void 0:n.toString(),icon:null,children:r.fullName},r.id,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:262,columnNumber:21},this)})},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:250,columnNumber:17},this):e.jsxDEV(j,{className:"py-2 px-4",children:e.jsxDEV(d,{children:[a("Customers doesn't exist")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:269,columnNumber:19},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:268,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:232,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:219,columnNumber:11},this),e.jsxDEV(O,{matchWidth:!0,children:[e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV(d,{className:"text-secondary-500",children:a("Delivery person")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:278,columnNumber:15},this),e.jsxDEV(E,{as:b,className:"w-full text-left justify-start bg-secondary-50 font-normal",rightIcon:e.jsxDEV(g,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:282,columnNumber:28},this),color:i!=null&&i.user?"inherit":"secondary.500",children:(i==null?void 0:i.deliveryManName)||a("Delivery person")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:279,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:277,columnNumber:13},this),e.jsxDEV(v,{className:"w-full p-1",children:[e.jsxDEV(B,{type:"search",name:"deliveryManName",placeholder:a("Search..."),value:f,onChange:r=>p(r.target.value)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:290,columnNumber:15},this),e.jsxDEV(K,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:297,columnNumber:15},this),s?e.jsxDEV(j,{children:e.jsxDEV(T,{color:"secondary.500",className:"py-2 px-4",children:[e.jsxDEV(P,{size:"sm"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:302,columnNumber:21},this),e.jsxDEV(d,{children:[" ",a("Loading...")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:303,columnNumber:21},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:301,columnNumber:19},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:300,columnNumber:17},this):(u==null?void 0:u.length)>0?e.jsxDEV(H,{value:(i==null?void 0:i.deliveryManName)||"",onChange:r=>t(n=>{var c;return{...n,deliveryMan:r,deliveryManName:(c=u==null?void 0:u.find(o=>{var l;return((l=o.id)==null?void 0:l.toString())===r}))==null?void 0:c.fullName}}),type:"radio",children:u==null?void 0:u.map(r=>{var n;return e.jsxDEV(V,{value:(n=r.id)==null?void 0:n.toString(),icon:null,children:r.fullName},r.id,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:320,columnNumber:21},this)})},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:307,columnNumber:17},this):e.jsxDEV(j,{className:"py-2 px-4",children:e.jsxDEV(d,{children:[a("Delivery person doesn't exist")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:327,columnNumber:19},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:326,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:289,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:276,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:84,columnNumber:9},this),e.jsxDEV(te,{className:"border-black/5",children:e.jsxDEV(b,{size:"md",className:"w-full",onClick:()=>t({}),children:a("Clear")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:334,columnNumber:11},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:333,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:83,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/FilterOrderHistory.tsx",lineNumber:77,columnNumber:5},this)}const W=new k;function Ne({orderId:i}){const{t}=R(),{isOpen:y,onOpen:A,onClose:f}=X(),[p,w]=N.useState(W.getStatusDetails("pending")),F=N.useRef(null),{data:m,isLoading:h}=G(()=>i&&y?`/api/orders/${i}`:null,U),u=N.useCallback(()=>{!h&&m&&w(W.getStatusDetails(m.status))},[m,h]);return N.useEffect(()=>{u()},[u]),e.jsxDEV(e.Fragment,{children:[e.jsxDEV(b,{onClick:A,variant:"outline",colorScheme:"secondary",className:"border-secondary-200 text-secondary-800 hover:bg-secondary-100",rightIcon:e.jsxDEV(de,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:63,columnNumber:20},this),children:t("View")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:58,columnNumber:7},this),e.jsxDEV(ee,{isOpen:y,placement:"right",size:"lg",onClose:()=>{f()},finalFocusRef:F,children:[e.jsxDEV(_,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:76,columnNumber:9},this),e.jsxDEV(ie,{children:[e.jsxDEV($,{className:"p-0 md:px-4",children:e.jsxDEV("div",{className:"w-full bg-white",children:oe({orderItem:m,isLoading:h}).with({isLoading:!0},()=>e.jsxDEV(T,{className:"mt-6 mx-4",children:[e.jsxDEV(P,{size:"sm"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:84,columnNumber:21},this),e.jsxDEV(d,{className:"text-secondary-500",children:[" ",t("Loading...")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:85,columnNumber:21},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:83,columnNumber:19},this)).with({orderItem:null,isLoading:!1},()=>e.jsxDEV(d,{className:"py-6 px-4 text-secondary-500",children:[" ",t("Order not found")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:91,columnNumber:19},this)).otherwise(({orderItem:s})=>e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"px-4 py-6",children:[e.jsxDEV("div",{className:"order-details-container",children:[e.jsxDEV(d,{as:"h3",className:"font-medium text-xl text-secondary-600 mb-6",children:t("Order details")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:99,columnNumber:25},this),e.jsxDEV("div",{className:"order-details-grid md:gap-[30px]",children:[e.jsxDEV("div",{className:"lg:w-fit flex flex-col gap-1 pb-[30px] lg:border-b border-black/5",children:[e.jsxDEV(d,{className:"text-base font-normal text-secondary-400",children:t("Order number")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:107,columnNumber:29},this),e.jsxDEV(d,{as:"h3",className:"text-secondary-600 text-xl font-semibold",children:s==null?void 0:s.orderNumber},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:110,columnNumber:29},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:106,columnNumber:27},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1 pb-[30px] border-b border-black/5",children:[e.jsxDEV(d,{className:"text-base font-normal text-secondary-400",children:t("Order type")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:117,columnNumber:29},this),e.jsxDEV(D,{w:"fit-content",colorScheme:(s==null?void 0:s.type)==="delivery"?"primary":(s==null?void 0:s.type)==="pickup"?"blue":"teal",children:t(x(s==null?void 0:s.type))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:121,columnNumber:29},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:116,columnNumber:27},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1 pb-[30px] border-b border-black/5",children:[e.jsxDEV(d,{className:"text-base font-normal text-secondary-400",children:t("Status")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:137,columnNumber:29},this),e.jsxDEV(j,{className:"flex items-center justify-center w-fit gap-2 py-1 rounded-md  px-3",border:"1px",borderColor:p.fgColor,children:e.jsxDEV(d,{className:"font-semibold text-sm",color:p.fgColor,children:t(p==null?void 0:p.label)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:146,columnNumber:31},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:141,columnNumber:29},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:136,columnNumber:27},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1",children:[e.jsxDEV(d,{className:"text-base font-normal text-secondary-400",children:t("Delivery date")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:154,columnNumber:29},this),e.jsxDEV(d,{as:"h3",className:"text-secondary-600 text-xl font-semibold",children:new Date(s==null?void 0:s.deliveryDate).toLocaleDateString()},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:157,columnNumber:29},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:153,columnNumber:27},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1",children:[e.jsxDEV(d,{className:"text-base font-normal text-secondary-400",children:t("Payment method")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:164,columnNumber:29},this),e.jsxDEV(D,{colorScheme:(s==null?void 0:s.paymentType)==="cash"?"primary":"blue",w:"fit-content",children:t(x(s==null?void 0:s.paymentType))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:167,columnNumber:29},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:163,columnNumber:27},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1",children:[e.jsxDEV(d,{className:"text-base font-normal text-secondary-400",children:t("Payment status")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:177,columnNumber:29},this),e.jsxDEV(se,{justifyContent:"space-between",className:"text-secondary-600 text-xl font-semibold",children:e.jsxDEV(D,{variant:"solid",colorScheme:"green",size:"sm",className:"py-0 leading-5 min-h-fit",children:t(s!=null&&s.paymentStatus?"PAID":"UNPAID")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:184,columnNumber:31},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:180,columnNumber:29},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:176,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:104,columnNumber:25},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:98,columnNumber:23},this),e.jsxDEV(z,{className:"border-black/5"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:197,columnNumber:23},this),e.jsxDEV("div",{className:"mt-3 mb-4",children:e.jsxDEV("div",{className:"flex flex-col space-y-2",children:[e.jsxDEV(d,{className:"text-base font-normal text-secondary-400",children:t("Order note")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:202,columnNumber:27},this),e.jsxDEV("p",{className:"text-lg font-normal",children:s==null?void 0:s.customerNote},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:205,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:201,columnNumber:25},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:200,columnNumber:23},this),e.jsxDEV(ae,{items:s==null?void 0:s.orderItems},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:210,columnNumber:23},this),e.jsxDEV("div",{className:"mt-4 flex flex-col gapy-2 [&>div]:border-b [&>div]:border-black/5 [&>div]:py-1 [&>div]:px-4",children:[e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg",children:[e.jsxDEV("div",{children:[" ",t("Subtotal"),": "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:215,columnNumber:27},this),e.jsxDEV("h4",{className:"font-medium text-right",children:C(s==null?void 0:s.total)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:216,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:214,columnNumber:25},this),e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg",children:[e.jsxDEV("div",{children:[" ",t("Vat/Tax"),": "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:223,columnNumber:27},this),e.jsxDEV("h4",{className:"font-medium text-right",children:C(s==null?void 0:s.totalTax)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:224,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:222,columnNumber:25},this),e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg",children:[e.jsxDEV("div",{children:[" ",t("Service charge"),": "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:231,columnNumber:27},this),e.jsxDEV("h4",{className:"font-medium text-right",children:C(s==null?void 0:s.totalCharges)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:232,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:230,columnNumber:25},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:212,columnNumber:23},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:97,columnNumber:21},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:96,columnNumber:19},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:79,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:78,columnNumber:11},this),e.jsxDEV(re,{className:"p-0",children:e.jsxDEV(j,{pt:"2",pb:"4",shadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.06),0px -1px 3px 0px rgba(0, 0, 0, 0.1)",className:"w-full px-3 sm:px-8 bg-white z-10 flex flex-col gap-5",children:[e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg px-4",children:[e.jsxDEV("div",{children:[" ",t("Grand total"),": "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:251,columnNumber:17},this),e.jsxDEV("h4",{className:"font-bold text-right",children:C(m==null?void 0:m.grandTotal)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:252,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:250,columnNumber:15},this),e.jsxDEV(z,{className:"border-black/5"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:256,columnNumber:15},this),e.jsxDEV(T,{className:"w-full px-4",children:[e.jsxDEV(b,{onClick:f,variant:"outline",className:"flex-1",children:t("Close")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:259,columnNumber:17},this),e.jsxDEV(ne,{orderId:m==null?void 0:m.id},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:262,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:258,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:244,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:243,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:77,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:67,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderHistory/ViewOrder.tsx",lineNumber:57,columnNumber:5},this)}const be=new k;function Ie(){const{t:i}=R(),[t,y]=N.useState(1),[A,f]=N.useState(10),[p,w]=N.useState(""),[F,m]=N.useState([]),[h,u]=N.useState({}),s=M(p,300),{items:r,isLoading:n,meta:c}=L("/api/orders",{page:t,limit:A,search:s,listType:"history",...h});return e.jsxDEV(I,{title:i("Order history"),children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV(me,{filter:e.jsxDEV(ue,{filter:h,setFilter:u},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:46,columnNumber:19},this),exportUrl:"/api/orders/export/all?listType=history",setSearchQuery:w},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:45,columnNumber:9},this),e.jsxDEV("div",{children:e.jsxDEV(le,{data:r,sorting:F,setSorting:m,isLoading:n,pagination:{total:c==null?void 0:c.total,page:c==null?void 0:c.currentPage,limit:c==null?void 0:c.perPage,setPage:y,setLimit:f},structure:[{accessorKey:"id",id:"id",header:()=>i("SL"),cell:o=>o.row.index+1},{accessorKey:"orderNumber",id:"orderNumber",header:()=>i("Order No"),cell:({row:o})=>e.jsxDEV("span",{className:"font-bold",children:o.original.orderNumber},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:74,columnNumber:36},this)},{accessorKey:"createdAt",id:"createdAt",header:()=>i("Created On"),cell:({row:o})=>e.jsxDEV("div",{children:new Date(o.original.createdAt).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(","," -")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:81,columnNumber:19},this)},{accessorKey:"user.fullName",id:"userFullName",header:()=>i("Customer name"),cell:({row:o})=>{var l,S;return e.jsxDEV("div",{children:((S=(l=o.original)==null?void 0:l.user)==null?void 0:S.fullName)||"Guest"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:99,columnNumber:36},this)}},{accessorKey:"type",id:"type",header:()=>i("Type"),cell:({row:o})=>{var S;const l={dine_in:"teal",delivery:"primary",pickup:"blue"};return e.jsxDEV(D,{variant:"solid",colorScheme:l[o.original.type]||"secondary",children:i((S=o.original.type)==null?void 0:S.replace("_","-"))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:113,columnNumber:21},this)}},{accessorKey:"grandTotal",id:"grandTotal",header:()=>i("Total"),cell:({row:o})=>e.jsxDEV("p",{className:"font-bold",children:C(o.original.grandTotal)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:129,columnNumber:19},this)},{accessorKey:"paymentType",id:"paymentType",header:()=>i("Payment"),cell:({row:o})=>e.jsxDEV(T,{children:[e.jsxDEV(D,{variant:"solid",colorScheme:o.original.paymentStatus?"green":"secondary",children:o.original.paymentStatus?"paid":"unpaid"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:139,columnNumber:23},this),e.jsxDEV(D,{variant:"subtle",colorScheme:o.original.paymentType==="cash"?"primary":"blue",children:i(o.original.paymentType)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:145,columnNumber:23},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:138,columnNumber:21},this)},{accessorKey:"status",id:"status",header:()=>i("Status"),cell:({row:o})=>{const l=be.getStatusDetails(o.original.status);return e.jsxDEV(j,{className:"flex items-center justify-center w-fit gap-2 py-1 rounded-md  px-3",border:"1px",borderColor:l.fgColor,children:e.jsxDEV(d,{className:"font-semibold text-sm",color:l.fgColor,children:i(l==null?void 0:l.label)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:167,columnNumber:23},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:162,columnNumber:21},this)}},{accessorKey:"",id:"action",header:()=>i("Action"),cell:({row:o})=>e.jsxDEV(Ne,{orderId:o.original.id},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:179,columnNumber:36},this)}]},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:51,columnNumber:11},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:50,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:44,columnNumber:7},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/OrderHistory.tsx",lineNumber:43,columnNumber:5},this)}export{Ie as default};
