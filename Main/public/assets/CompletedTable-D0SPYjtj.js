import{r as n,j as r}from"./app-p3FobzL5.js";import{D as y}from"./DataTable-Dg7GowNh.js";import{u as D}from"./use_table_data-mkdPdtFX.js";import{c as x}from"./currency_formatter-Bz1CGAdC.js";import{U as S,O as T,D as v}from"./DeleteOrder-CRJPmCIE.js";import{P as A}from"./PersonSelection-CzdxAugX.js";import{u as k}from"./useTranslation-jbS6ivqO.js";import{B as l,H as O}from"./platform_roles-D3HjcMuK.js";import{T as C}from"./ArrowDown2-DM1rERZ4.js";/* empty css            */import"./Pagination-CMtLnuaE.js";import"./tr-EefZORq7.js";import"./_rollupPluginBabelHelpers-3bc641ae-btRFf1Fy.js";import"./ArrowRight2-OjDQz_0a.js";import"./order_status-CM2aeLIm.js";import"./string_formatter-C0BoQtKC.js";import"./index-CuMLbxmh.js";import"./PrintInvoice-D1BOIbqI.js";import"./input-cx0LjzCS.js";import"./popover-trigger-D9abZrFQ.js";import"./divider-CHTuOarn.js";import"./generate_invoice-BYY1s1ph.js";import"./DiscountTypeSelect-BDVkpI5Y.js";import"./use-radio-BmR54MTD.js";import"./visually-hidden.style-Bfr07Aua.js";import"./Eye-BnFH3BGQ.js";import"./switch-CU8nt3W3.js";import"./use-checkbox-fX-NceDq.js";import"./textarea-pmQ9KYwB.js";import"./Trash-CzXP6s3A.js";import"./popover-arrow-cOi1xr-l.js";import"./popover-header-DBc-fTNW.js";import"./popover-body-Cnhf1gCL.js";import"./popover-footer-Bj-c8mCp.js";import"./useDebounce-C3LzOcPg.js";import"./User-B7pdFi89.js";function ue({setSelectedRow:m}){const{t}=k(),[d,p]=n.useState([]),[b,h]=n.useState(1),[N,f]=n.useState(10),{items:c,isLoading:g,refresh:i,meta:o,isValidating:u}=D("/api/orders",{page:b,limit:N,status:"completed"});return n.useEffect(()=>{!u&&c.length===0&&m([])},[u]),r.jsxDEV(y,{data:c,sorting:d,setSorting:p,isLoading:g,onRowSelection:m,getRowId:e=>e.id,enableMultiRowSelection:!0,pagination:{total:o==null?void 0:o.total,page:o==null?void 0:o.currentPage,limit:o==null?void 0:o.perPage,setPage:h,setLimit:f},structure:[{accessorKey:"checkbox",enableSorting:!1,header:({table:e})=>r.jsxDEV("input",{type:"checkbox",checked:e==null?void 0:e.getIsAllRowsSelected(),onChange:e==null?void 0:e.getToggleAllRowsSelectedHandler(),className:"accent-primary-500 cursor-pointer scale-110"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:58,columnNumber:13},this),cell:({row:e})=>r.jsxDEV("input",{type:"checkbox",checked:e==null?void 0:e.getIsSelected(),onChange:e==null?void 0:e.getToggleSelectedHandler(),className:"accent-primary-500 cursor-pointer scale-110"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:66,columnNumber:13},this)},{accessorKey:"id",header:()=>t("SL"),cell:e=>e.row.index+1},{accessorKey:"orderNumber",header:()=>t("Order No"),cell:({row:e})=>r.jsxDEV("span",{className:"font-bold",children:e.original.orderNumber},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:82,columnNumber:30},this)},{accessorKey:"createdAt",header:()=>t("Created On"),cell:({row:e})=>r.jsxDEV("div",{children:new Date(e.original.createdAt).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(","," -")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:88,columnNumber:13},this)},{accessorKey:"user.fullName",header:()=>t("Customer name"),cell:({row:e})=>{var a,s;return r.jsxDEV("div",{children:((s=(a=e.original)==null?void 0:a.user)==null?void 0:s.fullName)||"Guest"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:105,columnNumber:30},this)}},{accessorKey:"type",header:()=>t("Type"),cell:({row:e})=>{var s;const a={dine_in:"teal",delivery:"primary",pickup:"blue"};return r.jsxDEV(l,{variant:"solid",colorScheme:a[e.original.type]||"secondary",children:t((s=e.original.type)==null?void 0:s.replace("_","-"))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:118,columnNumber:15},this)}},{accessorKey:"grandTotal",header:()=>t("Total"),cell:({row:e})=>r.jsxDEV("p",{className:"font-bold",children:x(e.original.grandTotal)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:133,columnNumber:13},this)},{accessorKey:"paymentType",header:()=>t("Payment"),cell:({row:e})=>r.jsxDEV(l,{variant:"subtle",colorScheme:e.original.paymentType==="cash"?"primary":"blue",children:t(e.original.paymentType)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:140,columnNumber:13},this)},{accessorKey:"paymentStatus",header:()=>t("Paid"),cell:({row:e})=>r.jsxDEV(l,{variant:"subtle",colorScheme:e.original.paymentStatus===1?"blue":"primary",children:e.original.paymentStatus===1?t("PAID"):t("UNPAID")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:152,columnNumber:13},this)},{accessorKey:"status",header:()=>t("Status"),cell:({row:e})=>r.jsxDEV(S,{orderId:e.original.id,status:e.original.status,refresh:i,type:e.original.type,isDeliveryPersonSelected:!!e.original.deliveryManId},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:164,columnNumber:13},this)},{accessorKey:"deliveryPerson.fullName",header:()=>t("Delivery person"),cell:({row:e})=>e.original.type!=="delivery"?r.jsxDEV(C,{color:"secondary.400",children:"N/A"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:178,columnNumber:58},this):r.jsxDEV(A,{refresh:i,data:e.original},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:179,columnNumber:20},this)},{accessorKey:"action",header:()=>t("Action"),cell:({row:e})=>r.jsxDEV(O,{gap:2,children:[r.jsxDEV(T,{orderId:e.original.id,refresh:i},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:188,columnNumber:15},this),r.jsxDEV(v,{isIconButton:!0,id:e.original.id,refresh:i},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:189,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:187,columnNumber:13},this)}]},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/CompletedTable.tsx",lineNumber:38,columnNumber:5},this)}export{ue as default};
