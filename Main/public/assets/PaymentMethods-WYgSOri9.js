import{j as s,S as v,b as g,t as d,r as P}from"./app-p3FobzL5.js";import{F as k,a as j}from"./formik.esm-C9K4NhZh.js";import{z as E}from"./index-CuMLbxmh.js";import{F as x}from"./FieldRenderer-B9gjVIjW.js";import{c as A,a as m}from"./index.esm-vozbR36e.js";import{u as f}from"./useTranslation-jbS6ivqO.js";import{B as N}from"./input-cx0LjzCS.js";import{F as U}from"./form-label-rj1Y5muO.js";import{B as V}from"./_rollupPluginBabelHelpers-3bc641ae-btRFf1Fy.js";import{L as w}from"./Layout-AyYa8XQx.js";import{T as _,a as y,b as S,c as F,d as T}from"./tab-panels-DHV8yGV0.js";import{F as L}from"./platform_roles-D3HjcMuK.js";/* empty css            */import"./popover-trigger-D9abZrFQ.js";import"./ArrowDown2-DM1rERZ4.js";import"./popover-body-Cnhf1gCL.js";import"./format-DNgEHVKA.js";import"./index-5KvuJqVB.js";import"./use-radio-BmR54MTD.js";import"./visually-hidden.style-Bfr07Aua.js";import"./radio-Bmoumz0n.js";import"./textarea-pmQ9KYwB.js";import"./Clock-6LrARp7T.js";import"./ProfileCircle-DpyEwL7u.js";import"./accordion-panel-C6BP8wfC.js";const B=A().shape({name:m().required("Name is required"),public:m().optional(),secret:m().optional(),mode:m().optional(),webhook:m().optional()});function q({isLoading:o,paymentMethod:e,refresh:i}){var c;const{t:a}=f(),u=e==null?void 0:e.config;let l=[{name:"name",label:"Name",type:"text",placeholder:"Name of the payment method"}];return l=[...l,...(c=u==null?void 0:u.fields)==null?void 0:c.map(r=>({name:r.name,label:r.label,type:r.type,placeholder:r.label,options:r.options,items:r.items})),{name:"status",label:"Status",type:"radio_group",options:[{label:"Active",value:"1"},{label:"Inactive",value:"0"}]}],o?s.jsxDEV(N,{className:"p-6 py-30 rounded-md flex flex-col items-center space-y-4 max-w-[730px] bg-white shadow-[0px_1px_2px_0px_rgba(0,0,0,0.06),0px_1px_3px_0px_rgba(0,0,0,0.1)]",children:s.jsxDEV(v,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:73,columnNumber:9},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:72,columnNumber:7},this):s.jsxDEV("div",{children:s.jsxDEV(k,{initialValues:{name:(e==null?void 0:e.name)||"",public:(e==null?void 0:e.public)||"",secret:(e==null?void 0:e.secret)||"",mode:(e==null?void 0:e.mode)||"",webhook:(e==null?void 0:e.webhook)||"",status:e!=null&&e.status?"1":"0"},onSubmit:async(r,n)=>{try{n.setSubmitting(!0);const{data:t}=await g.put("/api/payment-methods/"+(e==null?void 0:e.id),r);t!=null&&t.success&&(d.success(t.message),i==null||i())}catch(t){d.error(a(t.response.data.message)||a("Something went wrong"))}finally{n.setSubmitting(!1)}},validationSchema:B,children:({isSubmitting:r})=>s.jsxDEV("div",{className:"flex flex-col gap-4 @container",children:s.jsxDEV(j,{className:"w-full grid grid-cols-1 @3xl:grid-cols-2 gap-4",children:s.jsxDEV("div",{className:"col-span-1",children:s.jsxDEV(N,{rounded:"6px",className:"p-6 py-4 flex flex-col items-center space-y-4 bg-white shadow-[0px_1px_2px_0px_rgba(0,0,0,0.06),0px_1px_3px_0px_rgba(0,0,0,0.1)]",children:[s.jsxDEV("div",{className:"w-full flex flex-col items-stretch space-y-4",children:l.map((n,t)=>E(n).with({type:"group"},b=>{var p;return s.jsxDEV(P.Fragment,{children:s.jsxDEV("div",{className:"w-full",children:[s.jsxDEV(U,{className:"text-sm text-secondary-800",children:b.label},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:123,columnNumber:31},this),s.jsxDEV("div",{className:"flex flex-col gap-2",children:(p=b.items)==null?void 0:p.map((h,D)=>s.jsxDEV(x,{...h},D,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:128,columnNumber:35},this))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:126,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:122,columnNumber:29},this)},t,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:121,columnNumber:27},this)}).otherwise(()=>n.type!=="group"&&n.name&&s.jsxDEV(x,{...n},t,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:139,columnNumber:43},this)))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:116,columnNumber:19},this),s.jsxDEV(V,{type:"submit",isLoading:r,colorScheme:"primary",className:"w-fit bg-primary-400 self-start",children:a("Update")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:144,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:112,columnNumber:17},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:111,columnNumber:15},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:110,columnNumber:13},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:109,columnNumber:11},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:81,columnNumber:7},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/PaymentMethod.tsx",lineNumber:80,columnNumber:5},this)}const ue=({data:o})=>{const{t:e}=f();return s.jsxDEV(w,{title:e("Payment Methods"),children:s.jsxDEV("div",{className:"p-4 sm:p-6 relative",children:s.jsxDEV(_,{children:[s.jsxDEV(L,{className:"justify-between w-full overflow-x-auto",children:s.jsxDEV(y,{className:"whitespace-nowrap",children:o==null?void 0:o.map(i=>s.jsxDEV(S,{children:i.name},i.id,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/PaymentMethods.tsx",lineNumber:34,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/PaymentMethods.tsx",lineNumber:32,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/PaymentMethods.tsx",lineNumber:31,columnNumber:11},void 0),s.jsxDEV(F,{children:o==null?void 0:o.map(i=>s.jsxDEV(T,{children:s.jsxDEV(q,{paymentMethod:i},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/PaymentMethods.tsx",lineNumber:42,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/PaymentMethods.tsx",lineNumber:41,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/PaymentMethods.tsx",lineNumber:39,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/PaymentMethods.tsx",lineNumber:30,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/PaymentMethods.tsx",lineNumber:29,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/PaymentMethods.tsx",lineNumber:28,columnNumber:5},void 0)};export{ue as default};
