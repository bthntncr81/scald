import{j as e,b as xe,t as G,u as he,f as Ee,r as g,M as Se,S as se,a as ae,X as we,l as ii,c as Te,R as ni}from"./app-DV9Enp-g.js";import{u as ze,M as Re,L as ti}from"./Layout-4Yl3SVGs.js";import{u as si}from"./use_categories-B_K0sgJo.js";import{u as be}from"./useDebounce-BZ39Q-Ut.js";import{z as K,N as B}from"./index-CuMLbxmh.js";import{u as je,c as ge,Q as Oe,v as Le}from"./validate_required_variants-CWNFFnRe.js";import{c as S}from"./currency_formatter-Bz1CGAdC.js";import{F as Me,a as _e,b as qe,c as We}from"./formik.esm-57hcKfmx.js";import{N as He}from"./NewCustomerSchema-C2AlfYyz.js";import{u as Q}from"./useTranslation-B_tqir3M.js";import{F as me,I as W,a as H,B as D}from"./input-BY0aN3Wh.js";import{H as V,D as de,a as re,F as M,M as Qe,A as le,B as Ue}from"./platform_roles-C6HFwJ_S.js";import{M as ue}from"./Minus-hQCtIxHU.js";import{B as y,u as ce}from"./_rollupPluginBabelHelpers-3bc641ae-fORsOdMW.js";import{E as $e}from"./Edit2-BR-gFx13.js";import{T as d}from"./ArrowDown2-BYk1CnSd.js";import{T as Z,a as ee,b as L,c as T,d as Y,e as A}from"./tr-DmrvMSh4.js";import{R as Be,u as Ge,a as Ye}from"./use-radio-6sqGZ21b.js";import{R as Xe}from"./radio-BkVBa4kL.js";import{C as oe}from"./checkbox-0eFyDNwp.js";import{F as Je}from"./form-label-BRtD5jpz.js";import{T as Ke}from"./TickCircle-C8Z4cRgD.js";import{D as oi}from"./DiscountTypeSelect-DQGXDPdn.js";import{P as Ie,b as ke,a as ai}from"./popover-trigger-bCcTHQgY.js";import{P as mi}from"./popover-anchor-BlKiDovh.js";import{P as di}from"./popover-header-BFLhNdCb.js";import{I as Ne}from"./input-group-B3tcnjIp.js";import{I as pe}from"./input-element-D56J_yd_.js";import{S as fe}from"./SearchNormal-wibGUap8.js";import{P as ri}from"./popover-body-Dv7tL-tk.js";import{T as li}from"./textarea-7dmbfoGY.js";import{D as Fe}from"./divider-ChBlpOfM.js";import{T as ui}from"./Trash-D0bDSe0A.js";import{A as ci}from"./ArrowRight-CORJMuLB.js";import{u as bi}from"./use-boolean-S__THBuA.js";import{F as Ni}from"./FilterSearch-1uMYI-Ol.js";import"./tab-panels-vLnb1L73.js";import"./format-DNgEHVKA.js";import"./Clock-DOUKTfsE.js";import"./ProfileCircle-kDGWjsR6.js";import"./accordion-panel-Bmo1-bWf.js";import"./index.esm-DH7tFHsH.js";import"./visually-hidden.style-Bfr07Aua.js";import"./use-checkbox-CXyjvu9v.js";function pi({close:i,onSubmit:s}){const{t:m}=Q(),u=[{name:"firstName",label:"",type:"text",placeholder:"First name"},{name:"lastName",label:"",type:"text",placeholder:"Last name"},{name:"email",label:"",type:"email",placeholder:"Email address"},{name:"phoneNumber",label:"",type:"text",placeholder:"Contact number"},{name:"address",label:"",type:"text",placeholder:"Address"}];return e.jsxDEV(Me,{initialValues:{firstName:"",lastName:"",email:"",phoneNumber:"",address:""},validationSchema:He,onSubmit:async(b,l)=>{l.setSubmitting(!0);const t={...b,roleId:6,address:b.address};try{const{data:o}=await xe.post("/api/users",t);o!=null&&o.success&&(s==null||s(o),G.success(m(o==null?void 0:o.message)||m("Customer created successfully")))}catch(o){G.error(m(o.response.data.message)||m("Something went wrong"))}finally{l.setSubmitting(!1),l.resetForm()}},children:({isSubmitting:b})=>e.jsxDEV(_e,{className:"flex flex-col gap-2",children:[u.map(l=>e.jsxDEV(qe,{name:l.name,children:({field:t,meta:o})=>e.jsxDEV(me,{isInvalid:o.errors&&o.touched,children:[e.jsxDEV(V,{gap:"0",children:[e.jsxDEV(W,{...t,type:l.type,placeholder:m(l.placeholder),roundedRight:l.name==="firstName"?0:"auto"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerInsertForm.tsx",lineNumber:67,columnNumber:21},this),l.name==="firstName"&&e.jsxDEV(H,{type:"button","aria-label":"Minus",roundedLeft:"0",border:"1px",borderColor:"secondary.200",onClick:()=>i==null?void 0:i(),children:e.jsxDEV(ue,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerInsertForm.tsx",lineNumber:82,columnNumber:25},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerInsertForm.tsx",lineNumber:74,columnNumber:23},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerInsertForm.tsx",lineNumber:66,columnNumber:19},this),e.jsxDEV(We,{children:m(o.errors)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerInsertForm.tsx",lineNumber:86,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerInsertForm.tsx",lineNumber:65,columnNumber:17},this)},l.name,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerInsertForm.tsx",lineNumber:63,columnNumber:13},this)),e.jsxDEV(y,{type:"submit",colorScheme:"primary",className:"bg-primary-400 hover:bg-primary-500",isLoading:b,children:m("Create new customer")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerInsertForm.tsx",lineNumber:92,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerInsertForm.tsx",lineNumber:61,columnNumber:9},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerInsertForm.tsx",lineNumber:28,columnNumber:5},this)}function fi({customer:i,close:s,onSubmit:m}){const{t:u}=Q(),b=[{name:"firstName",label:"",type:"text",placeholder:"First name"},{name:"lastName",label:"",type:"text",placeholder:"Last name"},{name:"email",label:"",type:"email",placeholder:"Email address"},{name:"phoneNumber",label:"",type:"text",placeholder:"Contact number"},{name:"address",label:"",type:"text",placeholder:"Address"}];return e.jsxDEV(Me,{initialValues:{firstName:(i==null?void 0:i.firstName)||"",lastName:(i==null?void 0:i.lastName)||"",email:(i==null?void 0:i.email)||"",phoneNumber:(i==null?void 0:i.phoneNumber)||"",address:(i==null?void 0:i.address)||""},validationSchema:He,onSubmit:async(l,t)=>{t.setSubmitting(!0);const o={...l,roleId:6,address:l.address};try{const{data:c}=await xe.put(`/api/users/${i==null?void 0:i.id}`,o);c!=null&&c.success&&(m==null||m(c),G.success(u(c==null?void 0:c.message)||u("Customer updated successfully")))}catch(c){G.error(u(c.response.data.message)||u("Something went wrong"))}finally{t.setSubmitting(!1),t.resetForm()}},children:({isSubmitting:l})=>e.jsxDEV(_e,{className:"flex flex-col gap-2",children:[b.map(t=>e.jsxDEV(qe,{name:t.name,children:({field:o,meta:c})=>e.jsxDEV(me,{isInvalid:c.errors&&c.touched,children:[e.jsxDEV(V,{gap:"0",children:[e.jsxDEV(W,{...o,type:t.type,placeholder:u(t.placeholder),roundedRight:t.name==="firstName"?0:"auto"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerUpdateForm.tsx",lineNumber:70,columnNumber:21},this),t.name==="firstName"&&e.jsxDEV(H,{type:"button","aria-label":"Minus",roundedLeft:"0",border:"1px",borderColor:"secondary.200",onClick:()=>s==null?void 0:s(),children:e.jsxDEV(ue,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerUpdateForm.tsx",lineNumber:85,columnNumber:25},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerUpdateForm.tsx",lineNumber:77,columnNumber:23},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerUpdateForm.tsx",lineNumber:69,columnNumber:19},this),e.jsxDEV(We,{children:u(c.errors)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerUpdateForm.tsx",lineNumber:89,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerUpdateForm.tsx",lineNumber:68,columnNumber:17},this)},t.name,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerUpdateForm.tsx",lineNumber:66,columnNumber:13},this)),e.jsxDEV(y,{type:"submit",colorScheme:"primary",className:"bg-primary-400 hover:bg-primary-500",isLoading:l,children:u("Update customer")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerUpdateForm.tsx",lineNumber:95,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerUpdateForm.tsx",lineNumber:64,columnNumber:9},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/CustomerUpdateForm.tsx",lineNumber:31,columnNumber:5},this)}function xi({...i}){const s=je(),{t:m}=Q(),{isOpen:u,onOpen:b,onClose:l}=ce(),{data:t,isLoading:o}=he(`/api/menu-items/${i.id}`,Ee),[c,F]=g.useState(i.variants||[]),[E,N]=g.useState(i.addons||[]),[j,f]=g.useState(0);g.useEffect(()=>{let a=w;c.forEach(O=>{a+=O.option.reduce((x,p)=>x+p.price,0)}),E.forEach(O=>{a+=O.price*O.quantity}),a*=i.quantity,f(a)},[c,E,i.quantity]);const _=g.useRef(null),w=ge(i.price,i.discount,i.discountType),q=()=>{if(Le(t==null?void 0:t.variants,c,m).length)return;const O={...i,quantity:i.quantity,variants:c,addons:E,subTotal:j/i.quantity,total:j};s.updateItemInPOS(O),l()};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(H,{"aria-label":"Edit",type:"button",ref:_,onClick:()=>{b()},variant:"ghost",size:"sm",className:"text-secondary-500 hover:bg-secondary-100 hover:text-blue-500",children:e.jsxDEV($e,{size:16},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:99,columnNumber:9},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:88,columnNumber:7},this),e.jsxDEV(de,{isOpen:u,placement:"right",size:"md",onClose:l,finalFocusRef:_,children:[e.jsxDEV(Se,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:104,columnNumber:9},this),e.jsxDEV(re,{children:o?e.jsxDEV(M,{className:"flex-1 items-center justify-center",children:e.jsxDEV(se,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:108,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:107,columnNumber:13},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ae,{className:"px-4 py-6 flex flex-col gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"aspect-[3/2] bg-secondary-100 w-[15.625rem] rounded-[4px] mb-6",children:t!=null&&t.image.url?e.jsxDEV("img",{src:t==null?void 0:t.image.url,alt:t==null?void 0:t.name,className:"object-fill rounded-[4px]",onError:a=>a.currentTarget.src="/default_fallback.png"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:117,columnNumber:23},this):null},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:115,columnNumber:19},this),e.jsxDEV("div",{className:"flex flex-col gap-y-1",children:[e.jsxDEV(d,{as:"h3",fontSize:20,lineHeight:7,fontWeight:600,color:"secondary.900",children:m(t==null?void 0:t.name)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:128,columnNumber:21},this),e.jsxDEV(d,{as:"p",fontSize:16,lineHeight:6,fontWeight:400,color:"secondary.400",children:m(t==null?void 0:t.description)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:137,columnNumber:21},this),e.jsxDEV(M,{columnGap:"12px",alignItems:"end",children:[i!=null&&i.discount?e.jsxDEV(d,{as:"h3",fontSize:20,lineHeight:7,fontWeight:400,color:"secondary.600",children:e.jsxDEV("del",{children:S(t==null?void 0:t.price)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:157,columnNumber:27},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:150,columnNumber:25},this):null,e.jsxDEV(d,{as:"h2",fontSize:24,lineHeight:8,fontWeight:700,color:"primary.500",children:e.jsxDEV("span",{children:[" ",S(w)," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:168,columnNumber:25},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:161,columnNumber:23},this),i!=null&&i.discount?e.jsxDEV(d,{as:"span",fontSize:16,lineHeight:6,fontWeight:400,color:"green.500",children:[m("Discount"),":"," ",i.discountType==="amount"?`${S(i.discount)}`:`${i.discount}%`]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:172,columnNumber:25},this):null]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:148,columnNumber:21},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:127,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:113,columnNumber:17},this),e.jsxDEV(M,{flexDir:"column",rowGap:"12px",children:t==null?void 0:t.variants.map(a=>e.jsxDEV(D,{border:"1px",borderColor:"secondary.200",py:"12px",rounded:"6px",children:e.jsxDEV("div",{className:"w-full overflow-x-auto",children:e.jsxDEV(Z,{variant:"striped",size:"sm",children:[e.jsxDEV(ee,{className:"[&>tr>th]:px-6 [&>tr>th]:py-1.5",children:e.jsxDEV(L,{children:[e.jsxDEV(T,{textTransform:"capitalize",className:"flex items-center gap-2",children:[e.jsxDEV(d,{as:"h3",fontWeight:500,lineHeight:7,fontSize:20,children:a.name},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:204,columnNumber:33},this),e.jsxDEV("span",{className:"text-secondary-600 text-sm leading-5 font-normal",children:m(a.requirement==="required"?"(Required)":"(Optional)")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:207,columnNumber:33},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:203,columnNumber:31},this),e.jsxDEV(T,{isNumeric:!0,textTransform:"capitalize",w:"150px",children:m("Price")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:214,columnNumber:31},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:202,columnNumber:29},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:201,columnNumber:27},this),K(a).with({allowMultiple:0},()=>{var O,x;return e.jsxDEV(Be,{defaultValue:(O=a.variantOptions[0].id)==null?void 0:O.toString(),onChange:p=>{const h={id:a.id,name:a.name,option:a.variantOptions.find(C=>{var X;return((X=C.id)==null?void 0:X.toString())===p})};s.selectVariant(h,"radio",c,F)},as:Y,className:"[&>tr>td]:px-6 [&>tr>td]:py-1.5",name:a.value,colorScheme:"green",children:(x=a==null?void 0:a.variantOptions)==null?void 0:x.map(p=>{var h;return e.jsxDEV(L,{children:[e.jsxDEV(A,{className:"text-sm",children:e.jsxDEV(Xe,{colorScheme:"green",className:"border-black/15",value:(h=p.id)==null?void 0:h.toString(),children:e.jsxDEV(d,{fontSize:14,children:m(p.name)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:253,columnNumber:41},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:248,columnNumber:39},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:247,columnNumber:37},this),e.jsxDEV(A,{isNumeric:!0,className:"text-sm",children:S(p.price)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:256,columnNumber:37},this)]},p.id,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:246,columnNumber:35},this)})},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:223,columnNumber:31},this)}).with({allowMultiple:1},()=>{var O;return e.jsxDEV(Y,{className:"[&>tr>td]:px-6 [&>tr>td]:py-1.5",children:(O=a==null?void 0:a.variantOptions)==null?void 0:O.map(x=>{var p;return e.jsxDEV(L,{children:[e.jsxDEV(A,{className:"text-sm",children:e.jsxDEV(oe,{colorScheme:"green",value:(p=x.id)==null?void 0:p.toString(),className:"[&>span]:border-black/15",defaultChecked:c.some(h=>h.id===a.id&&h.option.some(C=>C.id===x.id)),onChange:()=>{const h={id:a.id,name:a.name,option:[x]};s.selectVariant(h,"checkbox",c,F)},children:e.jsxDEV(d,{fontSize:14,children:m(x.name)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:293,columnNumber:41},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:270,columnNumber:39},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:269,columnNumber:37},this),e.jsxDEV(A,{isNumeric:!0,className:"text-sm",children:S(x.price)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:296,columnNumber:37},this)]},x.id,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:268,columnNumber:35},this)})},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:266,columnNumber:31},this)}).otherwise(()=>null)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:200,columnNumber:25},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:199,columnNumber:23},this)},a.id,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:192,columnNumber:21},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:190,columnNumber:17},this),e.jsxDEV(D,{border:"1px",borderColor:"secondary.200",py:"12px",rounded:"6px",children:e.jsxDEV("div",{className:"w-full overflow-x-auto",children:e.jsxDEV(Z,{variant:"striped",size:"sm",children:[e.jsxDEV(ee,{className:"[&>tr>th]:px-6 [&>tr>th]:py-1.5",children:e.jsxDEV(L,{children:[e.jsxDEV(T,{textTransform:"capitalize",className:"flex items-center gap-2",w:"full",children:e.jsxDEV(d,{as:"h3",fontWeight:500,lineHeight:7,fontSize:20,children:m("Addons")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:321,columnNumber:29},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:316,columnNumber:27},this),e.jsxDEV(T,{textTransform:"capitalize",w:"150px",textAlign:"center",children:m("QTY")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:326,columnNumber:27},this),e.jsxDEV(T,{isNumeric:!0,textTransform:"capitalize",w:"150px",children:m("Price")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:330,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:315,columnNumber:25},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:314,columnNumber:23},this),e.jsxDEV(Y,{className:"[&>tr>td]:px-6 [&>tr>td]:py-[1px]",children:t==null?void 0:t.addons.map(a=>{var O,x;return e.jsxDEV(L,{"data-disabled":!a.isAvailable,className:"data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 select-none",children:[e.jsxDEV(A,{className:"text-sm w-full",children:e.jsxDEV(oe,{colorScheme:"green",value:(O=a.id)==null?void 0:O.toString(),className:"[&>span]:border-black/15",disabled:!a.isAvailable,defaultChecked:E.some(p=>p.id===a.id),onChange:()=>s.selectAddon(a,E,N),children:e.jsxDEV(d,{fontSize:14,children:m(a.name)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:354,columnNumber:33},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:344,columnNumber:31},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:343,columnNumber:29},this),e.jsxDEV(A,{className:"text-sm",w:"150px",children:e.jsxDEV(Oe,{value:((x=E.find(p=>p.id===a.id))==null?void 0:x.quantity)||1,disabled:!E.find(p=>p.id===a.id),onValueChange:p=>s.setAddonQty(a.id,p,E,N)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:359,columnNumber:31},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:358,columnNumber:29},this),e.jsxDEV(A,{isNumeric:!0,className:"text-sm",children:S(a.price)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:368,columnNumber:29},this)]},a.id,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:338,columnNumber:27},this)})},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:336,columnNumber:23},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:313,columnNumber:21},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:312,columnNumber:19},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:311,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:112,columnNumber:15},this),e.jsxDEV(Qe,{className:"p-4 pt-2 flex-col items-stretch border-t border-black/[8%] shadow-[0_1px_2px_rgba(0,0,0,0.1),0_-1px_3px_rgba(0,0,0,0.1)]",children:[e.jsxDEV(me,{className:"px-4",children:[e.jsxDEV(Je,{color:"secondary.500",children:m("Quantity")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:381,columnNumber:19},this),e.jsxDEV(V,{spacing:0,children:[e.jsxDEV(H,{"aria-label":"DecrementMenuQuantity",type:"button",roundedRight:"0",onClick:()=>s.setQuantity(i,i.quantity>1?i.quantity-1:1),children:e.jsxDEV(ue,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:389,columnNumber:23},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:383,columnNumber:21},this),e.jsxDEV(W,{fontSize:"1.5rem",fontWeight:700,lineHeight:"30px",rounded:"0",min:1,type:"number",textAlign:"center",value:i.quantity,onChange:a=>s.setQuantity(i,Math.max(1,+a.target.value)),onFocus:a=>a.target.select()},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:391,columnNumber:21},this),e.jsxDEV(H,{"aria-label":"IncrementMenuQuantity",type:"button",roundedLeft:"0",onClick:()=>s.setQuantity(i,i.quantity+1),children:e.jsxDEV(le,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:409,columnNumber:23},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:403,columnNumber:21},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:382,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:380,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center justify-between px-4 py-1 my-4",children:[e.jsxDEV("h4",{className:"text-lg font-normal",children:[" ",m("Total"),": "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:415,columnNumber:19},this),e.jsxDEV("h3",{className:"text-xl font-bold",children:S(j)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:416,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:414,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center px-4",children:[e.jsxDEV(y,{variant:"outline",w:"full",mr:3,onClick:l,children:m("Cancel")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:420,columnNumber:19},this),e.jsxDEV(y,{type:"button",variant:"solid",colorScheme:"blue",w:"full",onClick:q,children:m("Update")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:423,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:419,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:379,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:111,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:105,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:103,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/EditPOSItem.tsx",lineNumber:87,columnNumber:5},this)}const hi=i=>{const{getInputProps:s,getRadioProps:m}=Ye(i);return e.jsxDEV(D,{as:"label","data-disabled":!!i.disabled,className:"data-[disabled=true]:hidden",children:[e.jsxDEV("input",{...s(),disabled:i.disabled},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/OrderTypeSelect.tsx",lineNumber:14,columnNumber:7},void 0),e.jsxDEV(D,{...m(),cursor:"pointer",borderRadius:"6px",bg:"secondary.100",_hover:{bg:"secondary.200"},_checked:{bg:"primary.400",color:"white","& svg":{display:"inline-block",opacity:1,transition:"opacity 0.3s ease-in-out"},width:"auto"},px:6,py:2.5,fontSize:18,fontWeight:600,lineHeight:7,transition:"background-color 0.3s ease, color 0s ease",h:"48px",className:"select-none",children:e.jsxDEV(V,{children:[e.jsxDEV(Ke,{variant:"Bold",className:"hidden opacity-0 transition-opacity duration-300 ease-in-out"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/OrderTypeSelect.tsx",lineNumber:43,columnNumber:11},void 0),e.jsxDEV("span",{children:i.children},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/OrderTypeSelect.tsx",lineNumber:47,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/OrderTypeSelect.tsx",lineNumber:42,columnNumber:9},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/OrderTypeSelect.tsx",lineNumber:15,columnNumber:7},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/OrderTypeSelect.tsx",lineNumber:13,columnNumber:5},void 0)};function Ei({defaultValue:i,onChange:s}){var F,E,N,j;const{t:m}=Q(),{props:{branding:u}}=we(),b=[{label:"Dine-in",value:"dine_in",disabled:!((F=u==null?void 0:u.business)!=null&&F.dineIn)},{label:"Delivery",value:"delivery",disabled:!((E=u==null?void 0:u.business)!=null&&E.delivery)},{label:"Pick-up",value:"pickup",disabled:!((N=u==null?void 0:u.business)!=null&&N.pickup)}],l=((j=b.find(f=>!f.disabled))==null?void 0:j.value)||b[0].value,{getRootProps:t,getRadioProps:o,setValue:c}=Ge({name:"orderType",onChange:s,defaultValue:l});return g.useEffect(()=>{c(i)},[i]),e.jsxDEV(M,{...t({className:"flex-wrap gap-2"}),children:b.map(f=>e.jsxDEV(hi,{...o(f),children:m(f.label)},f.value,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/OrderTypeSelect.tsx",lineNumber:92,columnNumber:9},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/OrderTypeSelect.tsx",lineNumber:90,columnNumber:5},this)}const Si=i=>{const{getInputProps:s,getRadioProps:m}=Ye(i);return e.jsxDEV(D,{as:"label",children:[e.jsxDEV("input",{...s()},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/PaymentTypeSelect.tsx",lineNumber:12,columnNumber:7},void 0),e.jsxDEV(D,{...m(),cursor:"pointer",borderRadius:"6px",bg:"secondary.100",_checked:{bg:"blue.400",color:"white","& svg":{display:"inline-block",opacity:1,transition:"opacity 0.3s ease-in-out"},width:"auto"},px:4,py:2,fontSize:16,fontWeight:600,lineHeight:6,transition:"background-color 0.3s ease, color 0s ease",color:"secondary.800",h:"40px",children:e.jsxDEV(V,{children:[e.jsxDEV(Ke,{variant:"Bold",size:16,className:"hidden opacity-0 transition-opacity duration-300 ease-in-out"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/PaymentTypeSelect.tsx",lineNumber:38,columnNumber:11},void 0),e.jsxDEV("span",{children:i.children},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/PaymentTypeSelect.tsx",lineNumber:43,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/PaymentTypeSelect.tsx",lineNumber:37,columnNumber:9},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/PaymentTypeSelect.tsx",lineNumber:13,columnNumber:7},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/PaymentTypeSelect.tsx",lineNumber:11,columnNumber:5},void 0)};function ji({defaultValue:i,onChange:s}){const{t:m}=Q(),u=[{label:"Cash",value:"cash"},{label:"Card",value:"card"}],{getRootProps:b,getRadioProps:l,setValue:t}=Ge({name:"paymentType",defaultValue:i||"cash",onChange:s});return g.useEffect(()=>{t(i)},[i]),e.jsxDEV(V,{...b(),children:u.map(o=>e.jsxDEV(Si,{...l(o),children:m(o.label)},o.value,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/PaymentTypeSelect.tsx",lineNumber:77,columnNumber:9},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/PaymentTypeSelect.tsx",lineNumber:75,columnNumber:5},this)}const gi=()=>{var ve,De,Ae,Ve;const i=je(),{t:s}=Q(),{mutate:m}=ii(),[u,b]=g.useState(!1),[l,t]=g.useState(!1),[o,c]=bi(),[F,E]=g.useState(""),[N,j]=g.useState({show:!1,value:0,type:"amount"}),[f,_]=g.useState(new Map),[w,q]=g.useState(!1),a=ze(),O=be(F,300),{isOpen:x,onOpen:p,onClose:h}=ce(),{props:{branding:C}}=we(),{data:X,isLoading:ie}=he(()=>`/api/users?type=customer&search=${O}`,Ee),r=n=>{f.delete(n),_(f)},I=n=>{i.setDiscount(n.value,n.type),j({...n,show:!1})},v=n=>{const P=n.length;return n.map((z,U)=>z.option.map(te=>te.name).join(", ")+(U+1===P?"":" | ")).join("")},k=n=>n.map(P=>P.name+" x "+P.quantity).join(", "),J=()=>{i.resetPOS()},ne=async n=>{var U,te,ye,Ce;const P=new Map;if(q(!0),n.type||P.set("orderType","Order type is required."),n.type==="dine_in"?!((U=C==null?void 0:C.business)!=null&&U.guestCheckout)&&!((te=n==null?void 0:n.customer)!=null&&te.id)&&P.set("customer","Customer is required."):(ye=n==null?void 0:n.customer)!=null&&ye.id||P.set("customer","Customer is required."),n.paymentType||P.set("paymentType","Payment type is required."),!n.POSItems.length){G.error("Select at least one item.");return}if(P.size>0){_(P),q(!1);return}const z={userId:(Ce=n==null?void 0:n.customer)==null?void 0:Ce.id,type:n==null?void 0:n.type,manualDiscount:n==null?void 0:n.discount,paymentType:n==null?void 0:n.paymentType,customerNote:n==null?void 0:n.note,paymentStatus:!0,deliveryDate:new Date().toISOString().split("T")[0],orderItems:n.POSItems.map(R=>({menuItemId:R.id,quantity:R.quantity,variants:R.variants.map($=>({id:$.id,optionIds:$.option.map(ei=>ei.id)}))||[],addons:R.addons.map($=>({id:$.id,quantity:$.quantity}))||[]}))||[]};try{const{data:R}=await xe.post("/api/orders",z);R!=null&&R.success&&(G.success(s(R==null?void 0:R.message)||s("Customer created successfully")),J(),m($=>$.startsWith("/api/orders")))}catch(R){G.error(s(R.response.data.message)||s("Something went wrong"))}finally{q(!1)}},Pe=e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"@[900px]:sticky top-0 right-0 w-full @[900px]:w-auto inset-y-0 flex flex-col @[900px]:min-w-[512px] h-[calc(100vh-65px)]  md:h-[calc(100vh-76px)] bg-white border-l border-black/10 overflow-hidden",children:[e.jsxDEV(M,{flexDir:"column",rowGap:"2",flexGrow:1,px:4,py:6,overflowY:"auto",overflowX:"hidden",children:[e.jsxDEV(M,{flexDir:"column",gap:"2",children:[e.jsxDEV("label",{children:s("Select order type")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:211,columnNumber:13},void 0),e.jsxDEV(Ei,{defaultValue:i.type,onChange:n=>{r("orderType"),i.changeType(n,C.business.deliveryCharge)}},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:212,columnNumber:13},void 0),f.get("orderType")?e.jsxDEV(d,{className:"text-sm text-red-500",children:s(f.get("orderType"))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:224,columnNumber:15},void 0):null]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:210,columnNumber:11},void 0),e.jsxDEV(M,{flexDir:"column",gap:"2",children:[e.jsxDEV("label",{children:s("Customer info")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:230,columnNumber:13},void 0),u?e.jsxDEV(pi,{close:()=>b(!1),onSubmit:n=>{n!=null&&n.content&&i.setCustomer(n.content),b(!1)}},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:232,columnNumber:15},void 0):l?e.jsxDEV(fi,{customer:i.customer,close:()=>t(!1),onSubmit:n=>{n!=null&&n.content&&i.setCustomer(n.content),t(!1)}},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:242,columnNumber:15},void 0):e.jsxDEV(Ie,{matchWidth:!0,isOpen:o,onOpen:c.on,onClose:c.off,children:[e.jsxDEV(mi,{children:e.jsxDEV(V,{gap:"0",children:[e.jsxDEV(W,{readOnly:!0,roundedRight:"0",value:((ve=i==null?void 0:i.customer)==null?void 0:ve.fullName)||"",placeholder:s("Customer name"),onClick:c.on,onMouseUp:n=>n.preventDefault(),onMouseDown:n=>n.preventDefault()},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:261,columnNumber:21},void 0),(De=i==null?void 0:i.customer)!=null&&De.id?e.jsxDEV(H,{"aria-label":"Eye",roundedLeft:"0",roundedRight:"0",border:"1px",borderColor:"secondary.200",onClick:()=>t(!0),children:e.jsxDEV($e,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:279,columnNumber:25},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:271,columnNumber:23},void 0):null,e.jsxDEV(H,{"aria-label":"Add",roundedLeft:"0",border:"1px",borderColor:"secondary.200",onClick:()=>b(!0),children:e.jsxDEV(le,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:289,columnNumber:23},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:282,columnNumber:21},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:260,columnNumber:19},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:259,columnNumber:17},void 0),e.jsxDEV(ke,{className:"w-full",children:[e.jsxDEV(di,{className:"border-black/[6%]",children:e.jsxDEV(Ne,{children:[e.jsxDEV(pe,{pointerEvents:"none",children:e.jsxDEV(fe,{size:18,className:"text-secondary-500"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:298,columnNumber:25},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:297,columnNumber:23},void 0),e.jsxDEV(W,{type:"search",placeholder:s("Search..."),value:F,onChange:n=>E(n.target.value)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:300,columnNumber:23},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:296,columnNumber:21},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:295,columnNumber:19},void 0),e.jsxDEV(ri,{children:K({users:X,isUserLoading:ie}).with({isUserLoading:!0},()=>e.jsxDEV(V,{justifyContent:"center",py:"2.5",children:[e.jsxDEV(se,{size:"sm"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:312,columnNumber:27},void 0),e.jsxDEV(d,{className:"text-secondary-500",children:[" ",s("Loading...")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:313,columnNumber:27},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:311,columnNumber:25},void 0)).with({users:B.not(B.nullish)},({users:n})=>e.jsxDEV(M,{"aria-description":"customerSelection",flexDir:"column",alignItems:"stretch",children:n.map(P=>e.jsxDEV(y,{variant:"ghost",justifyContent:"flex-start",size:"sm",rounded:"4px",onClick:()=>{i.setCustomer(P),c.off()},textAlign:"left",fontWeight:400,fontSize:15,children:P.fullName},P.id,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:324,columnNumber:29},void 0))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:318,columnNumber:25},void 0)).otherwise(()=>e.jsxDEV(d,{color:"secondary.500",children:s("Empty customer")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:345,columnNumber:25},void 0))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:308,columnNumber:19},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:294,columnNumber:17},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:253,columnNumber:15},void 0),f.get("customer")?e.jsxDEV(d,{className:"text-sm text-red-500",children:s(f.get("customer"))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:353,columnNumber:15},void 0):null]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:229,columnNumber:11},void 0),(Ae=i==null?void 0:i.customer)!=null&&Ae.address&&!(l||u)?e.jsxDEV("div",{children:e.jsxDEV(V,{gap:"0",children:e.jsxDEV(W,{readOnly:!0,value:((Ve=i==null?void 0:i.customer)==null?void 0:Ve.address)||"",placeholder:s("Customer Address"),onMouseUp:n=>n.preventDefault(),onMouseDown:n=>n.preventDefault()},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:359,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:358,columnNumber:15},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:357,columnNumber:13},void 0):null,e.jsxDEV("div",{children:e.jsxDEV(li,{rows:3,placeholder:s("Customer note"),value:i.note,onChange:n=>i.setNote(n.target.value),className:"focus:border-primary-500 focus:outline-none focus:shadow-none mb-2"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:370,columnNumber:13},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:369,columnNumber:11},void 0),e.jsxDEV("div",{className:"relative w-full",children:e.jsxDEV(D,{border:"1px",borderColor:"secondary.200",className:"rounded-md flex-1 w-full overflow-w-auto shadow-[0_1px_2px_rgba(0,0,0,6%),0_1px_3px_rgba(0,0,0,10%)]",children:e.jsxDEV("div",{className:"w-full overflow-x-auto",children:e.jsxDEV(Z,{variant:i.POSItems.length?"striped":"simple",className:"table-auto w-full",children:[e.jsxDEV(ee,{children:e.jsxDEV(L,{children:[e.jsxDEV(T,{className:"w-full px-6",children:s("ITEMS")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:392,columnNumber:23},void 0),e.jsxDEV(T,{className:"text-center w-[100px] p-0",children:s("QTY")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:393,columnNumber:23},void 0),e.jsxDEV(T,{className:"w-[100px] px-3",children:s("PRICE")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:394,columnNumber:23},void 0),e.jsxDEV(T,{className:"w-[100px] pl-2 pr-6",children:s("TOTAL")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:395,columnNumber:23},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:391,columnNumber:21},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:390,columnNumber:19},void 0),e.jsxDEV(Y,{children:i.POSItems.length?i.POSItems.map((n,P)=>e.jsxDEV(L,{fontSize:14,lineHeight:5,fontWeight:400,children:[e.jsxDEV(A,{className:"w-full pl-6 pr-1.5",children:e.jsxDEV(V,{className:"flex-1",children:[e.jsxDEV(D,{className:"flex-1",children:[e.jsxDEV(d,{noOfLines:1,fontWeight:500,children:n.name},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:406,columnNumber:33},void 0),e.jsxDEV(Ie,{trigger:"hover",children:[e.jsxDEV(ai,{children:e.jsxDEV(d,{fontSize:12,children:[v(n.variants),n.addons.length>0&&" | ",k(n.addons)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:411,columnNumber:37},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:410,columnNumber:35},void 0),e.jsxDEV(ke,{className:"p-4",children:[e.jsxDEV(d,{as:"h3",fontWeight:600,color:"secondary.500",children:s("Variants")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:418,columnNumber:37},void 0),n.variants.map(z=>e.jsxDEV("ul",{className:"list-disc list-inside mb-2",children:[e.jsxDEV("li",{children:z.name},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:423,columnNumber:41},void 0),e.jsxDEV("ul",{className:"list-inside list-[circle] ml-4",children:z.option.map(U=>e.jsxDEV("li",{children:[" ",s(U.name)," "]},U.id,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:426,columnNumber:45},void 0))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:424,columnNumber:41},void 0)]},z.id,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:422,columnNumber:39},void 0)),e.jsxDEV(Fe,{className:"border-black/5"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:432,columnNumber:37},void 0),!!n.addons.length&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(d,{as:"h3",fontWeight:600,color:"secondary.500",mt:"4",children:s("Addons")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:436,columnNumber:41},void 0),n.addons.map(z=>e.jsxDEV("ul",{className:"list-disc list-inside mb-2",children:e.jsxDEV("li",{children:[s(z.name)," ( ",s("QTY: ")," ",z.quantity," )"]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:441,columnNumber:45},void 0)},z.id,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:440,columnNumber:43},void 0))]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:435,columnNumber:39},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:417,columnNumber:35},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:409,columnNumber:33},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:405,columnNumber:31},void 0),e.jsxDEV(V,{columnGap:0,children:[e.jsxDEV(H,{size:"sm","aria-label":"delete",onClick:()=>i.removeItemFromPOS(n),variant:"ghost",className:"text-secondary-500 hover:text-red-500 hover:bg-secondary-100",children:e.jsxDEV(ui,{size:"16"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:460,columnNumber:35},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:453,columnNumber:33},void 0),e.jsxDEV(xi,{...n},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:462,columnNumber:33},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:452,columnNumber:31},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:404,columnNumber:29},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:403,columnNumber:27},void 0),e.jsxDEV(A,{className:"p-0",children:e.jsxDEV(Oe,{value:n.quantity,onValueChange:z=>{i.setQuantity(n,z)}},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:467,columnNumber:29},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:466,columnNumber:27},void 0),e.jsxDEV(A,{isNumeric:!0,className:"px-2",children:S(n.subTotal??0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:474,columnNumber:27},void 0),e.jsxDEV(A,{isNumeric:!0,className:"pl-2 pr-6",children:S((n==null?void 0:n.total)??0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:477,columnNumber:27},void 0)]},P,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:402,columnNumber:25},void 0)):e.jsxDEV(L,{children:e.jsxDEV(A,{colSpan:4,className:"border-none",children:e.jsxDEV(d,{className:"text-secondary-500 font-medium text-sm",children:s("No items have been added yet.")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:485,columnNumber:27},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:484,columnNumber:25},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:483,columnNumber:23},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:399,columnNumber:19},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:386,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:385,columnNumber:15},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:380,columnNumber:13},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:379,columnNumber:11},void 0),e.jsxDEV(M,{flexDir:"column",className:"text-lg font-normal",children:[e.jsxDEV(D,{as:"div",className:"grid grid-cols-[1fr,100px] border-b py-1.5 border-black/5",children:[e.jsxDEV(d,{children:[" ",s("Subtotal"),": "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:501,columnNumber:15},void 0),e.jsxDEV(d,{fontWeight:500,textAlign:"right",children:S(i.subTotal)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:502,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:500,columnNumber:13},void 0),i.POSCharges.map(n=>e.jsxDEV(D,{as:"div",className:"grid grid-cols-[1fr,100px] border-b py-1.5 border-black/5",children:[e.jsxDEV(d,{children:[n.name,":"]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:513,columnNumber:17},void 0),e.jsxDEV(d,{fontWeight:500,textAlign:"right",children:S(n.amount)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:514,columnNumber:17},void 0)]},n==null?void 0:n.id,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:508,columnNumber:15},void 0)),e.jsxDEV(D,{as:"div",className:"grid grid-cols-[1fr,100px] border-b py-1.5 border-black/5",children:[e.jsxDEV(D,{className:"flex flex-wrap @xs:flex-nowrap items-center gap-3",children:[s("Discount"),":",i.discount===0&&!N.show&&e.jsxDEV(y,{size:"sm",className:"px-3",onClick:()=>j({...N,show:!0}),children:s("Add Discount")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:525,columnNumber:19},void 0),N.show&&e.jsxDEV(y,{size:"sm",className:"px-3",onClick:()=>{j({...N,value:0,show:!1}),i.setDiscount(0,"amount")},children:s("Remove Discount")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:534,columnNumber:19},void 0),i.discount!==0&&!N.show&&e.jsxDEV(y,{size:"sm",className:"px-3",onClick:()=>j({...N,show:!0}),children:s("Edit Discount")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:546,columnNumber:19},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:522,columnNumber:15},void 0),e.jsxDEV(d,{fontWeight:500,textAlign:"right",children:["- ",S(i.discount)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:560,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:521,columnNumber:13},void 0),N.show&&e.jsxDEV(D,{as:"div",className:"grid grid-cols-[1fr,100px] gap-4 pt-2",children:[e.jsxDEV(V,{className:"flex gap-3",children:[e.jsxDEV(V,{children:e.jsxDEV(oi,{defaultValue:N.type,onChange:n=>j(P=>({...P,type:n}))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:568,columnNumber:21},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:567,columnNumber:19},void 0),e.jsxDEV(W,{type:"number",value:N.value,onChange:n=>j(P=>({...P,value:+n.target.value})),placeholder:s("Add discount"),onFocus:n=>n.currentTarget.select()},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:575,columnNumber:19},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:566,columnNumber:17},void 0),e.jsxDEV(y,{variant:"outline",colorScheme:"blue",type:"button",onClick:()=>I(N),children:s("Add")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:583,columnNumber:17},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:565,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:498,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:201,columnNumber:9},void 0),e.jsxDEV(D,{className:"px-4 py-6 flex flex-col gap-3.5 shadow-[0px_1px_2px_0px_rgba(0,0,0,0.06),0px_-1px_3px_0px_rgba(0,0,0,0.1)]",children:[e.jsxDEV(D,{as:"div",className:"grid grid-cols-[1fr,100px] text-lg font-normal border-b py-1 border-black/[6%]",children:[e.jsxDEV(D,{children:[" ",s("Grand total"),": "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:600,columnNumber:13},void 0),e.jsxDEV(d,{fontWeight:700,textAlign:"right",children:S(i.total)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:601,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:596,columnNumber:11},void 0),e.jsxDEV(M,{flexDir:"column",gap:"2",children:[e.jsxDEV("label",{children:s("Payment type")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:607,columnNumber:13},void 0),e.jsxDEV(ji,{defaultValue:i.paymentType,onChange:n=>{i.changePaymentType(n),r("paymentType")}},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:608,columnNumber:13},void 0),f.get("paymentType")?e.jsxDEV(d,{className:"text-sm text-red-500",children:s(f.get("paymentType"))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:617,columnNumber:15},void 0):null]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:606,columnNumber:11},void 0),e.jsxDEV(Fe,{className:"border-black/[6%] opacity-100"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:623,columnNumber:11},void 0),e.jsxDEV(V,{spacing:1,gap:"3",children:[e.jsxDEV(y,{variant:"outline",colorScheme:"primary",w:"full",onClick:()=>i.resetPOS(),children:s("Clear")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:626,columnNumber:13},void 0),e.jsxDEV(y,{type:"button",variant:"solid",colorScheme:"green",w:"full",isLoading:w,disabled:!i.POSItems.length||w,rightIcon:e.jsxDEV(ci,{size:16},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:636,columnNumber:26},void 0),onClick:()=>ne(i),children:s("Place Order")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:629,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:625,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:595,columnNumber:9},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:200,columnNumber:7},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:199,columnNumber:5},void 0);return a.width<768?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(y,{colorScheme:"primary",className:"absolute bottom-10 right-10 z-10 bg-primary-400 hover:bg-primary-500",onClick:p,children:e.jsxDEV(V,{children:[e.jsxDEV(Ue,{className:"rounded-full",size:"lg",children:i.POSItems.length},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:656,columnNumber:13},void 0),e.jsxDEV("span",{children:[" ",s("POS's Cart")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:659,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:655,columnNumber:11},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:650,columnNumber:9},void 0),e.jsxDEV(de,{isOpen:x,onClose:h,size:"md",children:e.jsxDEV(re,{children:[e.jsxDEV(Re,{className:"border-b border-b-black/[6%]",children:[s("POS's Cart"),e.jsxDEV(Te,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:666,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:664,columnNumber:13},void 0),e.jsxDEV(ae,{className:"p-0",children:Pe},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:669,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:663,columnNumber:11},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:662,columnNumber:9},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSCheckoutForm.tsx",lineNumber:649,columnNumber:7},void 0):Pe},Ze=ni.forwardRef((i,s)=>{const{t:m}=Q(),{name:u,description:b,image:l,price:t,discount:o,discountType:c,foodType:F,isAvailable:E,onOpen:N}=i,j=ge(t,o,c);return E?e.jsxDEV("div",{className:"pos-menu-item",children:e.jsxDEV(D,{ref:s,as:"div",className:"relative p-3 m-2 bg-white rounded-2xl shadow-item overflow-hidden cursor-pointer",onClick:N,children:[o?e.jsxDEV(Ue,{variant:"subtle",colorScheme:"green",className:"absolute top-4 left-4",children:[c==="amount"?`${S(o)}`:`${o}%`," ",m("off")]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItemCard.tsx",lineNumber:40,columnNumber:11},void 0):null,e.jsxDEV("img",{src:l,alt:"item","data-cover-image":!0,className:"w-full object-cover rounded-lg mb-2 transition-all duration-300",onError:f=>f.currentTarget.src="/default_fallback.png"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItemCard.tsx",lineNumber:45,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex justify-between items-center gap-3 mb-3",children:[e.jsxDEV("div",{className:"pb-1",children:[e.jsxDEV(d,{as:"h4",noOfLines:1,className:"font-medium",children:u},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItemCard.tsx",lineNumber:55,columnNumber:13},void 0),e.jsxDEV(d,{as:"p",noOfLines:1,className:"text-gray-400 text-sm",children:b},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItemCard.tsx",lineNumber:58,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItemCard.tsx",lineNumber:54,columnNumber:11},void 0),F==="veg"?e.jsxDEV("img",{src:"/mark.svg",alt:"Vag"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItemCard.tsx",lineNumber:64,columnNumber:13},void 0):e.jsxDEV("img",{src:"/non-veg-mark.svg",alt:"Non veg"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItemCard.tsx",lineNumber:66,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItemCard.tsx",lineNumber:53,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 mb-3 pb-1",children:[o?e.jsxDEV("del",{className:"text-gray-700",children:S(t)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItemCard.tsx",lineNumber:71,columnNumber:23},void 0):null,e.jsxDEV("span",{className:"text-primary-400 font-semibold",children:S(j)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItemCard.tsx",lineNumber:72,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItemCard.tsx",lineNumber:70,columnNumber:9},void 0),e.jsxDEV(y,{variant:"solid",size:"sm",colorScheme:"primary",width:"100%",leftIcon:e.jsxDEV(le,{size:16},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItemCard.tsx",lineNumber:82,columnNumber:21},void 0),className:"uppercase bg-primary-400 hover:bg-primary-500 rounded-full px-8",onClick:N,children:m("Add")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItemCard.tsx",lineNumber:77,columnNumber:9},void 0)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItemCard.tsx",lineNumber:33,columnNumber:7},void 0)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItemCard.tsx",lineNumber:32,columnNumber:5},void 0):null});Ze.displayName="POSItemCard";function Oi({id:i,name:s,description:m,price:u,image:b,variants:l,...t}){var ie;const{t:o}=Q(),{isOpen:c,onOpen:F,onClose:E}=ce(),[N,j]=g.useState(1),[f,_]=g.useState([]),[w,q]=g.useState([]),[a,O]=g.useState(0),x=je(),p=g.useRef(null),h=ge(u,t.discount,t.discountType);g.useEffect(()=>{let r=h;f.forEach(I=>{r+=I.option.reduce((v,k)=>v+k.price,0)}),w.forEach(I=>{r+=I.price*I.quantity}),r*=N,O(r)},[f,w,N]);const C=()=>{j(1),_([]),q([])},X=()=>{Le(l,f,o).length||(x.addItemToPOS({id:i,name:s,description:m,price:u,charges:t.charges,image:b,discount:t.discount,discountType:t.discountType,variants:f,addons:w,subTotal:a/N,quantity:N,total:a}),C(),E())};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ze,{ref:p,onOpen:F,name:s,description:m,price:u,image:(b==null?void 0:b.url)??"",discount:Number((t==null?void 0:t.discount)??0),discountType:(t==null?void 0:t.discountType)??"",foodType:t==null?void 0:t.foodType,isAvailable:!!(t!=null&&t.isAvailable)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:120,columnNumber:7},this),e.jsxDEV(de,{isOpen:c,placement:"right",size:"md",onClose:()=>{E(),C()},finalFocusRef:p,children:[e.jsxDEV(Se,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:144,columnNumber:9},this),e.jsxDEV(re,{children:[e.jsxDEV(ae,{className:"px-4 py-6 flex flex-col gap-3 flex-1",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"aspect-[3/2] bg-secondary-100 w-[15.625rem] rounded-[4px] mb-6",children:b.url?e.jsxDEV("img",{src:b.url,alt:"1",className:"object-fill rounded-[4px]",onError:r=>r.currentTarget.src="/default_fallback.png"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:152,columnNumber:19},this):null},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:150,columnNumber:15},this),e.jsxDEV("div",{className:"flex flex-col gap-y-1",children:[e.jsxDEV(d,{as:"h3",fontSize:20,lineHeight:7,fontWeight:600,color:"secondary.900",children:s},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:163,columnNumber:17},this),e.jsxDEV(d,{as:"p",fontSize:16,lineHeight:6,fontWeight:400,color:"secondary.400",children:m},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:166,columnNumber:17},this),e.jsxDEV(M,{columnGap:"12px",alignItems:"end",children:[t.discount?e.jsxDEV(d,{as:"h3",fontSize:20,lineHeight:7,fontWeight:400,color:"secondary.600",children:e.jsxDEV("del",{children:S(u)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:180,columnNumber:23},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:173,columnNumber:21},this):null,e.jsxDEV(d,{as:"h2",fontSize:24,lineHeight:8,fontWeight:700,color:"primary.500",children:e.jsxDEV("span",{children:[" ",S(h)," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:185,columnNumber:21},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:184,columnNumber:19},this),t.discount?e.jsxDEV(d,{as:"span",fontSize:16,lineHeight:6,fontWeight:400,color:"green.500",children:[o("Discount"),":"," ",t.discountType==="amount"?`${S(t.discount)}`:`${t.discount}%`]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:189,columnNumber:21},this):null]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:171,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:162,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:148,columnNumber:13},this),(l==null?void 0:l.length)>0&&e.jsxDEV(M,{flexDir:"column",rowGap:"12px",children:l==null?void 0:l.map(r=>e.jsxDEV(D,{border:"1px",borderColor:"secondary.200",py:"8px",rounded:"6px",className:"w-full overflow-x-auto",children:e.jsxDEV(Z,{variant:"striped",size:"sm",children:[e.jsxDEV(ee,{className:"[&>tr>th]:px-6 [&>tr>th]:py-1.5",children:e.jsxDEV(L,{children:[e.jsxDEV(T,{textTransform:"capitalize",className:"flex items-center gap-1",children:[e.jsxDEV(d,{as:"h3",fontWeight:500,fontSize:16,children:r.name},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:216,columnNumber:29},this),e.jsxDEV("span",{className:"text-secondary-600 text-sm leading-5 font-normal",children:r.requirement==="required"?`(${o("Required")})`:`(${o("Optional")})`},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:219,columnNumber:29},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:215,columnNumber:27},this),e.jsxDEV(T,{isNumeric:!0,textTransform:"uppercase",w:"150px",children:o("Price")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:226,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:214,columnNumber:25},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:213,columnNumber:23},this),K(r).with({allowMultiple:0},()=>{var I;return e.jsxDEV(Be,{onChange:v=>{const k={id:r.id,name:r.name,option:r.variantOptions.find(J=>{var ne;return((ne=J.id)==null?void 0:ne.toString())===v})};x.selectVariant(k,"radio",f,_)},as:Y,className:"[&>tr>td]:px-6 [&>tr>td]:py-1.5",name:r.value,colorScheme:"green",children:(I=r==null?void 0:r.variantOptions)==null?void 0:I.map(v=>{var k;return e.jsxDEV(L,{children:[e.jsxDEV(A,{className:"text-sm",children:e.jsxDEV(Xe,{colorScheme:"green",className:"border-black/15",value:(k=v.id)==null?void 0:k.toString(),children:e.jsxDEV(d,{fontSize:14,children:v.name},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:264,columnNumber:37},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:259,columnNumber:35},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:258,columnNumber:33},this),e.jsxDEV(A,{isNumeric:!0,className:"text-sm",children:S(v.price)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:267,columnNumber:33},this)]},v.id,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:257,columnNumber:31},this)})},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:235,columnNumber:27},this)}).with({allowMultiple:1},()=>{var I;return e.jsxDEV(Y,{className:"[&>tr>td]:px-6 [&>tr>td]:py-1.5",children:(I=r==null?void 0:r.variantOptions)==null?void 0:I.map(v=>{var k;return e.jsxDEV(L,{children:[e.jsxDEV(A,{className:"text-sm",children:e.jsxDEV(oe,{colorScheme:"green",value:(k=v.id)==null?void 0:k.toString(),className:"[&>span]:border-black/15",onChange:()=>{const J={id:r.id,name:r.name,option:[v]};x.selectVariant(J,"checkbox",f,_)},children:e.jsxDEV(d,{fontSize:14,children:o(v.name)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:299,columnNumber:37},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:281,columnNumber:35},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:280,columnNumber:33},this),e.jsxDEV(A,{isNumeric:!0,className:"text-sm",children:S(v.price)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:302,columnNumber:33},this)]},v.id,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:279,columnNumber:31},this)})},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:277,columnNumber:27},this)}).otherwise(()=>e.jsxDEV(d,{className:"text-secondary-500",children:[" ",o("Empty data")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:310,columnNumber:27},this))]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:212,columnNumber:21},this)},r.id,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:204,columnNumber:19},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:202,columnNumber:15},this),((ie=t.addons)==null?void 0:ie.length)>0&&e.jsxDEV(D,{border:"1px",borderColor:"secondary.200",py:"8px",rounded:"6px",className:"w-full",children:e.jsxDEV("div",{className:"w-full overflow-x-auto",children:e.jsxDEV(Z,{variant:"striped",size:"sm",children:[e.jsxDEV(ee,{className:"[&>tr>th]:px-6 [&>tr>th]:py-1.5",children:e.jsxDEV(L,{children:[e.jsxDEV(T,{textTransform:"capitalize",className:"flex items-center gap-2",w:"full",children:e.jsxDEV(d,{as:"h3",fontWeight:500,fontSize:16,children:o("Addons")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:332,columnNumber:27},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:331,columnNumber:25},this),e.jsxDEV(T,{textTransform:"uppercase",w:"150px",textAlign:"center",children:o("QTY")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:337,columnNumber:25},this),e.jsxDEV(T,{isNumeric:!0,textTransform:"uppercase",w:"150px",children:o("Price")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:341,columnNumber:25},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:330,columnNumber:23},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:329,columnNumber:21},this),e.jsxDEV(Y,{className:"[&>tr>td]:px-6 [&>tr>td]:py-[1px]",children:t==null?void 0:t.addons.map(r=>{var I,v;return e.jsxDEV(L,{"data-disabled":!r.isAvailable,className:"data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 select-none",children:[e.jsxDEV(A,{className:"text-sm w-full",children:e.jsxDEV(oe,{colorScheme:"green",value:(I=r.id)==null?void 0:I.toString(),className:"[&>span]:border-black/15",disabled:!r.isAvailable,onChange:()=>x.selectAddon(r,w,q),children:e.jsxDEV(d,{fontSize:14,children:r.name},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:364,columnNumber:31},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:355,columnNumber:29},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:354,columnNumber:27},this),e.jsxDEV(A,{className:"text-sm",w:"150px",children:e.jsxDEV(Oe,{value:((v=w.find(k=>k.id===r.id))==null?void 0:v.quantity)||1,onValueChange:k=>x.setAddonQty(r.id,k,w,q)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:369,columnNumber:29},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:368,columnNumber:27},this),e.jsxDEV(A,{isNumeric:!0,className:"text-sm",children:S(r.price)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:377,columnNumber:27},this)]},r.id,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:349,columnNumber:25},this)})},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:347,columnNumber:21},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:328,columnNumber:19},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:327,columnNumber:17},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:320,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:147,columnNumber:11},this),e.jsxDEV(Qe,{className:"p-4 pt-2 flex-col items-stretch border-t border-black/[8%] shadow-[0_1px_2px_rgba(0,0,0,0.1),0_-1px_3px_rgba(0,0,0,0.1)]",children:[e.jsxDEV(me,{className:"px-4",children:[e.jsxDEV(Je,{color:"secondary.500",children:o("Quantity")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:391,columnNumber:15},this),e.jsxDEV(V,{spacing:0,children:[e.jsxDEV(H,{"aria-label":"DecrementMenuQuantity",type:"button",roundedRight:"0",onClick:()=>j(N>1?N-1:1),children:e.jsxDEV(ue,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:399,columnNumber:19},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:393,columnNumber:17},this),e.jsxDEV(W,{fontSize:"1.5rem",fontWeight:700,lineHeight:"30px",rounded:"0",min:1,type:"number",textAlign:"center",value:N,onChange:r=>j(Math.max(1,+r.target.value)),onFocus:r=>r.target.select()},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:401,columnNumber:17},this),e.jsxDEV(H,{"aria-label":"IncrementMenuQuantity",type:"button",roundedLeft:"0",onClick:()=>j(N+1),children:e.jsxDEV(le,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:419,columnNumber:19},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:413,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:392,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:390,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-between px-4 py-1 my-4",children:[e.jsxDEV("h4",{className:"text-lg font-normal",children:[" ",o("Total"),": "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:425,columnNumber:15},this),e.jsxDEV("h3",{className:"text-xl font-bold",children:S(a)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:426,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:424,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center px-4",children:[e.jsxDEV(y,{variant:"outline",w:"full",mr:3,onClick:()=>{E(),C()},children:o("Cancel")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:430,columnNumber:15},this),e.jsxDEV(y,{type:"button",variant:"solid",colorScheme:"blue",w:"full",onClick:X,children:o("Add")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:441,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:429,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:389,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:145,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:134,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/POS/POSItem.tsx",lineNumber:119,columnNumber:5},this)}function pn(){const{t:i}=Q(),[s,m]=g.useState(""),[u,b]=g.useState(""),[l,t]=g.useState(""),{isOpen:o,onOpen:c,onClose:F}=ce(),E=ze(),N=be(u,300),j=be(l,300),{categories:f,isLoading:_}=si("/api/user/categories/global",{search:N}),{data:w,isLoading:q}=he(()=>`/api/user/menu-items/global?category=${s}&search=${j}&available=true`,Ee),a=()=>{const x=e.jsxDEV("div",{className:"@md:sticky top-0 left-0 inset-y-0 @md:max-w-[200px] w-full @[1300px]:h-[calc(100vh-76px)] space-y-3 p-3 bg-white @md:border-r border-black/10 overflow-y-auto",children:[e.jsxDEV("div",{className:"h-[86px] border-b border-black/10 space-y-2 flex flex-col justify-end pb-4",children:[e.jsxDEV("span",{className:"text-secondary-400 text-sm font-medium",children:i("Categories")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:62,columnNumber:11},this),e.jsxDEV(Ne,{children:[e.jsxDEV(pe,{pointerEvents:"none",children:e.jsxDEV(fe,{size:18},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:65,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:64,columnNumber:13},this),e.jsxDEV(W,{type:"search",placeholder:i("Search"),className:"bg-white",value:u,onChange:p=>b(p.target.value)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:67,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:63,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:61,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:K({isCategoryLoading:_,categories:f}).with({isCategoryLoading:!0},()=>e.jsxDEV(V,{justifyContent:"center",py:"2.5",fontSize:"14px",children:[e.jsxDEV(se,{size:"sm"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:82,columnNumber:17},this),e.jsxDEV(d,{className:"text-secondary-500",children:[" ",i("Loading...")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:83,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:81,columnNumber:15},this)).with({categories:B.not(B.nullish)},({categories:p})=>p.length?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(y,{type:"button",variant:"ghost",colorScheme:"secondary","data-selected":s==="",className:"bg-gray-100 text-gray-700 hover:bg-gray-200 w-full data-[selected=true]:bg-primary-400 data-[selected=true]:text-white",onClick:()=>{m(""),b(""),t("")},children:i("All items")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:91,columnNumber:19},this),p.map(h=>e.jsxDEV(y,{type:"button",variant:"ghost",colorScheme:"secondary","data-selected":s===`${h.id}`,className:"bg-gray-100 text-gray-700 hover:bg-gray-200 w-full data-[selected=true]:bg-primary-400 data-[selected=true]:text-white",onClick:()=>{m(`${h.id}`),b(""),t("")},children:i(h.name)},h.id,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:107,columnNumber:21},this))]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:90,columnNumber:17},this):e.jsxDEV(d,{color:"secondary.500",children:i("Empty category")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:125,columnNumber:17},this)).otherwise(()=>e.jsxDEV(d,{color:"secondary.500",children:i("Empty category")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:131,columnNumber:15},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:76,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:60,columnNumber:7},this);return E.width>1300?x:e.jsxDEV(de,{isOpen:o,onClose:F,placement:E.width<900?"bottom":"left",children:[e.jsxDEV(Se,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:149,columnNumber:9},this),e.jsxDEV(re,{className:`${E.width<900?"rounded-t-2xl":"rounded-t-none"} px-0`,children:[e.jsxDEV(Re,{children:[i("Categories"),e.jsxDEV(Te,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:155,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:153,columnNumber:11},this),e.jsxDEV(ae,{className:"max-h-[80vh] px-0",children:x},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:157,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:150,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:144,columnNumber:7},this)},O=x=>e.jsxDEV("div",{className:"p-3 w-full @container",children:[e.jsxDEV("div",{className:"@xs:h-[86px] flex @xs:items-end flex-col @xs:flex-row border-b gap-2 border-black/10 mb-3 pb-4",children:[E.width<=1300&&e.jsxDEV(y,{variant:"outline",className:"bg-white",onClick:c,leftIcon:e.jsxDEV(Ni,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:173,columnNumber:25},this),children:e.jsxDEV("span",{children:i("Category")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:175,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:169,columnNumber:13},this),e.jsxDEV(Ne,{className:"flex-1",children:[e.jsxDEV(pe,{pointerEvents:"none",children:e.jsxDEV(fe,{size:18},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:180,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:179,columnNumber:13},this),e.jsxDEV(W,{type:"search",placeholder:i("Search"),className:"bg-white",value:l,onChange:h=>t(h.target.value)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:182,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:178,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:167,columnNumber:9},this),K({menuItems:x,isMenuItemsLoading:q}).with({isMenuItemsLoading:!0},()=>e.jsxDEV(V,{height:"200px",justifyContent:"center",children:[e.jsxDEV(se,{size:"sm"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:197,columnNumber:15},this),e.jsxDEV(d,{children:i("Loading...")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:198,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:196,columnNumber:13},this)).with({menuItems:B.array(B.not(B.nullish))},({menuItems:h})=>h.length?e.jsxDEV("div",{className:"pos-menu-container",children:e.jsxDEV("div",{className:"pos-menu-grid gap-4",children:h==null?void 0:h.map(C=>e.jsxDEV(Oi,{...C},C.id,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:207,columnNumber:50},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:206,columnNumber:17},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:205,columnNumber:15},this):e.jsxDEV(d,{color:"secondary.500",children:i("Empty items")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:211,columnNumber:15},this)).otherwise(()=>e.jsxDEV(d,{color:"secondary.500",children:i("Empty items")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:217,columnNumber:13},this))]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:166,columnNumber:7},this);return e.jsxDEV(ti,{title:i("POS / Create new order"),enableDrawerSidebar:E.width<1200,children:e.jsxDEV("div",{className:"flex w-full @container",children:[a(),e.jsxDEV("div",{className:"flex w-full",children:[O(w),e.jsxDEV(gi,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:230,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:228,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:226,columnNumber:7},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/POS.tsx",lineNumber:225,columnNumber:5},this)}export{pn as default};
