import{r as a,j as e,S as k,b as E,t as j,a2 as A}from"./app-p3FobzL5.js";import{C as U}from"./CustomerLayout-B-isIdbx.js";import{F as V,a as S,b as l,c}from"./formik.esm-C9K4NhZh.js";import{c as y,a as d,f as C}from"./index.esm-vozbR36e.js";import{u as I}from"./useTranslation-jbS6ivqO.js";import{F as h,I as N}from"./input-cx0LjzCS.js";import{F as p}from"./form-label-rj1Y5muO.js";import{I as w}from"./input-group-3FZosNBb.js";import{a as b}from"./input-element-DW2n0nal.js";import{B as o}from"./_rollupPluginBabelHelpers-3bc641ae-btRFf1Fy.js";import{T as F}from"./TickCircle-BeldSHqy.js";/* empty css            */import"./CustomerHeader-C04vMqIV.js";import"./validate_required_variants-D2yQpkaP.js";import"./platform_roles-D3HjcMuK.js";import"./ArrowDown2-DM1rERZ4.js";import"./Minus-CX-dPmlg.js";import"./currency_formatter-Bz1CGAdC.js";import"./use-radio-BmR54MTD.js";import"./visually-hidden.style-Bfr07Aua.js";import"./index-CuMLbxmh.js";import"./Edit2-BUbnZjhm.js";import"./tr-EefZORq7.js";import"./radio-Bmoumz0n.js";import"./checkbox-r7APxjHP.js";import"./use-checkbox-fX-NceDq.js";import"./popover-trigger-D9abZrFQ.js";import"./divider-CHTuOarn.js";import"./Trash-CzXP6s3A.js";import"./textarea-pmQ9KYwB.js";import"./popover-anchor-B8g7wOff.js";import"./SearchNormal-CydsvnL-.js";import"./popover-body-Cnhf1gCL.js";function pe({...m}){const{t:s}=I(),f=new URLSearchParams(window.location.search).get("token"),[x,D]=a.useState(!1),[i,v]=a.useState(!1),[u,P]=a.useState(!1);if(a.useEffect(()=>{m.auth&&(window.location.href="/")},[]),m.auth)return e.jsxDEV("div",{className:"w-screen h-screen flex items-center justify-center",children:e.jsxDEV(k,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:38,columnNumber:9},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:37,columnNumber:7},this);const g=()=>{A.visit("/login",{preserveScroll:!1})};return e.jsxDEV(U,{children:e.jsxDEV("div",{className:"py-14 px-4",children:e.jsxDEV("div",{className:"max-w-[600px] mx-auto bg-white py-12 px-16 rounded-2xl shadow-auth",children:x?e.jsxDEV("div",{className:"flex flex-col items-center justify-center text-center gap-2",children:[e.jsxDEV(F,{size:164,className:"text-primary-400",variant:"Bulk"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:153,columnNumber:15},this),e.jsxDEV("h2",{className:"text-2xl font-semibold text-center",children:s("Successful")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:154,columnNumber:15},this),e.jsxDEV("p",{className:"text-center mb-6",children:s("We've reset your password. Sign in again.")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:155,columnNumber:15},this),e.jsxDEV(o,{onClick:g,variant:"solid",colorScheme:"primary",className:"button-primary",children:s("SIGN IN")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:156,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:152,columnNumber:13},this):e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-semibold text-center mb-2",children:s("Create a new password")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:52,columnNumber:15},this),e.jsxDEV("p",{className:"text-center mb-8",children:s("Set a new password and you're good to go!")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:55,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV(V,{initialValues:{password:"",confirmPassword:"",token:f},onSubmit:async(n,t)=>{try{t.setSubmitting(!0);const{data:r}=await E.post("/api/auth/reset-password",n);r.success&&D(!0)}catch(r){j.error(s(r.response.data.message||"Invalid Credentials"))}finally{t.setSubmitting(!1)}},validationSchema:y().shape({password:d().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:d().required("Confirm password is required").oneOf([C("password")],"Passwords must match")}),children:({isSubmitting:n})=>e.jsxDEV(S,{className:"space-y-4",children:[e.jsxDEV(l,{name:"password",children:({field:t,form:r})=>e.jsxDEV(h,{isInvalid:r.errors.password&&r.touched.password,children:[e.jsxDEV(p,{children:s("Password")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:90,columnNumber:29},this),e.jsxDEV(w,{size:"md",children:[e.jsxDEV(N,{...t,pr:"4.5rem",type:i?"text":"password",placeholder:s("New password")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:92,columnNumber:31},this),e.jsxDEV(b,{width:"4.5rem",children:e.jsxDEV(o,{h:"1.75rem",size:"sm",onClick:()=>v(!i),children:s(i?"Hide":"Show")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:99,columnNumber:33},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:98,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:91,columnNumber:29},this),e.jsxDEV(c,{children:s(r.errors.password)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:104,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:89,columnNumber:27},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:87,columnNumber:23},this),e.jsxDEV(l,{name:"confirmPassword",children:({field:t,form:r})=>e.jsxDEV(h,{isInvalid:r.errors.confirmPassword&&r.touched.confirmPassword,children:[e.jsxDEV(p,{children:s("Confirm Password")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:113,columnNumber:29},this),e.jsxDEV(w,{size:"md",children:[e.jsxDEV(N,{...t,pr:"4.5rem",type:u?"text":"password",placeholder:s("Confirm new password")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:115,columnNumber:31},this),e.jsxDEV(b,{width:"4.5rem",children:e.jsxDEV(o,{h:"1.75rem",size:"sm",onClick:()=>P(!u),children:s(u?"Hide":"Show")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:122,columnNumber:33},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:121,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:114,columnNumber:29},this),e.jsxDEV(c,{children:s(r.errors.confirmPassword)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:131,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:110,columnNumber:27},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:108,columnNumber:23},this),e.jsxDEV("div",{className:"flex justify-end",children:e.jsxDEV(o,{isLoading:n,type:"submit",variant:"solid",colorScheme:"primary",className:"button-primary",children:s("CREATE PASSWORD")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:136,columnNumber:25},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:135,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:86,columnNumber:21},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:57,columnNumber:17},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:56,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:51,columnNumber:13},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:49,columnNumber:9},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:48,columnNumber:7},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Auth/NewPassword.tsx",lineNumber:47,columnNumber:5},this)}export{pe as default};
