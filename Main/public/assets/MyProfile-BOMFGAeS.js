import{u as M,f as U,r as V,j as e,S as F,b as S,t as b,I as N}from"./app-p3FobzL5.js";import{P as h}from"./ProfileLayout-Boblq1Im.js";import{F as I,a as L,b as x,c as y}from"./formik.esm-C9K4NhZh.js";import{u as O}from"./useTranslation-jbS6ivqO.js";import{F as P,B as D,I as g,a as E}from"./input-cx0LjzCS.js";import{F as v}from"./form-label-rj1Y5muO.js";import{E as w}from"./Eye-BnFH3BGQ.js";import{E as C}from"./EyeSlash-D60LoThr.js";import{B as T}from"./_rollupPluginBabelHelpers-3bc641ae-btRFf1Fy.js";/* empty css            */import"./CustomerHeader-C04vMqIV.js";import"./validate_required_variants-D2yQpkaP.js";import"./platform_roles-D3HjcMuK.js";import"./ArrowDown2-DM1rERZ4.js";import"./Minus-CX-dPmlg.js";import"./currency_formatter-Bz1CGAdC.js";import"./use-radio-BmR54MTD.js";import"./visually-hidden.style-Bfr07Aua.js";import"./TickCircle-BeldSHqy.js";import"./index-CuMLbxmh.js";import"./Edit2-BUbnZjhm.js";import"./tr-EefZORq7.js";import"./radio-Bmoumz0n.js";import"./checkbox-r7APxjHP.js";import"./use-checkbox-fX-NceDq.js";import"./popover-trigger-D9abZrFQ.js";import"./divider-CHTuOarn.js";import"./Trash-CzXP6s3A.js";import"./textarea-pmQ9KYwB.js";import"./popover-anchor-B8g7wOff.js";import"./input-group-3FZosNBb.js";import"./input-element-DW2n0nal.js";import"./SearchNormal-CydsvnL-.js";import"./popover-body-Cnhf1gCL.js";import"./link-BsbvcYVC.js";import"./ProfileCircle-DpyEwL7u.js";function z(){const{data:o,error:a,isLoading:n,...s}=M("/api/auth/check",U,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!0,shouldRetryOnError:!1});return{data:o,isLoading:n,error:a,...s}}const R=[{id:"3b07e15c-f596-4fc4-977d-3aaaeee49669",groupTitle:"Personal information",items:[{name:"firstName",label:"First name",type:"text",placeholder:"Enter your first name"},{name:"lastName",label:"Last name",type:"text",placeholder:"Enter your last name"},{name:"email",label:"Email",type:"email",placeholder:"Enter your email",readOnly:!0},{name:"phoneNumber",label:"Phone",type:"tel",placeholder:"Enter your phone number"}]},{id:"538e037c-4a44-4966-ad82-a80475f60717",groupTitle:"Delivery address",items:[{name:"address",label:"Address",type:"text",placeholder:"Enter your address"}]}],B=[{id:"c37bbf72-178d-4232-9d24-d5e21bfbf437",groupTitle:"Password",items:[{name:"password",label:"Current password",type:"password",placeholder:"Enter your current password"},{name:"newPassword",label:"New password",type:"password",placeholder:"Enter your new password"},{name:"confirmPassword",label:"Confirm password",type:"password",placeholder:"Confirm new password"}]}];function Ee(){var u,c,f,p,d;const{t:o}=O(),[a,n]=V.useState(!1),{data:s,isLoading:k,mutate:j}=z();return k?e.jsxDEV(h,{children:e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center",children:e.jsxDEV(F,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:88,columnNumber:11},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:87,columnNumber:9},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:86,columnNumber:7},this):e.jsxDEV(h,{children:e.jsxDEV("div",{className:"w-full max-w-[900px] mx-auto",children:e.jsxDEV("div",{className:"w-full px-6 pb-10",children:e.jsxDEV(I,{initialValues:{firstName:((u=s==null?void 0:s.user)==null?void 0:u.firstName)||"",lastName:((c=s==null?void 0:s.user)==null?void 0:c.lastName)||"",email:((f=s==null?void 0:s.user)==null?void 0:f.email)||"",phoneNumber:((p=s==null?void 0:s.user)==null?void 0:p.phoneNumber)||"",address:((d=s==null?void 0:s.user)==null?void 0:d.address)||"",password:"",newPassword:"",confirmPassword:""},onSubmit:async(m,t)=>{try{const{data:r,status:i}=await S.put("/api/users/profile/update",m);(r!=null&&r.success&&i===200||i===201)&&(j(),b.success(o("Profile updated successfully")))}catch(r){b.error(o(r.response.data.message||"Something went wrong"))}finally{t.setSubmitting(!1)}},children:({isSubmitting:m})=>e.jsxDEV(L,{className:"flex gap-4 w-full",children:[e.jsxDEV("div",{className:"w-full",children:R.map(t=>e.jsxDEV("div",{className:"w-full py-4 flex flex-col gap-y-2",children:[e.jsxDEV("h3",{className:"text-base font-normal",children:o(t.groupTitle)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:128,columnNumber:23},this),t.items.map(r=>e.jsxDEV(x,{name:r.name,children:({field:i,meta:l})=>e.jsxDEV(P,{isInvalid:!!(l.touched&&l.error),children:[e.jsxDEV(D,{"data-label":!r.label,className:`relative border rounded-2xl px-4 py-1.5 border-secondary-300 data-[label=true]:py-4 ${r.readOnly&&"text-secondary-500 opacity-70"}`,children:[r.label&&e.jsxDEV(v,{className:"m-0 text-secondary-500 text-xs leading-5 font-normal",children:o(r.label)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:138,columnNumber:35},this),e.jsxDEV(g,{rounded:"full",type:r.type==="password"&&a?"text":r.type,placeholder:o(r.placeholder),readOnly:r.readOnly,className:"bg-white border-none p-0 h-fit rounded-none font-normal text-base",...i},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:142,columnNumber:33},this),r.type==="password"&&e.jsxDEV(E,{"aria-label":"Show password",size:"sm",variant:"ghost",onClick:()=>n(!a),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10",children:e.jsxDEV(N,{as:a?w:C,className:"size-5 text-secondary-600"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:159,columnNumber:37},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:152,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:133,columnNumber:31},this),e.jsxDEV(y,{children:o(l.error)||""},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:167,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:132,columnNumber:29},this)},r.name,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:130,columnNumber:25},this))]},t.id,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:127,columnNumber:21},this))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:125,columnNumber:17},this),e.jsxDEV("div",{className:"w-full flex flex-col items-end",children:[B.map(t=>e.jsxDEV("div",{className:"w-full py-4 flex flex-col gap-y-2",children:[e.jsxDEV("h3",{className:"text-base font-normal",children:o(t.groupTitle)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:178,columnNumber:23},this),t.items.map(r=>e.jsxDEV(x,{name:r.name,children:({field:i,meta:l})=>e.jsxDEV(P,{isInvalid:!!(l.touched&&l.error),children:[e.jsxDEV(D,{"data-label":!r.label,className:"relative border rounded-2xl px-4 py-1.5 border-secondary-300 data-[label=true]:py-4",children:[r.label&&e.jsxDEV(v,{className:"m-0 text-secondary-500 text-xs leading-5 font-normal",children:o(r.label)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:188,columnNumber:35},this),e.jsxDEV(g,{rounded:"full",type:r.type==="password"&&a?"text":r.type,placeholder:o(r.placeholder),className:"bg-white border-none p-0 h-fit rounded-none font-normal text-base",...i},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:192,columnNumber:33},this),r.type==="password"&&e.jsxDEV(E,{"aria-label":"Show password",size:"sm",variant:"ghost",onClick:()=>n(!a),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10",children:e.jsxDEV(N,{as:a?w:C,className:"size-5 text-secondary-600"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:208,columnNumber:37},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:201,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:183,columnNumber:31},this),e.jsxDEV(y,{children:o(l.error)||""},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:216,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:182,columnNumber:29},this)},r.name,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:180,columnNumber:25},this))]},t.id,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:177,columnNumber:21},this)),e.jsxDEV(T,{className:"bg-secondary-700 text-white rounded-full px-4 py-2.5 hover:bg-secondary-900 text-sm font-medium",type:"submit",disabled:m,isLoading:m,children:o("UPDATE PROFILE")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:223,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:175,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:124,columnNumber:15},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:98,columnNumber:11},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:97,columnNumber:9},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:96,columnNumber:7},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Customer/Profile/MyProfile.tsx",lineNumber:95,columnNumber:5},this)}export{Ee as default};
