import{X as M,j as e,b as O,t as j,r as f,M as $,a as z,l as ue}from"./app-DV9Enp-g.js";import{u as be,C as ee,h as ie,a as Ee,F as Ne}from"./FilterCustomer-D5DzUOS5.js";import{u as R}from"./useTranslation-B_tqir3M.js";import{P as he,a as fe,b as ye}from"./popover-trigger-bCcTHQgY.js";import{a as ae}from"./input-BY0aN3Wh.js";import{T as xe}from"./Trash-D0bDSe0A.js";import{B as r,u as L}from"./_rollupPluginBabelHelpers-3bc641ae-fORsOdMW.js";import{P as ge}from"./popover-header-BFLhNdCb.js";import{P as je,B as ve}from"./popover-arrow-CcvyMVbB.js";import{P as Ve}from"./popover-body-Dv7tL-tk.js";import{P as De}from"./popover-footer-DDOtcm9S.js";import{F as ne,a as te}from"./formik.esm-57hcKfmx.js";import{F as me}from"./FieldRenderer-Ds4nkS0Z.js";import{c as le,a as E,f as re}from"./index.esm-DH7tFHsH.js";import{E as se}from"./Edit2-BR-gFx13.js";import{D as W,a as U,M as H,A as oe,B as K}from"./platform_roles-C6HFwJ_S.js";import{M as de,L as Ae}from"./Layout-4Yl3SVGs.js";import{M as Q,a as _,A as G,b as X,c as p}from"./ArrowDown2-BYk1CnSd.js";import{E as we}from"./Eye-14Q_bsoa.js";import{T as Se}from"./ToolBar-CxhXniPl.js";import{D as Ce}from"./DataTable-CNld8Vzj.js";import{u as Ie}from"./use_table_data-Dqvu1vx3.js";import{u as ke}from"./useDebounce-BZ39Q-Ut.js";import"./BulkDeleteButton-BS9Zhni5.js";import"./switch-B97T3cky.js";import"./use-checkbox-CXyjvu9v.js";import"./visually-hidden.style-Bfr07Aua.js";import"./string_formatter-C0BoQtKC.js";import"./FilterSearch-1uMYI-Ol.js";import"./menu-option-group-DB7xgu7N.js";import"./index-CuMLbxmh.js";import"./use-boolean-S__THBuA.js";import"./tag-DOREaL30.js";import"./ImageUpload-D5P185gr.js";import"./index-DOaWT0nF.js";import"./form-label-BRtD5jpz.js";import"./input-group-B3tcnjIp.js";import"./input-element-D56J_yd_.js";import"./use-radio-6sqGZ21b.js";import"./radio-BkVBa4kL.js";import"./tab-panels-vLnb1L73.js";import"./format-DNgEHVKA.js";import"./Clock-DOUKTfsE.js";import"./ProfileCircle-kDGWjsR6.js";import"./accordion-panel-Bmo1-bWf.js";import"./SearchNormal-wibGUap8.js";import"./Export-C4Sp0XrA.js";import"./Pagination-BLwLKiba.js";import"./tr-DmrvMSh4.js";import"./ArrowRight2-Cm1MJeQW.js";function pe({isIconButton:s=!1,id:a,refresh:l}){const{t:o}=R(),{props:{auth:N}}=M(),y=async()=>{try{const{data:t}=await O.delete(`/api/users/${a}`);t!=null&&t.message&&(j.success(o("Employee deleted successfully")),l())}catch(t){j.error(o(t.response.data.message)||o("Something went wrong"))}};return a===(N==null?void 0:N.id)?null:e.jsxDEV(he,{children:({onClose:t})=>e.jsxDEV(e.Fragment,{children:[e.jsxDEV(fe,{children:s?e.jsxDEV(ae,{"aria-label":o("Delete"),icon:e.jsxDEV(xe,{size:"18"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/DeleteEmployee.tsx",lineNumber:56,columnNumber:23},this),colorScheme:"red",className:"hover:bg-red-100",variant:"outline"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/DeleteEmployee.tsx",lineNumber:54,columnNumber:15},this):e.jsxDEV(r,{variant:"outline",w:"full",colorScheme:"red",mr:3,children:o("Delete")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/DeleteEmployee.tsx",lineNumber:62,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/DeleteEmployee.tsx",lineNumber:52,columnNumber:11},this),e.jsxDEV(ye,{children:[e.jsxDEV(ge,{pt:4,fontWeight:"bold",border:"0",children:o("Delete employee")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/DeleteEmployee.tsx",lineNumber:68,columnNumber:13},this),e.jsxDEV(je,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/DeleteEmployee.tsx",lineNumber:71,columnNumber:13},this),e.jsxDEV(Ve,{whiteSpace:"normal",children:o("Are you sure you want to delete this employee?")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/DeleteEmployee.tsx",lineNumber:72,columnNumber:13},this),e.jsxDEV(De,{border:"0",display:"flex",alignItems:"center",justifyContent:"flex-end",pb:4,children:e.jsxDEV(ve,{size:"sm",children:[e.jsxDEV(r,{colorScheme:"secondary",className:"bg-secondary-200 text-secondary-800 hover:bg-secondary-300",onClick:t,children:o("Cancel")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/DeleteEmployee.tsx",lineNumber:83,columnNumber:17},this),e.jsxDEV(r,{colorScheme:"red",className:"bg-red-400 hover:bg-red-500",onClick:y,children:o("Delete")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/DeleteEmployee.tsx",lineNumber:90,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/DeleteEmployee.tsx",lineNumber:82,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/DeleteEmployee.tsx",lineNumber:75,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/DeleteEmployee.tsx",lineNumber:67,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/DeleteEmployee.tsx",lineNumber:51,columnNumber:9},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/DeleteEmployee.tsx",lineNumber:49,columnNumber:5},this)}function S(s){switch(s){case 1:return"Admin";case 2:return"Manager";case 3:return"POS Operator";case 4:return"Display";case 5:return"Kitchen";case 6:return"Customer";case 7:return"Delivery Person";default:return"Unknown"}}function C(s){switch(s){case 1:return"bg-red-500 hover:bg-red-600 text-white data-[active]:bg-red-500 disabled:bg-red-500 disabled:hover:bg-red-500";case 2:return"bg-green-500 hover:bg-green-600 text-white data-[active]:bg-green-500 disabled:bg-red-500 disabled:hover:bg-red-500";case 3:return"bg-blue-500 hover:bg-blue-600 text-white data-[active]:bg-blue-500 disabled:bg-red-500 disabled:hover:bg-red-500";case 4:return"bg-primary-500 hover:bg-primary-600 text-white data-[active]:bg-primary-500 disabled:bg-red-500 disabled:hover:bg-red-500";case 5:return"bg-purple-500 hover:bg-purple-600 text-white data-[active]:bg-purple-500 disabled:bg-red-500 disabled:hover:bg-red-500";case 6:return"bg-sky-500 hover:bg-sky-600 text-white data-[active]:bg-sky-500 disabled:bg-red-500 disabled:hover:bg-red-500";case 7:return"bg-teal-500 hover:bg-teal-600 text-white data-[active]:bg-teal-500 disabled:bg-red-500 disabled:hover:bg-red-500";default:return"bg-secondary-500 hover:bg-secondary-600 text-white data-[active]:bg-secondary-500 disabled:bg-red-500 disabled:hover:bg-red-500"}}const Pe=le().shape({firstName:E().required("First name is required"),lastName:E().required("Last name is required"),email:E().email("Invalid email").required("Email is required"),phoneNumber:E().required("Phone number is required"),address:E().required("Address is required"),password:E().notRequired().min(8,"Password must be at least 8 characters long"),confirmPassword:E().oneOf([re("password"),void 0],"Passwords must match").notRequired()}),Re=[{name:"firstName",label:"First name",type:"text",placeholder:"Employee first name"},{name:"lastName",label:"Last name",type:"text",placeholder:"Employee last name"},{name:"email",label:"Email address",type:"email",placeholder:"Email address"},{name:"phoneNumber",label:"Contact number",type:"text",placeholder:"Contact number"},{name:"address",label:"Address",type:"text",placeholder:"Address"},{name:"password",label:"Password",type:"password",placeholder:"Password"},{name:"confirmPassword",label:"Confirm password",type:"password",placeholder:"Confirm password"},{name:"isSuspended",label:"Acc. Status",type:"switch",placeholder:""},{name:"isEmailVerified",label:"Verify email",type:"switch",placeholder:""}];function ce({isIconButton:s,employee:a,refresh:l}){const{t:o}=R(),{isOpen:N,onOpen:y,onClose:t}=L(),c=f.useRef(null),{props:{auth:d}}=M(),{id:n,firstName:g,lastName:V,email:D,phoneNumber:v,address:I,isSuspended:T,isEmailVerified:F,roleId:q}=a||{};return e.jsxDEV(e.Fragment,{children:[s?e.jsxDEV(ae,{"aria-label":o("Edit"),icon:e.jsxDEV(se,{size:"18"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:81,columnNumber:17},this),colorScheme:"blue",className:"hover:bg-blue-100",variant:"outline",onClick:y},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:79,columnNumber:9},this):e.jsxDEV(r,{"aria-label":"Edit",rightIcon:e.jsxDEV(se,{size:"18"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:90,columnNumber:22},this),colorScheme:"blue",className:"hover:bg-blue-100",variant:"outline",width:"full",onClick:y,children:o("Edit")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:88,columnNumber:9},this),e.jsxDEV(W,{isOpen:N,placement:"right",size:"md",onClose:t,finalFocusRef:c,children:[e.jsxDEV($,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:101,columnNumber:9},this),e.jsxDEV(U,{className:" h-screen grid grid-rows-[64px_1fr] overflow-hidden",children:[e.jsxDEV(de,{className:"border-b border-black/5",children:o("Edit employee")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:103,columnNumber:11},this),e.jsxDEV(ne,{initialValues:{firstName:g??"",lastName:V??"",email:D??"",phoneNumber:v??"",address:I??"",password:"",roleId:q??6,isSuspended:!T,isEmailVerified:!!F},onSubmit:async(h,A)=>{try{A.setSubmitting(!0);const{data:m}=await O.put(`/api/users/${n}`,{...h,isSuspended:h.isSuspended?0:1});m!=null&&m.success&&(t(),l(),j.success(o(m==null?void 0:m.message)||o("Employee updated successfully")))}catch(m){j.error(o(m.response.data.message)||o("Something went wrong"))}finally{A.setSubmitting(!1)}},validationSchema:Pe,children:({values:h,isSubmitting:A,setFieldValue:m})=>e.jsxDEV(te,{className:"flex flex-col flex-1 overflow-hidden",children:[e.jsxDEV(z,{className:"gap-y-4 flex-1 overflow-y-auto",children:[e.jsxDEV("div",{className:"flex flex-col gap-5 border-b border-black/5 pb-4",children:Re.map(k=>e.jsxDEV(me,{item:k,setFieldValue:m},k.name,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:142,columnNumber:23},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:140,columnNumber:19},this),(d==null?void 0:d.roleId)!==2&&e.jsxDEV("div",{className:"py-2",children:[e.jsxDEV("p",{className:"text-secondary-400 text-sm font-medium mb-2",children:o("Role")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:147,columnNumber:23},this),e.jsxDEV(Q,{placement:"bottom-start",children:[e.jsxDEV(_,{as:r,disabled:n===(d==null?void 0:d.id),className:`${C(h==null?void 0:h.roleId)} w-full uppercase`,rightIcon:e.jsxDEV(G,{size:"16"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:153,columnNumber:38},this),children:S(h==null?void 0:h.roleId)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:149,columnNumber:25},this),e.jsxDEV(X,{className:"p-1",children:[e.jsxDEV(p,{onClick:()=>m("roleId",1),children:o("Admin")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:158,columnNumber:27},this),e.jsxDEV(p,{onClick:()=>m("roleId",3),children:o("POS Operator")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:161,columnNumber:27},this),e.jsxDEV(p,{onClick:()=>m("roleId",2),children:o("Manager")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:164,columnNumber:27},this),e.jsxDEV(p,{onClick:()=>m("roleId",4),children:o("Display")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:167,columnNumber:27},this),e.jsxDEV(p,{onClick:()=>m("roleId",5),children:o("Kitchen")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:170,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:157,columnNumber:25},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:148,columnNumber:23},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:146,columnNumber:21},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:139,columnNumber:17},this),e.jsxDEV(H,{borderTopWidth:"1px",borderColor:"secondary.200",className:" bg-white w-full",children:[e.jsxDEV(r,{variant:"outline",w:"full",mr:3,onClick:t,children:o("Cancel")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:183,columnNumber:19},this),e.jsxDEV(r,{variant:"solid",colorScheme:"primary",w:"full",type:"submit",isLoading:A,className:"bg-primary-400 hover:bg-primary-500",children:o("Save")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:186,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:178,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:138,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:105,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:102,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:100,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/EditEmployee.tsx",lineNumber:77,columnNumber:5},this)}const qe=le().shape({firstName:E().required("First name is required"),lastName:E().required("Last name is required"),email:E().email("Invalid email").required("Email is required"),phoneNumber:E().required("Phone number is required"),address:E().required("Address is required"),password:E().required("Password is required").min(8,"Password must be at least 8 characters long"),confirmPassword:E().oneOf([re("password"),void 0],"Passwords must match").required("Confirm Password is required")}),Be=[{name:"firstName",label:"First name",type:"text",placeholder:"Employee first name"},{name:"lastName",label:"Last name",type:"text",placeholder:"Employee last name"},{name:"email",label:"Email address",type:"email",placeholder:"Email address"},{name:"phoneNumber",label:"Contact number",type:"text",placeholder:"Contact number"},{name:"address",label:"Address",type:"text",placeholder:"Address"},{name:"password",label:"Password",type:"password",placeholder:"Password"},{name:"confirmPassword",label:"Confirm password",type:"password",placeholder:"Confirm password"}];function Me({refresh:s}){const{t:a}=R(),{isOpen:l,onOpen:o,onClose:N}=L(),y=f.useRef(null),{props:{auth:t}}=M();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(r,{variant:"solid",colorScheme:"primary",className:"bg-primary-400 hover:bg-primary-500",rightIcon:e.jsxDEV(oe,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:59,columnNumber:20},this),onClick:o,children:a("Create new employee")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:55,columnNumber:7},this),e.jsxDEV(W,{isOpen:l,placement:"right",size:"md",onClose:N,finalFocusRef:y,children:[e.jsxDEV($,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:65,columnNumber:9},this),e.jsxDEV(U,{className:" h-screen grid grid-rows-[64px_1fr] overflow-hidden",children:[e.jsxDEV(de,{className:"border-b border-black/5",children:a("Create new employee")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:67,columnNumber:11},this),e.jsxDEV(ne,{initialValues:{firstName:"",lastName:"",email:"",phoneNumber:"",address:"",roleId:4},onSubmit:async(c,d)=>{try{d.setSubmitting(!0);const{data:n}=await O.post("/api/users",c);n!=null&&n.success&&(N(),s(),j.success(a(n==null?void 0:n.message)||a("Employee created successfully")))}catch(n){j.error(a(n.response.data.message)||a("Something went wrong"))}finally{d.setSubmitting(!1)}},validationSchema:qe,children:({values:c,isSubmitting:d,setFieldValue:n})=>e.jsxDEV(te,{className:"flex flex-col flex-1 overflow-hidden",children:[e.jsxDEV(z,{className:"gap-y-4 flex-1 overflow-y-auto",children:[e.jsxDEV("div",{className:"flex flex-col gap-5 border-b border-black/5 pb-4",children:Be.map(g=>e.jsxDEV(me,{item:g},g.name,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:102,columnNumber:23},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:100,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-secondary-400 text-sm font-medium mb-2",children:a("Role")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:106,columnNumber:21},this),e.jsxDEV(Q,{placement:"bottom-start",children:[e.jsxDEV(_,{as:r,className:`${C(c==null?void 0:c.roleId)} w-full uppercase`,rightIcon:e.jsxDEV(G,{size:"16"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:111,columnNumber:36},this),children:S(c==null?void 0:c.roleId)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:108,columnNumber:23},this),e.jsxDEV(X,{className:"p-1",children:[(t==null?void 0:t.roleId)!==2&&e.jsxDEV(p,{onClick:()=>n("roleId",1),children:a("Admin")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:117,columnNumber:27},this),e.jsxDEV(p,{onClick:()=>n("roleId",3),children:a("POS Operator")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:121,columnNumber:25},this),e.jsxDEV(p,{onClick:()=>n("roleId",2),children:a("Manager")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:124,columnNumber:25},this),e.jsxDEV(p,{onClick:()=>n("roleId",4),children:a("Display")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:127,columnNumber:25},this),e.jsxDEV(p,{onClick:()=>n("roleId",5),children:a("Kitchen")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:130,columnNumber:25},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:115,columnNumber:23},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:107,columnNumber:21},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:105,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:99,columnNumber:17},this),e.jsxDEV(H,{borderTopWidth:"1px",borderColor:"secondary.200",className:"bg-white w-full",children:[e.jsxDEV(r,{variant:"outline",w:"full",mr:3,onClick:N,children:a("Cancel")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:142,columnNumber:19},this),e.jsxDEV(r,{variant:"solid",colorScheme:"primary",w:"full",type:"submit",isLoading:d,className:"bg-primary-400 hover:bg-primary-500",rightIcon:e.jsxDEV(oe,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:152,columnNumber:32},this),children:a("Create")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:145,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:137,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:98,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:71,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:66,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:64,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/NewEmployee.tsx",lineNumber:54,columnNumber:5},this)}function Oe({employee:s,refresh:a}){const{t:l}=R(),{data:o}=be(s==null?void 0:s.id),{isOpen:N,onOpen:y,onClose:t}=L(),c=f.useRef(null),{fullName:d,email:n,phoneNumber:g,address:V,isSuspended:D,roleId:v}=o||{};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(r,{variant:"outline",colorScheme:"secondary",className:"border-secondary-200 text-secondary-800 hover:bg-secondary-100",rightIcon:e.jsxDEV(we,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:42,columnNumber:20},this),onClick:y,children:l("View")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:38,columnNumber:7},this),e.jsxDEV(W,{isOpen:N,placement:"right",size:"md",onClose:t,finalFocusRef:c,children:[e.jsxDEV($,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:48,columnNumber:9},this),e.jsxDEV(U,{children:[e.jsxDEV(z,{py:"6",children:[e.jsxDEV("div",{className:"p-8 space-y-6 shadow-primary rounded-md mb-7",children:[e.jsxDEV("div",{className:"border-b border-black/5 pb-6 space-y-1",children:[e.jsxDEV("span",{className:"text-secondary-500 text-sm font-medium",children:l("Delivery person name")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:53,columnNumber:17},this),e.jsxDEV("h2",{className:"text-3xl font-bold text-secondary-700",children:d},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:54,columnNumber:17},this),e.jsxDEV(K,{colorScheme:D?"red":"green",children:l(D?"Suspended":"Active")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:55,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:52,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-secondary-500 text-sm font-medium",children:l("Email")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:61,columnNumber:19},this),e.jsxDEV("p",{className:"text-lg text-secondary-700 font-medium",children:n},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:62,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:60,columnNumber:17},this),e.jsxDEV(r,{variant:"outline",rightIcon:e.jsxDEV(ee,{size:16},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:66,columnNumber:30},this),onClick:()=>ie(n),children:l("Copy")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:64,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:59,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-secondary-500 text-sm font-medium",children:l("Contact number")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:74,columnNumber:19},this),e.jsxDEV("p",{className:"text-lg text-secondary-700 font-medium",children:g},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:75,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:73,columnNumber:17},this),e.jsxDEV(r,{variant:"outline",rightIcon:e.jsxDEV(ee,{size:16},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:79,columnNumber:30},this),onClick:()=>ie(g),children:l("Copy")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:77,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:72,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-secondary-500 text-sm font-medium",children:l("Address")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:86,columnNumber:17},this),e.jsxDEV("p",{className:"text-lg text-secondary-700 font-medium",children:V},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:87,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:85,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:51,columnNumber:13},this),e.jsxDEV("div",{className:"p-8 space-y-6 shadow-primary rounded-md mb-7",children:e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-secondary-400 text-sm font-medium mb-2",children:l("Role")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:92,columnNumber:17},this),e.jsxDEV(r,{className:`${C(v)} uppercase`,children:S(v)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:93,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:91,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:90,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:50,columnNumber:11},this),e.jsxDEV(H,{borderTopWidth:"1px",borderColor:"secondary.200",className:"absolute bg-white w-full bottom-0",children:[e.jsxDEV(r,{variant:"outline",w:"full",mr:3,onClick:t,children:l("Close")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:104,columnNumber:13},this),e.jsxDEV(pe,{id:o==null?void 0:o.id,refresh:a},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:107,columnNumber:13},this),e.jsxDEV(ce,{employee:o,refresh:a},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:108,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:99,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:49,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:47,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Employees/ViewEmployee.tsx",lineNumber:37,columnNumber:5},this)}function qi(){const{t:s}=R(),[a,l]=f.useState(1),[o,N]=f.useState(10),[y,t]=f.useState(""),[c,d]=f.useState([]),{mutate:n}=ue(),g=ke(y,300),[V,D]=f.useState({}),[v,I]=f.useState([]),[T,F]=f.useState(!1),{items:q,meta:h,isLoading:A,refresh:m,isValidating:k}=Ie("/api/users",{search:g,page:a,limit:o,type:"employee",...V}),{props:{auth:w}}=M(),P=async(i,x)=>{try{const{data:u}=await O.patch(`/api/users/${i}`,{roleId:x});u!=null&&u.success&&(n(B=>B.startsWith("/api/users")),j.success(s("Employee role updated!")))}catch(u){j.error(s(u.response.data.message)||s("Something went wrong"))}};return f.useEffect(()=>{!k&&!q.length&&I([])},[k]),e.jsxDEV(Ae,{title:s("Employees"),children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV(Se,{bulkAction:{isBulkAction:!!v.length,BulkUpdateBar:()=>e.jsxDEV(Ee,{rows:v,reset:()=>I([]),available:T,setAvailable:F},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:82,columnNumber:15},this)},filter:e.jsxDEV(Ne,{filter:V,setFilter:D},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:90,columnNumber:19},this),AddNew:()=>e.jsxDEV(Me,{refresh:m},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:91,columnNumber:25},this),setSearchQuery:t},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:78,columnNumber:9},this),e.jsxDEV(Ce,{data:q,isLoading:A,sorting:c,setSorting:d,getRowId:i=>i.id,enableMultiRowSelection:!0,onRowSelection:I,pagination:{total:h==null?void 0:h.total,page:a,setPage:l,limit:o,setLimit:N},structure:[{accessorKey:"checkbox",enableSorting:!1,header:({table:i})=>e.jsxDEV("input",{type:"checkbox",checked:i==null?void 0:i.getIsAllRowsSelected(),onChange:i==null?void 0:i.getToggleAllRowsSelectedHandler(),className:"accent-primary-500 cursor-pointer scale-110"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:114,columnNumber:17},this),cell:({row:i})=>e.jsxDEV("input",{type:"checkbox",checked:i==null?void 0:i.getIsSelected(),onChange:i==null?void 0:i.getToggleSelectedHandler(),className:"accent-primary-500 cursor-pointer scale-110"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:122,columnNumber:17},this)},{accessorKey:"id",header:()=>s("SL"),cell:i=>i.row.index+1},{accessorKey:"fullName",header:()=>s("Customer name")},{accessorKey:"email",header:()=>s("Email")},{accessorKey:"phoneNumber",header:()=>s("Contact number")},{accessorKey:"roleId",header:()=>s("Role"),cell:({row:i})=>{var x,u,B,J,Y,Z;return e.jsxDEV(e.Fragment,{children:i.original.id!==(w==null?void 0:w.id)?(w==null?void 0:w.roleId)===2?e.jsxDEV(r,{w:"full",variant:"solid",colorScheme:"primary",className:`${C((x=i.original)==null?void 0:x.roleId)} w-full uppercase gap-1`,children:e.jsxDEV("span",{className:"uppercase",children:s(S((u=i.original)==null?void 0:u.roleId))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:161,columnNumber:27},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:155,columnNumber:25},this):e.jsxDEV(Q,{placement:"bottom-start",children:[e.jsxDEV(_,{as:r,className:`${C((B=i.original)==null?void 0:B.roleId)} w-full uppercase`,rightIcon:e.jsxDEV(G,{size:"16"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:170,columnNumber:40},this),children:s(S((J=i.original)==null?void 0:J.roleId))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:167,columnNumber:27},this),e.jsxDEV(X,{className:"p-1",children:[e.jsxDEV(p,{onClick:()=>{var b;return P((b=i.original)==null?void 0:b.id,1)},children:s("Admin")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:175,columnNumber:29},this),e.jsxDEV(p,{onClick:()=>{var b;return P((b=i.original)==null?void 0:b.id,3)},children:s("POS Operator")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:178,columnNumber:29},this),e.jsxDEV(p,{onClick:()=>{var b;return P((b=i.original)==null?void 0:b.id,2)},children:s("Manager")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:181,columnNumber:29},this),e.jsxDEV(p,{onClick:()=>{var b;return P((b=i.original)==null?void 0:b.id,4)},children:s("Display")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:184,columnNumber:29},this),e.jsxDEV(p,{onClick:()=>{var b;return P((b=i.original)==null?void 0:b.id,5)},children:s("Kitchen")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:187,columnNumber:29},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:174,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:166,columnNumber:25},this):e.jsxDEV(r,{w:"full",variant:"solid",colorScheme:"primary",className:`${C((Y=i.original)==null?void 0:Y.roleId)} w-full uppercase gap-1`,children:[e.jsxDEV("span",{className:"uppercase",children:s(S((Z=i.original)==null?void 0:Z.roleId))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:200,columnNumber:25},this),e.jsxDEV("span",{children:["(",s("you"),")"]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:201,columnNumber:25},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:194,columnNumber:23},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:152,columnNumber:19},this)}},{accessorKey:"isSuspended",header:()=>s("Acc. Status"),cell:({row:i})=>{var x,u;return e.jsxDEV(K,{colorScheme:(x=i.original)!=null&&x.isSuspended?"red":"green",children:(u=i.original)!=null&&u.isSuspended?s("Suspended"):s("Active")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:212,columnNumber:17},this)}},{accessorKey:"isEmailVerified",header:()=>s("Email status"),cell:({row:i})=>{var x,u;return e.jsxDEV(K,{colorScheme:(x=i.original)!=null&&x.isEmailVerified?"green":"red",children:(u=i.original)!=null&&u.isEmailVerified?s("Verified"):s("Unverified")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:221,columnNumber:17},this)}},{accessorKey:"actions",header:()=>s("Actions"),cell:({row:i})=>e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(Oe,{employee:i.original,refresh:m},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:231,columnNumber:19},this),e.jsxDEV(pe,{isIconButton:!0,id:i.original.id,refresh:m},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:232,columnNumber:19},this),e.jsxDEV(ce,{isIconButton:!0,employee:i.original,refresh:m},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:233,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:230,columnNumber:17},this)}]},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:94,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:77,columnNumber:7},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Employees.tsx",lineNumber:76,columnNumber:5},this)}export{qi as default};
