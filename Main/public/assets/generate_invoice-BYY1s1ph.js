import{t as l}from"./app-p3FobzL5.js";const m=async(r,a,c=!1)=>{var n,i;try{const o=await fetch(`/api${c?"/user":""}/orders/${r}/generate-invoice`);if(!o.ok)throw new Error("Failed to fetch invoice");const s=await o.text(),e=document.createElement("iframe");document.body.appendChild(e),e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="0",e.style.height="0",e.style.border="none";const t=e.contentDocument||((n=e.contentWindow)==null?void 0:n.document);t&&(t.open(),t.write(s),t.close(),(i=e.contentWindow)==null||i.print(),e.addEventListener("load",()=>{setTimeout(()=>{e.remove()},1e3)}))}catch{l(a("Failed to generate the invoice. Please try again."))}};export{m as g};
