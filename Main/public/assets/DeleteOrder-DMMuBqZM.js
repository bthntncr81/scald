import{j as e,t as v,b as F,r as l,X as te,u as ie,f as se,M as ne,a as ae,S as oe}from"./app-DV9Enp-g.js";import{O as J}from"./order_status-CM2aeLIm.js";import{s as O}from"./string_formatter-C0BoQtKC.js";import{u as $}from"./useTranslation-B_tqir3M.js";import{M as C,a as k,A as T,b as U,c as z,T as r}from"./ArrowDown2-BYk1CnSd.js";import{B as d,u as re}from"./_rollupPluginBabelHelpers-3bc641ae-fORsOdMW.js";import{z as de}from"./index-CuMLbxmh.js";import{c as S}from"./currency_formatter-Bz1CGAdC.js";import{O as le,P as me}from"./PrintInvoice-D4UWVblX.js";import{D as ue}from"./DiscountTypeSelect-DQGXDPdn.js";import{E as ce}from"./Eye-14Q_bsoa.js";import{D as be,a as pe,H as P,F as Ne,B as xe,M as fe}from"./platform_roles-C6HFwJ_S.js";import{S as he}from"./switch-B97T3cky.js";import{D as q}from"./divider-ChBlpOfM.js";import{T as ve}from"./textarea-7dmbfoGY.js";import{B,I as we,a as Ee}from"./input-BY0aN3Wh.js";import{P as ge,a as je,b as Ve}from"./popover-trigger-bCcTHQgY.js";import{T as De}from"./Trash-D0bDSe0A.js";import{P as Se,B as Oe}from"./popover-arrow-CcvyMVbB.js";import{P as Ae}from"./popover-header-BFLhNdCb.js";import{P as Pe}from"./popover-body-Dv7tL-tk.js";import{P as Be}from"./popover-footer-DDOtcm9S.js";const y=new J;function Ie({orderId:w,status:p,refresh:t,type:N,isDeliveryPersonSelected:m}){var h,g,j;const{t:c}=$(),n=async(o,x)=>{var V;if(!m&&N==="delivery"&&(x.status==="on_delivery"||x.status==="completed")){v.error(c("Select delivery person first"));return}try{const{data:f}=await F.patch(`/api/orders/${o}`,x);(V=f==null?void 0:f.content)!=null&&V.id&&(v.success(c("Order updated successfully")),t())}catch(f){v.error(c(f.response.data.message||"Something went wrong"))}};return e.jsxDEV("div",{children:e.jsxDEV(C,{children:[e.jsxDEV(k,{as:d,size:"sm",variant:"outline",colorScheme:(h=y.getStatusDetails(p))==null?void 0:h.scheme,borderColor:(g=y.getStatusDetails(p))==null?void 0:g.fgColor,color:(j=y.getStatusDetails(p))==null?void 0:j.fgColor,rightIcon:e.jsxDEV(T,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/UpdateOrderStatus.tsx",lineNumber:58,columnNumber:22},this),onClick:o=>o.stopPropagation(),children:c(O(p))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/UpdateOrderStatus.tsx",lineNumber:51,columnNumber:9},this),e.jsxDEV(U,{className:"p-1",children:y.all().map(o=>N!=="delivery"&&o.value==="on_delivery"?null:e.jsxDEV(z,{color:o.fgColor,onClick:x=>{x.stopPropagation(),n(w,{status:o.value})},children:c(o.label)},o.value,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/UpdateOrderStatus.tsx",lineNumber:66,columnNumber:15},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/UpdateOrderStatus.tsx",lineNumber:63,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/UpdateOrderStatus.tsx",lineNumber:50,columnNumber:7},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/UpdateOrderStatus.tsx",lineNumber:49,columnNumber:5},this)}const W=new J;function et({orderId:w,refresh:p}){const{t}=$(),{isOpen:N,onOpen:m,onClose:c}=re(),[n,h]=l.useState(W.getStatusDetails("pending")),[g,j]=l.useState(""),[o,x]=l.useState(),[V,f]=l.useState(),[A,G]=l.useState(),[K,Q]=l.useState(""),[Y,H]=l.useState(!1),[_,M]=l.useState(0),[u,E]=l.useState({type:"amount",value:0,show:!1}),{props:{branding:L}}=te(),Z=l.useRef(null),{data:a,isLoading:R,mutate:I}=ie(()=>w&&N?`/api/orders/${w}`:null,se),X=l.useCallback(()=>{!R&&a&&(E({show:!1,type:"amount",value:a.manualDiscount}),M(a.manualDiscount),h(W.getStatusDetails(a.status)),x(a.type),j(a.customerNote??""),f(a.paymentType),Q(new Date(a.deliveryDate).toISOString().split("T")[0]),G(a.paymentStatus))},[a,R]);l.useEffect(()=>{X()},[X]);const ee=async s=>{var b;const i={userId:s.userId,type:o,manualDiscount:_,discountType:u.type,paymentType:V,customerNote:g,paymentStatus:A,deliveryDate:K,status:n.value};H(!0);try{const{data:D}=await F.put(`/api/orders/${s.id}`,i);(b=D==null?void 0:D.content)!=null&&b.id&&(v.success(t("Order updated successfully")),I(s),p())}catch(D){v.error(t(D.response.data.message)||t("Something went wrong"))}finally{H(!1)}};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(d,{onClick:m,variant:"outline",colorScheme:"secondary",className:"border-secondary-200 text-secondary-800 hover:bg-secondary-100",rightIcon:e.jsxDEV(ce,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:148,columnNumber:20},this),children:t("View")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:143,columnNumber:7},this),e.jsxDEV(be,{isOpen:N,placement:"right",size:"lg",onClose:()=>{c()},finalFocusRef:Z,children:[e.jsxDEV(ne,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:161,columnNumber:9},this),e.jsxDEV(pe,{className:"@container",children:[e.jsxDEV(ae,{className:"p-0 px-4",children:e.jsxDEV("div",{className:"w-full bg-white",children:de({orderItem:a,isLoading:R}).with({isLoading:!0},()=>e.jsxDEV(P,{className:"mt-6 mx-4",children:[e.jsxDEV(oe,{size:"sm"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:169,columnNumber:21},this),e.jsxDEV(r,{className:"text-secondary-500",children:[" ",t("Loading...")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:170,columnNumber:21},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:168,columnNumber:19},this)).with({orderItem:null,isLoading:!1},()=>e.jsxDEV(r,{className:"py-6 px-4 text-secondary-500",children:[" ",t("Order not found")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:176,columnNumber:19},this)).otherwise(({orderItem:s})=>e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"px-4 py-6",children:[e.jsxDEV("div",{className:"order-details-container",children:[e.jsxDEV(r,{as:"h3",className:"font-medium text-xl text-secondary-600 mb-6",children:t("Order details")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:184,columnNumber:25},this),e.jsxDEV("div",{className:"order-details-grid md:gap-[30px]",children:[e.jsxDEV("div",{className:"lg:w-fit flex flex-col gap-1 pb-[30px] lg:border-b border-black/5",children:[e.jsxDEV(r,{className:"text-base font-normal text-secondary-400",children:t("Order number")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:192,columnNumber:29},this),e.jsxDEV(r,{as:"h3",className:"text-secondary-600 text-xl font-semibold",children:s==null?void 0:s.orderNumber},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:195,columnNumber:29},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:191,columnNumber:27},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1 pb-[30px] border-b border-black/5",children:[e.jsxDEV(r,{className:"text-base font-normal text-secondary-400",children:t("Order type")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:202,columnNumber:29},this),e.jsxDEV(C,{matchWidth:!0,children:[e.jsxDEV(k,{as:d,variant:"outline",rightIcon:e.jsxDEV(T,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:210,columnNumber:44},this),onClick:i=>i.stopPropagation(),className:"text-left",children:t(O(o))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:207,columnNumber:31},this),e.jsxDEV(U,{className:"p-1",children:["dine_in","delivery","pickup"].map(i=>{var b;return e.jsxDEV(z,{isDisabled:!((b=L==null?void 0:L.business)!=null&&b[i]),onClick:()=>x(i),children:t(O(i))},i,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:218,columnNumber:35},this)})},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:216,columnNumber:31},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:206,columnNumber:29},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:201,columnNumber:27},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1 pb-[30px] border-b border-black/5",children:[e.jsxDEV(r,{className:"text-base font-normal text-secondary-400",children:t("Status")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:236,columnNumber:29},this),e.jsxDEV(C,{matchWidth:!0,children:[e.jsxDEV(k,{as:d,variant:"outline",color:n==null?void 0:n.fgColor,borderColor:n==null?void 0:n.fgColor,rightIcon:e.jsxDEV(T,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:246,columnNumber:44},this),onClick:i=>i.stopPropagation(),className:"text-left",children:t(n==null?void 0:n.label)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:241,columnNumber:31},this),e.jsxDEV(U,{className:"p-1",children:W.all().map(i=>(!i.orderType||o===i.orderType)&&e.jsxDEV(z,{color:i.fgColor,onClick:()=>h(i),children:t(i.label)},i.value,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:256,columnNumber:39},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:252,columnNumber:31},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:240,columnNumber:29},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:235,columnNumber:27},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1",children:[e.jsxDEV(r,{className:"text-base font-normal text-secondary-400",children:t("Delivery date")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:271,columnNumber:29},this),e.jsxDEV(r,{as:"h3",className:"text-secondary-600 text-xl font-semibold",children:new Date(s==null?void 0:s.deliveryDate).toLocaleDateString()},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:274,columnNumber:29},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:270,columnNumber:27},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1",children:[e.jsxDEV(r,{className:"text-base font-normal text-secondary-400",children:t("Payment method")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:281,columnNumber:29},this),e.jsxDEV(C,{matchWidth:!0,children:[e.jsxDEV(k,{as:d,variant:"outline",rightIcon:e.jsxDEV(T,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:289,columnNumber:44},this),onClick:i=>i.stopPropagation(),className:"text-left",children:t(O(V))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:286,columnNumber:31},this),e.jsxDEV(U,{className:"p-1",children:["cash","card"].map(i=>e.jsxDEV(z,{onClick:()=>f(i),children:t(O(i))},i,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:297,columnNumber:35},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:295,columnNumber:31},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:285,columnNumber:29},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:280,columnNumber:27},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1",children:[e.jsxDEV(r,{className:"text-base font-normal text-secondary-400",children:t("Payment status")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:310,columnNumber:29},this),e.jsxDEV(Ne,{justifyContent:"space-between",className:"text-secondary-600 text-xl font-semibold",children:[A!==void 0&&e.jsxDEV(he,{colorScheme:"green",defaultChecked:A,onChange:i=>G(i.target.checked)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:318,columnNumber:33},this),e.jsxDEV(xe,{variant:"solid",colorScheme:"green",size:"sm",className:"py-0 leading-5 min-h-fit",children:t(A?"PAID":"UNPAID")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:324,columnNumber:31},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:313,columnNumber:29},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:309,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:189,columnNumber:25},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:183,columnNumber:23},this),e.jsxDEV(q,{className:"border-black/5"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:337,columnNumber:23},this),e.jsxDEV("div",{className:"mt-3 mb-4",children:e.jsxDEV("div",{className:"flex flex-col space-y-2",children:[e.jsxDEV(r,{className:"text-base font-normal text-secondary-400",children:t("Order note")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:342,columnNumber:27},this),e.jsxDEV(ve,{value:g,onChange:i=>j(i.target.value),placeholder:t("Write customer note")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:345,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:341,columnNumber:25},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:340,columnNumber:23},this),e.jsxDEV(le,{items:s==null?void 0:s.orderItems},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:354,columnNumber:23},this),e.jsxDEV("div",{className:"mt-4 flex flex-col gapy-2 [&>div]:border-b [&>div]:border-black/5 [&>div]:py-1 [&>div]:px-4",children:[e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg",children:[e.jsxDEV("div",{children:[" ",t("Subtotal"),": "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:359,columnNumber:27},this),e.jsxDEV("h4",{className:"font-medium text-right",children:S(s==null?void 0:s.total)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:360,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:358,columnNumber:25},this),e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg",children:[e.jsxDEV("div",{children:[" ",t("Vat/Tax"),": "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:367,columnNumber:27},this),e.jsxDEV("h4",{className:"font-medium text-right",children:S(s==null?void 0:s.totalTax)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:368,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:366,columnNumber:25},this),e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg",children:[e.jsxDEV("div",{children:[" ",t("Service charge"),": "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:375,columnNumber:27},this),e.jsxDEV("h4",{className:"font-medium text-right",children:S(s==null?void 0:s.totalCharges)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:376,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:374,columnNumber:25},this),e.jsxDEV(B,{as:"div",className:"grid grid-cols-[1fr,100px] border-b py-1.5 border-black/5 text-lg",children:[e.jsxDEV(B,{className:"flex flex-wrap @xs:flex-nowrap items-center gap-3",children:[t("Extra Discount"),":",!u.show&&e.jsxDEV(d,{size:"sm",className:"px-3",onClick:()=>E({...u,show:!0}),children:t(u.value===0?"Add Discount":"Edit Discount")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:389,columnNumber:31},this),u.show&&e.jsxDEV(d,{size:"sm",className:"px-3",onClick:()=>{E({...u,value:0,show:!1})},children:t("Remove Discount")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:398,columnNumber:31},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:386,columnNumber:27},this),e.jsxDEV(r,{fontWeight:500,textAlign:"right",children:["- ",S(_)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:409,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:382,columnNumber:25},this),u.show&&e.jsxDEV(B,{as:"div",className:"grid grid-cols-[1fr,100px] gap-4 pt-2",children:[e.jsxDEV(P,{className:"flex gap-3",children:[e.jsxDEV(P,{children:e.jsxDEV(ue,{onChange:i=>E(b=>({...b,type:i}))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:417,columnNumber:33},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:416,columnNumber:31},this),e.jsxDEV(we,{type:"number",value:u.value,onChange:i=>E(b=>({...b,value:+i.target.value})),placeholder:t("Add discount"),onFocus:i=>i.target.select()},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:426,columnNumber:31},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:415,columnNumber:29},this),e.jsxDEV(d,{variant:"outline",colorScheme:"blue",type:"button",onClick:()=>{E(i=>({...i,show:!1})),u.type==="percentage"?M(s.total*u.value*.01):M(u.value)},children:t("Update")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:436,columnNumber:29},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:414,columnNumber:27},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:356,columnNumber:23},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:182,columnNumber:21},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:181,columnNumber:19},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:164,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:163,columnNumber:11},this),e.jsxDEV(fe,{className:"p-0",children:e.jsxDEV(B,{pt:"2",pb:"4",shadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.06),0px -1px 3px 0px rgba(0, 0, 0, 0.1)",className:"w-full bg-white z-10 flex flex-col gap-5 px-4 @md:px-8",children:[e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg px-4",children:[e.jsxDEV("div",{children:[" ",t("Grand total"),": "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:467,columnNumber:17},this),e.jsxDEV("h4",{className:"font-bold text-right",children:S(a==null?void 0:a.grandTotal)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:468,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:466,columnNumber:15},this),e.jsxDEV(q,{className:"border-black/5"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:472,columnNumber:15},this),e.jsxDEV(P,{className:"w-full px-4",children:[e.jsxDEV(d,{onClick:c,variant:"outline",className:"flex-1",children:t("Close")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:475,columnNumber:17},this),e.jsxDEV(me,{orderId:a==null?void 0:a.id},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:479,columnNumber:17},this),e.jsxDEV(d,{type:"button",onClick:()=>ee(a),colorScheme:"blue",className:"flex-1",isLoading:Y,children:t("Update")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:481,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:474,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:460,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:458,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:162,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:152,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:142,columnNumber:5},this)}function tt({isIconButton:w=!1,id:p,refresh:t,onClose:N}){const{t:m}=$(),c=async()=>{try{const{data:n,status:h}=await F.delete(`/api/orders/${p}`);h===200&&(v.success(n.message),t(),N&&N())}catch(n){F.isAxiosError(n)&&v.error(m("Something went wrong"))}};return e.jsxDEV(ge,{children:({onClose:n})=>e.jsxDEV(e.Fragment,{children:[e.jsxDEV(je,{children:w?e.jsxDEV(Ee,{"aria-label":m("Delete"),icon:e.jsxDEV(De,{size:"18"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:54,columnNumber:23},this),colorScheme:"red",className:"hover:bg-red-100",variant:"outline"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:52,columnNumber:15},this):e.jsxDEV(d,{variant:"outline",w:"full",colorScheme:"red",mr:3,children:m("Delete")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:60,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:50,columnNumber:11},this),e.jsxDEV(Ve,{children:[e.jsxDEV(Se,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:66,columnNumber:13},this),e.jsxDEV(Ae,{pt:4,fontWeight:"bold",border:"0",children:m("Delete order")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:67,columnNumber:13},this),e.jsxDEV(Pe,{whiteSpace:"normal",children:m("Are you sure you want to delete this order?")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:70,columnNumber:13},this),e.jsxDEV(Be,{border:"0",display:"flex",alignItems:"center",justifyContent:"flex-end",pb:4,children:e.jsxDEV(Oe,{size:"sm",children:[e.jsxDEV(d,{colorScheme:"secondary",className:"bg-secondary-200 text-secondary-800 hover:bg-secondary-300",onClick:n,children:m("Cancel")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:81,columnNumber:17},this),e.jsxDEV(d,{type:"button",colorScheme:"red",className:"bg-red-400 hover:bg-red-500",onClick:c,children:m("Delete")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:88,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:80,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:73,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:65,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:49,columnNumber:9},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:47,columnNumber:5},this)}export{tt as D,et as O,Ie as U};
