import{r as p,j as e,M as S,b as k,t as C,a as B,X as G}from"./app-DV9Enp-g.js";import{D as X}from"./DataTable-CNld8Vzj.js";import{F as K,a as M}from"./formik.esm-57hcKfmx.js";import{N as O}from"./NewCustomerSchema-C2AlfYyz.js";import{F as U}from"./FieldRenderer-Ds4nkS0Z.js";import{u as D}from"./useTranslation-B_tqir3M.js";import{u as F,B as c}from"./_rollupPluginBabelHelpers-3bc641ae-fORsOdMW.js";import{A as L,D as R,a as I,M as T,B as w}from"./platform_roles-C6HFwJ_S.js";import{M as H,L as q}from"./Layout-4Yl3SVGs.js";import{P as J,a as Y,b as Z}from"./popover-trigger-bCcTHQgY.js";import{a as W}from"./input-BY0aN3Wh.js";import{T as _}from"./Trash-D0bDSe0A.js";import{P as ee}from"./popover-header-BFLhNdCb.js";import{P as se,B as ie}from"./popover-arrow-CcvyMVbB.js";import{P as te}from"./popover-body-Dv7tL-tk.js";import{P as oe}from"./popover-footer-DDOtcm9S.js";import{E as z}from"./Edit2-BR-gFx13.js";import{u as ae,C as me,h as ne,a as re,F as le}from"./FilterCustomer-D5DzUOS5.js";import{E as de}from"./Eye-14Q_bsoa.js";import{u as ue}from"./useDebounce-BZ39Q-Ut.js";import{T as ce}from"./ToolBar-CxhXniPl.js";import{u as pe}from"./use_table_data-Dqvu1vx3.js";import"./Pagination-BLwLKiba.js";import"./tr-DmrvMSh4.js";import"./ArrowDown2-BYk1CnSd.js";import"./ArrowRight2-Cm1MJeQW.js";import"./index.esm-DH7tFHsH.js";import"./index-CuMLbxmh.js";import"./use-boolean-S__THBuA.js";import"./tag-DOREaL30.js";import"./ImageUpload-D5P185gr.js";import"./index-DOaWT0nF.js";import"./form-label-BRtD5jpz.js";import"./input-group-B3tcnjIp.js";import"./input-element-D56J_yd_.js";import"./switch-B97T3cky.js";import"./use-checkbox-CXyjvu9v.js";import"./visually-hidden.style-Bfr07Aua.js";import"./use-radio-6sqGZ21b.js";import"./radio-BkVBa4kL.js";import"./tab-panels-vLnb1L73.js";import"./format-DNgEHVKA.js";import"./Clock-DOUKTfsE.js";import"./ProfileCircle-kDGWjsR6.js";import"./accordion-panel-Bmo1-bWf.js";import"./BulkDeleteButton-BS9Zhni5.js";import"./string_formatter-C0BoQtKC.js";import"./FilterSearch-1uMYI-Ol.js";import"./menu-option-group-DB7xgu7N.js";import"./SearchNormal-wibGUap8.js";import"./Export-C4Sp0XrA.js";const be=[{name:"firstName",label:"First name",type:"text",placeholder:"Customer first name"},{name:"lastName",label:"Last name",type:"text",placeholder:"Customer last name"},{name:"email",label:"Email address",type:"email",placeholder:"Email address"},{name:"phoneNumber",label:"Contact number",type:"text",placeholder:"Contact number"},{name:"address",label:"Address",type:"text",placeholder:"Address"}];function Ne({refresh:t}){const{isOpen:d,onOpen:r,onClose:o}=F(),u=p.useRef(null),{t:a}=D();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(c,{variant:"solid",colorScheme:"primary",className:"bg-primary-400 hover:bg-primary-500",rightIcon:e.jsxDEV(L,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:40,columnNumber:20},this),onClick:r,children:a("Create new customer")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:36,columnNumber:7},this),e.jsxDEV(R,{isOpen:d,placement:"right",size:"md",onClose:o,finalFocusRef:u,children:[e.jsxDEV(S,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:46,columnNumber:9},this),e.jsxDEV(I,{children:[e.jsxDEV(H,{className:"border-b border-black/5",children:a("Create new customer")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:48,columnNumber:11},this),e.jsxDEV(K,{initialValues:{firstName:"",lastName:"",email:"",phoneNumber:"",address:"",roleId:6,isEmailVerified:!0},onSubmit:async(m,i)=>{try{i.setSubmitting(!0);const{data:n}=await k.post("/api/users",m);n!=null&&n.success&&(o(),t(),C.success(a(n==null?void 0:n.message)||a("Customer created successfully")))}catch(n){C.error(a(n.response.data.message)||a("Something went wrong"))}finally{i.setSubmitting(!1)}},validationSchema:O,children:({isSubmitting:m})=>e.jsxDEV(M,{children:[e.jsxDEV(B,{children:e.jsxDEV("div",{className:"flex flex-col gap-5",children:be.map(i=>e.jsxDEV(U,{item:i},i.name,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:84,columnNumber:23},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:82,columnNumber:19},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:81,columnNumber:17},this),e.jsxDEV(T,{borderTopWidth:"1px",borderColor:"secondary.200",className:"absolute bg-white w-full bottom-0",children:[e.jsxDEV(c,{variant:"outline",w:"full",mr:3,onClick:o,children:a("Cancel")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:93,columnNumber:19},this),e.jsxDEV(c,{variant:"solid",colorScheme:"primary",w:"full",type:"submit",isLoading:m,className:"bg-primary-400 hover:bg-primary-500",rightIcon:e.jsxDEV(L,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:103,columnNumber:32},this),children:a("Create")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:96,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:88,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:80,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:52,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:47,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:45,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/NewCustomer.tsx",lineNumber:35,columnNumber:5},this)}function $({isIconButton:t=!1,id:d,refresh:r}){const{t:o}=D(),{props:{auth:u}}=G(),a=async()=>{try{const{data:m}=await k.delete(`/api/users/${d}`);m!=null&&m.message&&(C.success(o("Customer deleted successfully")),r())}catch(m){C.error(o(m.response.data.message)||o("Something went wrong"))}};return(u==null?void 0:u.id)===d?null:e.jsxDEV(J,{children:({onClose:m})=>e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Y,{children:t?e.jsxDEV(W,{"aria-label":"Delete",icon:e.jsxDEV(_,{size:"18"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/DeleteCustomer.tsx",lineNumber:57,columnNumber:23},this),colorScheme:"red",className:"hover:bg-red-100",variant:"outline"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/DeleteCustomer.tsx",lineNumber:55,columnNumber:15},this):e.jsxDEV(c,{variant:"outline",w:"full",colorScheme:"red",mr:3,children:o("Delete")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/DeleteCustomer.tsx",lineNumber:63,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/DeleteCustomer.tsx",lineNumber:53,columnNumber:11},this),e.jsxDEV(Z,{children:[e.jsxDEV(ee,{pt:4,fontWeight:"bold",border:"0",children:o("Delete customer")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/DeleteCustomer.tsx",lineNumber:69,columnNumber:13},this),e.jsxDEV(se,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/DeleteCustomer.tsx",lineNumber:72,columnNumber:13},this),e.jsxDEV(te,{whiteSpace:"normal",children:o("Are you sure you want to delete this customer?")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/DeleteCustomer.tsx",lineNumber:73,columnNumber:13},this),e.jsxDEV(oe,{border:"0",display:"flex",alignItems:"center",justifyContent:"flex-end",pb:4,children:e.jsxDEV(ie,{size:"sm",children:[e.jsxDEV(c,{colorScheme:"secondary",className:"bg-secondary-200 text-secondary-800 hover:bg-secondary-300",onClick:m,children:o("Cancel")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/DeleteCustomer.tsx",lineNumber:84,columnNumber:17},this),e.jsxDEV(c,{colorScheme:"red",className:"bg-red-400 hover:bg-red-500",onClick:a,children:o("Delete")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/DeleteCustomer.tsx",lineNumber:91,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/DeleteCustomer.tsx",lineNumber:83,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/DeleteCustomer.tsx",lineNumber:76,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/DeleteCustomer.tsx",lineNumber:68,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/DeleteCustomer.tsx",lineNumber:52,columnNumber:9},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/DeleteCustomer.tsx",lineNumber:50,columnNumber:5},this)}const fe=[{name:"firstName",label:"First name",type:"text",placeholder:"Customer first name"},{name:"lastName",label:"Last name",type:"text",placeholder:"Customer last name"},{name:"email",label:"Email address",type:"email",placeholder:"Email address"},{name:"phoneNumber",label:"Contact number",type:"text",placeholder:"Contact number"},{name:"address",label:"Address",type:"text",placeholder:"Address"},{name:"isSuspended",label:"Acc. Status",type:"switch",placeholder:"Suspended"},{name:"isEmailVerified",label:"Email verified",type:"switch",placeholder:"Email verified"}];function Q({isIconButton:t=!1,customer:d,refresh:r}){const{isOpen:o,onOpen:u,onClose:a}=F(),m=p.useRef(null),{t:i}=D(),{id:n,firstName:f,lastName:g,email:E,phoneNumber:b,address:h,isSuspended:j,isEmailVerified:y}=d||{};return e.jsxDEV(e.Fragment,{children:[t?e.jsxDEV(W,{"aria-label":"Edit",icon:e.jsxDEV(z,{size:"18"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:59,columnNumber:17},this),colorScheme:"blue",className:"hover:bg-blue-100",variant:"outline",onClick:u},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:57,columnNumber:9},this):e.jsxDEV(c,{"aria-label":"Edit",rightIcon:e.jsxDEV(z,{size:"18"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:68,columnNumber:22},this),colorScheme:"blue",width:"full",className:"hover:bg-blue-100",variant:"outline",onClick:u,children:i("Edit")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:66,columnNumber:9},this),e.jsxDEV(R,{isOpen:o,placement:"right",size:"md",onClose:a,finalFocusRef:m,children:[e.jsxDEV(S,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:79,columnNumber:9},this),e.jsxDEV(I,{children:[e.jsxDEV(H,{className:"border-b border-black/5",children:i("Edit customer")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:81,columnNumber:11},this),e.jsxDEV(K,{initialValues:{firstName:f??"",lastName:g??"",email:E??"",phoneNumber:b??"",address:h??"",password:"",roleId:6,isSuspended:!j,isEmailVerified:!!y},onSubmit:async(x,N)=>{try{N.setSubmitting(!0);const{data:l}=await k.put(`/api/users/${n}`,{...x,isSuspended:x.isSuspended?0:1});l!=null&&l.success&&(a(),r(),C.success(i(l==null?void 0:l.message)||"Customer updated successfully"))}catch(l){C.error(i(l.response.data.message)||i("Something went wrong"))}finally{N.setSubmitting(!1)}},validationSchema:O,children:({isSubmitting:x,setFieldValue:N})=>e.jsxDEV(M,{children:[e.jsxDEV(B,{className:"space-y-4",children:e.jsxDEV("div",{className:"flex flex-col gap-5",children:fe.map(l=>e.jsxDEV(U,{item:l,setFieldValue:N},l.name,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:120,columnNumber:23},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:118,columnNumber:19},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:117,columnNumber:17},this),e.jsxDEV(T,{borderTopWidth:"1px",borderColor:"secondary.200",className:"absolute bg-white w-full bottom-0",children:[e.jsxDEV(c,{variant:"outline",w:"full",mr:3,onClick:a,children:i("Cancel")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:129,columnNumber:19},this),e.jsxDEV(c,{variant:"solid",colorScheme:"primary",w:"full",type:"submit",isLoading:x,className:"bg-primary-400 hover:bg-primary-500",children:i("Save")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:132,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:124,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:116,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:83,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:80,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:78,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/EditCustomer.tsx",lineNumber:55,columnNumber:5},this)}function he({customer:t,refresh:d}){const{data:r}=ae(t==null?void 0:t.id),{isOpen:o,onOpen:u,onClose:a}=F(),m=p.useRef(null),{t:i}=D(),{fullName:n,email:f,phoneNumber:g,address:E,isSuspended:b}=r||{};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(c,{variant:"outline",colorScheme:"secondary",className:"border-secondary-200 text-secondary-800 hover:bg-secondary-100",rightIcon:e.jsxDEV(de,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:40,columnNumber:20},this),onClick:u,children:i("View")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:36,columnNumber:7},this),e.jsxDEV(R,{isOpen:o,placement:"right",size:"md",onClose:a,finalFocusRef:m,children:[e.jsxDEV(S,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:46,columnNumber:9},this),e.jsxDEV(I,{children:[e.jsxDEV(B,{py:"6",children:e.jsxDEV("div",{className:"p-8 space-y-6 shadow-primary rounded-md mb-7",children:[e.jsxDEV("div",{className:"border-b border-black/5 pb-6 space-y-1",children:[e.jsxDEV("span",{className:"text-secondary-500 text-sm font-medium",children:i("Customer name")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:52,columnNumber:17},this),e.jsxDEV("h2",{className:"text-3xl font-bold text-secondary-700",children:n},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:53,columnNumber:17},this),e.jsxDEV(w,{colorScheme:b?"red":"green",children:i(b?"Suspended":"Active")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:54,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:51,columnNumber:15},this),[{title:"Email",value:f},{title:"Contact number",value:g}].map((h,j)=>e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-secondary-500 text-sm font-medium",children:i(h.title)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:66,columnNumber:21},this),e.jsxDEV("p",{className:"text-lg text-secondary-700 font-medium",children:h.value},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:67,columnNumber:21},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:65,columnNumber:19},this),e.jsxDEV(c,{variant:"outline",rightIcon:e.jsxDEV(me,{size:16},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:71,columnNumber:32},this),onClick:()=>ne(h.value),children:i("Copy")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:69,columnNumber:19},this)]},j,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:64,columnNumber:17},this)),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-secondary-500 text-sm font-medium",children:i("Address")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:81,columnNumber:17},this),e.jsxDEV("p",{className:"text-lg text-secondary-700 font-medium",children:E},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:82,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:80,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:49,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:48,columnNumber:11},this),e.jsxDEV(T,{borderTopWidth:"1px",borderColor:"secondary.200",className:"absolute bg-white w-full bottom-0",children:[e.jsxDEV(c,{variant:"outline",w:"full",mr:3,onClick:a,children:i("Close")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:91,columnNumber:13},this),e.jsxDEV($,{id:r==null?void 0:r.id,refresh:d},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:94,columnNumber:13},this),e.jsxDEV(Q,{customer:r,refresh:d},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:95,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:86,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:47,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:45,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/Customers/ViewCustomer.tsx",lineNumber:35,columnNumber:5},this)}function Ns(){const{t}=D(),[d,r]=p.useState(1),[o,u]=p.useState(10),[a,m]=p.useState(""),[i,n]=p.useState([]),[f,g]=p.useState({}),[E,b]=p.useState([]),[h,j]=p.useState(!1),y=ue(a,300),{items:x,meta:N,isLoading:l,refresh:A,isValidating:P}=pe("/api/users",{search:y,page:d,limit:o,type:"customer",emailVerified:f.emailVerified,suspended:f.suspended});return p.useEffect(()=>{!P&&!x.length&&b([])},[P]),e.jsxDEV(q,{title:t("Customers"),children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV(ce,{bulkAction:{isBulkAction:!!E.length,BulkUpdateBar:()=>e.jsxDEV(re,{rows:E,reset:()=>b([]),available:h,setAvailable:j},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Customers.tsx",lineNumber:59,columnNumber:15},this)},filter:e.jsxDEV(le,{filter:f,setFilter:g},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Customers.tsx",lineNumber:67,columnNumber:19},this),AddNew:()=>e.jsxDEV(Ne,{refresh:A},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Customers.tsx",lineNumber:68,columnNumber:25},this),exportUrl:"/api/users/export/all?type=customer",setSearchQuery:m},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Customers.tsx",lineNumber:55,columnNumber:9},this),e.jsxDEV(X,{data:x,isLoading:l,sorting:i,setSorting:n,getRowId:s=>s.id,enableMultiRowSelection:!0,onRowSelection:b,pagination:{total:N==null?void 0:N.total,page:d,setPage:r,limit:o,setLimit:u},structure:[{accessorKey:"checkbox",enableSorting:!1,header:({table:s})=>e.jsxDEV("input",{type:"checkbox",checked:s==null?void 0:s.getIsAllRowsSelected(),onChange:s==null?void 0:s.getToggleAllRowsSelectedHandler(),className:"accent-primary-500 cursor-pointer scale-110"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Customers.tsx",lineNumber:92,columnNumber:17},this),cell:({row:s})=>e.jsxDEV("input",{type:"checkbox",checked:s==null?void 0:s.getIsSelected(),onChange:s==null?void 0:s.getToggleSelectedHandler(),className:"accent-primary-500 cursor-pointer scale-110"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Customers.tsx",lineNumber:100,columnNumber:17},this)},{accessorKey:"id",header:()=>t("SL"),cell:s=>s.row.index+1},{accessorKey:"fullName",header:()=>t("Customer name")},{accessorKey:"email",header:()=>t("Email")},{accessorKey:"phoneNumber",header:()=>t("Contact number")},{accessorKey:"isSuspended",header:()=>t("Acc. Status"),cell:({row:s})=>{var v,V;return e.jsxDEV(w,{colorScheme:(v=s.original)!=null&&v.isSuspended?"red":"green",children:(V=s.original)!=null&&V.isSuspended?t("Suspended"):t("Active")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Customers.tsx",lineNumber:129,columnNumber:17},this)}},{accessorKey:"isEmailVerified",header:()=>t("Email status"),cell:({row:s})=>{var v,V;return e.jsxDEV(w,{colorScheme:(v=s.original)!=null&&v.isEmailVerified?"green":"red",children:(V=s.original)!=null&&V.isEmailVerified?t("Verified"):t("Unverified")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Customers.tsx",lineNumber:138,columnNumber:17},this)}},{accessorKey:"actions",header:()=>t("Actions"),cell:({row:s})=>e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(he,{customer:s.original,refresh:A},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Customers.tsx",lineNumber:148,columnNumber:19},this),e.jsxDEV($,{isIconButton:!0,id:s.original.id,refresh:A},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Customers.tsx",lineNumber:149,columnNumber:19},this),e.jsxDEV(Q,{isIconButton:!0,customer:s.original,refresh:A},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Customers.tsx",lineNumber:150,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Customers.tsx",lineNumber:147,columnNumber:17},this)}]},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Customers.tsx",lineNumber:72,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Customers.tsx",lineNumber:54,columnNumber:7},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Customers.tsx",lineNumber:53,columnNumber:5},this)}export{Ns as default};
