import{r as o,j as i}from"./app-DV9Enp-g.js";import{F as x,V as R}from"./ViewReservation-D5zktvRk.js";import{T as j}from"./ToolBar-CxhXniPl.js";import{D as E}from"./DataTable-CNld8Vzj.js";import{L as D}from"./Layout-4Yl3SVGs.js";import{u as A}from"./use_table_data-Dqvu1vx3.js";import{u as V}from"./useDebounce-BZ39Q-Ut.js";import{u as H}from"./useTranslation-B_tqir3M.js";import{B as T}from"./platform_roles-C6HFwJ_S.js";import{f as n}from"./format-DNgEHVKA.js";import"./FieldRenderer-CQ2ywok4.js";import"./formik.esm-57hcKfmx.js";import"./input-BY0aN3Wh.js";import"./_rollupPluginBabelHelpers-3bc641ae-fORsOdMW.js";import"./index-CuMLbxmh.js";import"./NewCustomerSchema-C2AlfYyz.js";import"./index.esm-DH7tFHsH.js";import"./Minus-hQCtIxHU.js";import"./popover-trigger-bCcTHQgY.js";import"./ArrowDown2-BYk1CnSd.js";import"./popover-header-BFLhNdCb.js";import"./popover-body-Dv7tL-tk.js";import"./use-boolean-S__THBuA.js";import"./index-sP33oPgb.js";import"./Calendar-DOPv7dkO.js";import"./ArrowRight2-Cm1MJeQW.js";import"./Clock-DOUKTfsE.js";import"./string_formatter-C0BoQtKC.js";import"./form-label-BRtD5jpz.js";import"./input-group-B3tcnjIp.js";import"./input-addon-BXuOB8U6.js";import"./textarea-7dmbfoGY.js";import"./FilterSearch-1uMYI-Ol.js";import"./menu-option-group-DB7xgu7N.js";import"./popover-footer-DDOtcm9S.js";import"./Edit2-BR-gFx13.js";import"./parse-B5ZfNmo9.js";import"./Trash-D0bDSe0A.js";import"./popover-arrow-CcvyMVbB.js";import"./Eye-14Q_bsoa.js";import"./input-element-D56J_yd_.js";import"./SearchNormal-wibGUap8.js";import"./Export-C4Sp0XrA.js";import"./Pagination-BLwLKiba.js";import"./tr-DmrvMSh4.js";import"./tab-panels-vLnb1L73.js";import"./ProfileCircle-kDGWjsR6.js";import"./accordion-panel-Bmo1-bWf.js";function Ee(){const{t}=H(),[l,p]=o.useState(1),[d,c]=o.useState(10),[u,v]=o.useState(""),[b,N]=o.useState([]),[a,g]=o.useState({}),h=V(u,300),{items:y,meta:m,isLoading:f}=A("/api/reservations",{search:h,page:l,limit:d,status:a.status,listType:"history",reservationDate:a!=null&&a.reservationDate?n(a==null?void 0:a.reservationDate,"yyyy-MM-dd"):void 0});return i.jsxDEV(D,{title:t("Reservations history"),children:i.jsxDEV("div",{className:"p-6",children:[i.jsxDEV(j,{filter:i.jsxDEV(x,{filter:a,setFilter:g},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:47,columnNumber:19},this),setSearchQuery:v,exportUrl:"/api/reservations/export/all?listType=history"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:46,columnNumber:9},this),i.jsxDEV(E,{data:y,isLoading:f,sorting:b,setSorting:N,pagination:{total:m==null?void 0:m.total,page:l,setPage:p,limit:d,setLimit:c},structure:[{accessorKey:"id",header:()=>t("SL"),cell:e=>e.row.index+1},{accessorKey:"createdAt",header:()=>t("Created On"),cell:({row:e})=>{var s,r;return i.jsxDEV("div",{className:"space-y-1",children:[i.jsxDEV("p",{className:"font-bold",children:n(new Date((s=e.original)==null?void 0:s.createdAt),"dd MMM yyyy")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:75,columnNumber:19},this),i.jsxDEV("p",{children:n(new Date((r=e.original)==null?void 0:r.createdAt),"hh:mm a")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:78,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:74,columnNumber:17},this)}},{accessorKey:"user.fullName",header:()=>t("Customer name")},{accessorKey:"user.phoneNumber",header:()=>t("Contact number")},{accessorKey:"reservationDate",header:()=>t("Time & Date"),cell:({row:e})=>{var s;return i.jsxDEV("div",{className:"space-y-1",children:[i.jsxDEV("p",{className:"font-bold",children:n((s=e.original)==null?void 0:s.reservationDate,"dd MMM yyyy")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:95,columnNumber:19},this),i.jsxDEV("p",{children:[e.original.startTime," ",t("to")," ",e.original.endTime]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:98,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:94,columnNumber:17},this)}},{accessorKey:"numberOfPeople",header:()=>t("People"),cell:({row:e})=>{var s;return i.jsxDEV("span",{className:"font-bold",children:(s=e.original)==null?void 0:s.numberOfPeople},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:107,columnNumber:34},this)}},{accessorKey:"tableNumber",header:()=>t("Table No"),cell:({row:e})=>{var s;return i.jsxDEV("span",{className:"font-bold",children:(s=e.original)==null?void 0:s.tableNumber},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:112,columnNumber:34},this)}},{accessorKey:"status",header:()=>t("Status"),cell:({row:e})=>{var s,r;return i.jsxDEV(T,{colorScheme:((s=e.original)==null?void 0:s.status)==="cancelled"?"red":"green",children:t((r=e.original)==null?void 0:r.status)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:118,columnNumber:17},this)}},{accessorKey:"action",header:()=>t("Action"),cell:({row:e})=>i.jsxDEV(R,{reservation:e.original,refresh:()=>{}},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:127,columnNumber:34},this)}]},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:52,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:45,columnNumber:7},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/Reservations/ReservationHistory.tsx",lineNumber:44,columnNumber:5},this)}export{Ee as default};
