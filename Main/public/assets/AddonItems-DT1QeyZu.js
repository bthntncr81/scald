import{j as e,t as x,b as V,m as O,r as f,M as k,c as F,a as C}from"./app-DV9Enp-g.js";import{B as ae}from"./BulkDeleteButton-BS9Zhni5.js";import{u as I}from"./useTranslation-B_tqir3M.js";import{H as de,D as B,a as T,M as R,A as L,B as me}from"./platform_roles-C6HFwJ_S.js";import{T as v,M as le,a as re,A as ce,b as ue}from"./ArrowDown2-BYk1CnSd.js";import{S as G}from"./switch-B97T3cky.js";import{P as Q,a as _,b as q}from"./popover-trigger-bCcTHQgY.js";import{a as J,B as be}from"./input-BY0aN3Wh.js";import{T as K}from"./Trash-D0bDSe0A.js";import{B as b,u as z}from"./_rollupPluginBabelHelpers-3bc641ae-fORsOdMW.js";import{P as pe}from"./popover-header-BFLhNdCb.js";import{P as Ne,B as Ae}from"./popover-arrow-CcvyMVbB.js";import{P as X}from"./popover-body-Dv7tL-tk.js";import{P as Y}from"./popover-footer-DDOtcm9S.js";import{F as Z,a as ee}from"./formik.esm-57hcKfmx.js";import{F as ie}from"./FieldRenderer-Ds4nkS0Z.js";import{u as P,M,L as fe}from"./Layout-4Yl3SVGs.js";import{E as $}from"./Edit2-BR-gFx13.js";import{s as H}from"./string_formatter-C0BoQtKC.js";import{F as he}from"./FilterSearch-1uMYI-Ol.js";import{M as xe,a as ge}from"./menu-option-group-DB7xgu7N.js";import{c as se}from"./currency_formatter-Bz1CGAdC.js";import{E as Ee}from"./Eye-14Q_bsoa.js";import{T as je}from"./ToolBar-CxhXniPl.js";import{D as ve}from"./DataTable-CNld8Vzj.js";import{u as Ie}from"./use_table_data-Dqvu1vx3.js";import{u as De}from"./useDebounce-BZ39Q-Ut.js";import"./use-checkbox-CXyjvu9v.js";import"./visually-hidden.style-Bfr07Aua.js";import"./index-CuMLbxmh.js";import"./use-boolean-S__THBuA.js";import"./tag-DOREaL30.js";import"./ImageUpload-D5P185gr.js";import"./index-DOaWT0nF.js";import"./form-label-BRtD5jpz.js";import"./input-group-B3tcnjIp.js";import"./input-element-D56J_yd_.js";import"./use-radio-6sqGZ21b.js";import"./radio-BkVBa4kL.js";import"./tab-panels-vLnb1L73.js";import"./format-DNgEHVKA.js";import"./Clock-DOUKTfsE.js";import"./ProfileCircle-kDGWjsR6.js";import"./accordion-panel-Bmo1-bWf.js";import"./SearchNormal-wibGUap8.js";import"./Export-C4Sp0XrA.js";import"./Pagination-BLwLKiba.js";import"./tr-DmrvMSh4.js";import"./ArrowRight2-Cm1MJeQW.js";function Ve({rows:i,reset:l,available:m,setAvailable:s}){const{t:a}=I(),t=r=>{x.promise(V.patch("/api/addons/bulk/update",{ids:i.map(d=>d.id),isAvailable:r}),{loading:a("Updating availability..."),success:()=>(O(d=>d.startsWith("/api/addons")),a("Addons availability updated successfully")),error:()=>a("Failed to update addons availability")})},o=()=>{x.promise(V.delete("/api/addons/bulk/delete",{data:{ids:i.map(r=>r.id)}}),{loading:a("Deleting..."),success:()=>(l==null||l(),O(r=>r.startsWith("/api/addons")),a("Addons deleted successfully")),error:()=>a("Failed to delete addons")})};return e.jsxDEV("div",{className:"w-full flex items-center justify-end",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV(de,{className:"ml-auto",children:[e.jsxDEV(v,{color:"secondary.400",children:[" ",a("Availability")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/AddonsBulkUpdateBar.tsx",lineNumber:67,columnNumber:11},this),e.jsxDEV(G,{size:"lg",colorScheme:"green",isChecked:m,onChange:r=>{s(r.target.checked),t(r.target.checked)}},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/AddonsBulkUpdateBar.tsx",lineNumber:68,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/AddonsBulkUpdateBar.tsx",lineNumber:66,columnNumber:9},this),e.jsxDEV(ae,{onDelete:o},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/AddonsBulkUpdateBar.tsx",lineNumber:79,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/AddonsBulkUpdateBar.tsx",lineNumber:65,columnNumber:7},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/AddonsBulkUpdateBar.tsx",lineNumber:64,columnNumber:5},this)}function ne({id:i,refresh:l,isIconButton:m=!0}){const{t:s}=I(),a=async()=>{try{const{data:t}=await V.delete(`/api/addons/${i}`);t!=null&&t.message&&(x.success(s(t==null?void 0:t.message)||s("Addon deleted successfully")),l())}catch(t){x.error(s(t.response.data.message)||s("Something went wrong"))}};return e.jsxDEV(Q,{children:({onClose:t})=>e.jsxDEV(e.Fragment,{children:[e.jsxDEV(_,{children:m?e.jsxDEV(J,{"aria-label":"Delete",icon:e.jsxDEV(K,{size:"18"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/DeleteAddon.tsx",lineNumber:50,columnNumber:23},this),colorScheme:"red",className:"hover:bg-red-100",variant:"outline"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/DeleteAddon.tsx",lineNumber:48,columnNumber:15},this):e.jsxDEV(b,{className:"hover:bg-red-100",variant:"outline",colorScheme:"red",rightIcon:e.jsxDEV(K,{size:18},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/DeleteAddon.tsx",lineNumber:60,columnNumber:28},this),children:s("Delete")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/DeleteAddon.tsx",lineNumber:56,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/DeleteAddon.tsx",lineNumber:46,columnNumber:11},this),e.jsxDEV(q,{children:[e.jsxDEV(pe,{pt:4,fontWeight:"bold",border:"0",children:s("Delete addon")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/DeleteAddon.tsx",lineNumber:67,columnNumber:13},this),e.jsxDEV(Ne,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/DeleteAddon.tsx",lineNumber:70,columnNumber:13},this),e.jsxDEV(X,{whiteSpace:"normal",children:s("Are you sure you want to delete this addon?")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/DeleteAddon.tsx",lineNumber:71,columnNumber:13},this),e.jsxDEV(Y,{border:"0",display:"flex",alignItems:"center",justifyContent:"flex-end",pb:4,children:e.jsxDEV(Ae,{size:"sm",children:[e.jsxDEV(b,{colorScheme:"secondary",className:"bg-secondary-200 text-secondary-800 hover:bg-secondary-300",onClick:t,children:s("Cancel")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/DeleteAddon.tsx",lineNumber:82,columnNumber:17},this),e.jsxDEV(b,{colorScheme:"red",className:"bg-red-400 hover:bg-red-500",onClick:a,children:s("Delete")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/DeleteAddon.tsx",lineNumber:89,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/DeleteAddon.tsx",lineNumber:81,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/DeleteAddon.tsx",lineNumber:74,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/DeleteAddon.tsx",lineNumber:66,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/DeleteAddon.tsx",lineNumber:45,columnNumber:9},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/DeleteAddon.tsx",lineNumber:43,columnNumber:5},this)}function te({addon:i,refresh:l,isIconButton:m=!0}){var w;const{isOpen:s,onOpen:a,onClose:t}=z(),o=P(),r=f.useRef(null),{t:d}=I(),{id:h,name:c,price:u,isAvailable:p}=i||{},y=[{name:"image",label:"Image",type:"file",placeholder:"Addon image",preview:((w=i==null?void 0:i.image)==null?void 0:w.url)||""},{name:"name",label:"Name",type:"text",placeholder:"Addon name"},{name:"price",label:"Price",type:"number",placeholder:"Add price"}];return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(e.Fragment,{children:m?e.jsxDEV(J,{"aria-label":"Edit",icon:e.jsxDEV($,{size:"18"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:56,columnNumber:19},this),colorScheme:"blue",className:"hover:bg-blue-100",variant:"outline",onClick:a},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:54,columnNumber:11},this):e.jsxDEV(b,{"aria-label":"Edit",rightIcon:e.jsxDEV($,{size:"18"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:65,columnNumber:24},this),colorScheme:"blue",className:"hover:bg-blue-100",variant:"outline",onClick:a,children:d("Edit")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:63,columnNumber:11},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:52,columnNumber:7},this),e.jsxDEV(B,{isOpen:s,placement:o.width<640?"bottom":"right",size:"md",onClose:t,finalFocusRef:r,children:[e.jsxDEV(k,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:82,columnNumber:9},this),e.jsxDEV(T,{className:"h-[80%] sm:h-auto rounded-xl sm:rounded-none",children:[e.jsxDEV(M,{className:"border-b border-black/5",children:[d("Edit addon"),e.jsxDEV(F,{className:"sm:hidden"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:86,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:84,columnNumber:11},this),e.jsxDEV(Z,{initialValues:{image:"",name:c??"",price:u??"",isAvailable:!!p},onSubmit:async(g,D)=>{try{D.setSubmitting(!0);const N=new FormData;for(const A in g)Array.isArray(g[A])?(g[A].length==0&&N.append(`${A}[]`,""),g[A].forEach(S=>N.append(`${A}[]`,S??""))):N.append(A,g[A]);const{data:E}=await V.put(`/api/addons/${h}`,N,{headers:{"Content-Type":"multipart/form-data"}});E!=null&&E.success&&(t(),l(),x.success(d(E==null?void 0:E.message)||"Charges updated successfully"))}catch(N){x.error(d(N.response.data.message)||"Something went wrong")}finally{D.setSubmitting(!1)}},children:({isSubmitting:g,setFieldValue:D})=>e.jsxDEV(ee,{className:"flex-1 overflow-y-auto flex flex-col",children:[e.jsxDEV(C,{className:"space-y-4 flex-1",children:e.jsxDEV("div",{className:"flex flex-col gap-5 border-b border-black/5 pb-4",children:y.map(N=>e.jsxDEV(ie,{item:N,setFieldValue:D},N.name,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:131,columnNumber:23},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:129,columnNumber:19},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:128,columnNumber:17},this),e.jsxDEV(R,{borderTopWidth:"1px",borderColor:"secondary.200",className:" bg-white w-full bottom-0",children:[e.jsxDEV(b,{variant:"outline",w:"full",mr:3,onClick:t,children:d("Cancel")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:140,columnNumber:19},this),e.jsxDEV(b,{variant:"solid",colorScheme:"primary",w:"full",type:"submit",isLoading:g,className:"bg-primary-400 hover:bg-primary-500",children:d("Save")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:143,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:135,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:127,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:83,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:75,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/EditAddon.tsx",lineNumber:51,columnNumber:5},this)}function ye({filter:i,setFilter:l}){var s;const{t:m}=I();return e.jsxDEV(Q,{matchWidth:!0,children:[e.jsxDEV(_,{children:e.jsxDEV(b,{variant:"outline",leftIcon:e.jsxDEV(he,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:35,columnNumber:45},this),children:m("Filter")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:35,columnNumber:9},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:34,columnNumber:7},this),e.jsxDEV(q,{children:[e.jsxDEV(X,{className:"w-full p-2.5",children:e.jsxDEV(le,{matchWidth:!0,children:[e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV(v,{className:"text-secondary-500",children:m("Availability")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:44,columnNumber:15},this),e.jsxDEV(re,{as:b,className:"w-full text-left justify-start bg-secondary-50 font-normal",rightIcon:e.jsxDEV(ce,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:48,columnNumber:28},this),color:i.available?"inherit":"secondary.500",children:i.available?m(H(i.available==="true"?"Available":"Unavailable")):m("Availability")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:45,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:43,columnNumber:13},this),e.jsxDEV(ue,{className:"w-full p-1",children:e.jsxDEV(xe,{value:(s=i.available)==null?void 0:s.toString(),onChange:a=>{l(t=>({...t,available:a}))},type:"radio",children:["true","false"].map(a=>e.jsxDEV(ge,{value:a,icon:null,children:m(H(a==="true"?"Available":"Unavailable"))},a,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:65,columnNumber:19},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:57,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:56,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:42,columnNumber:11},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:40,columnNumber:9},this),e.jsxDEV(Y,{className:"border-black/5",children:e.jsxDEV(b,{size:"md",className:"w-full",onClick:()=>l({}),children:m("Clear")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:74,columnNumber:11},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:73,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:39,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/FilterAddonItems.tsx",lineNumber:33,columnNumber:5},this)}function we({refresh:i}){const{isOpen:l,onOpen:m,onClose:s}=z(),a=P(),t=f.useRef(null),{t:o}=I(),r=[{name:"image",label:"Image",type:"file",placeholder:"Addon image"},{name:"name",label:"Name",type:"text",placeholder:"Addon name"},{name:"price",label:"Price",type:"number",placeholder:"Add price"}];return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(b,{variant:"solid",colorScheme:"primary",className:"bg-primary-400 hover:bg-primary-500",rightIcon:e.jsxDEV(L,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:40,columnNumber:20},this),onClick:m,children:o("Create new item")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:36,columnNumber:7},this),e.jsxDEV(B,{isOpen:l,placement:a.width<640?"bottom":"right",size:"md",onClose:s,finalFocusRef:t,children:[e.jsxDEV(k,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:52,columnNumber:9},this),e.jsxDEV(T,{className:"h-[80%] sm:h-auto rounded-xl sm:rounded-none",children:[e.jsxDEV(M,{className:"border-b border-black/5",children:[o("Create new add-on"),e.jsxDEV(F,{className:"sm:hidden"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:56,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:54,columnNumber:11},this),e.jsxDEV(Z,{initialValues:{image:"",name:"",price:"",discount:"",discountType:"",chargeIds:[]},onSubmit:async(d,h)=>{try{h.setSubmitting(!0);const c=new FormData;for(const p in d)Array.isArray(d[p])?(d[p].length==0&&c.append(`${p}[]`,""),d[p].forEach(y=>c.append(`${p}[]`,y??""))):c.append(p,d[p]);const{data:u}=await V.post("/api/addons",c,{headers:{"Content-Type":"multipart/form-data"}});u!=null&&u.success&&(s(),i(),x.success(o(u==null?void 0:u.message)||o("Addon created successfully")))}catch(c){Array.isArray(c.response.data.messages)?c.response.data.messages.forEach(u=>{h.setFieldError(u.field,o(u.message))}):x.error(o(c.response.data.message)||o("Something went wrong"))}finally{h.setSubmitting(!1)}},children:({isSubmitting:d,setFieldValue:h})=>e.jsxDEV(ee,{className:"flex flex-1 flex-col overflow-y-auto",children:[e.jsxDEV(C,{className:"space-y-4 h-full flex-1 overflow-y-auto",children:e.jsxDEV("div",{className:"flex flex-col gap-5 border-b border-black/5 pb-4",children:r.map(c=>e.jsxDEV(ie,{item:c,setFieldValue:h},c.name,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:112,columnNumber:23},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:110,columnNumber:19},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:109,columnNumber:17},this),e.jsxDEV(R,{borderTopWidth:"1px",borderColor:"secondary.200",className:"bg-white w-full",children:[e.jsxDEV(b,{variant:"outline",w:"full",mr:3,onClick:s,children:o("Cancel")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:121,columnNumber:19},this),e.jsxDEV(b,{variant:"solid",colorScheme:"primary",w:"full",type:"submit",isLoading:d,className:"bg-primary-400 hover:bg-primary-500",rightIcon:e.jsxDEV(L,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:131,columnNumber:32},this),children:o("Create")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:124,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:116,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:108,columnNumber:15},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:59,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:53,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:45,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/NewAddon.tsx",lineNumber:35,columnNumber:5},this)}function Se({isAvailable:i,id:l,refresh:m}){const{t:s}=I(),a=async t=>{try{const{data:o,status:r}=await V.patch(`/api/addons/${l}`,{isAvailable:t});r===200&&(x.success(o.message),m())}catch(o){V.isAxiosError(o)&&x.error(s("Something went wrong"))}};return e.jsxDEV(G,{colorScheme:"green",defaultChecked:!!i,size:"lg",onChange:t=>a(t.target.checked)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ToggleAvailability.tsx",lineNumber:35,columnNumber:5},this)}function ke({addon:i}){var r;const{isOpen:l,onOpen:m,onClose:s}=z(),a=P(),t=f.useRef(null),{t:o}=I();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(b,{variant:"outline",colorScheme:"secondary",className:"border-secondary-200 text-secondary-800 hover:bg-secondary-100",rightIcon:e.jsxDEV(Ee,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:35,columnNumber:20},this),onClick:m,children:o("View")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:31,columnNumber:7},this),e.jsxDEV(B,{isOpen:l,placement:a.width<640?"bottom":"right",size:"md",onClose:s,finalFocusRef:t,children:[e.jsxDEV(k,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:47,columnNumber:9},this),e.jsxDEV(T,{className:"h-[80%] sm:h-auto rounded-xl sm:rounded-none",children:[e.jsxDEV(M,{className:"border-b border-black/5",children:[o("Add-on"),e.jsxDEV(F,{className:"sm:hidden"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:51,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:49,columnNumber:11},this),e.jsxDEV(C,{className:"flex-1 py-4",children:e.jsxDEV("div",{className:"flex flex-col gap-5",children:[e.jsxDEV("div",{className:"w-full aspect-[2/1] bg-secondary-50",children:e.jsxDEV("img",{src:(r=i==null?void 0:i.image)==null?void 0:r.url,alt:i==null?void 0:i.name,className:"w-full rounded-md aspect-[3/2]",onError:d=>d.currentTarget.src="/default_fallback.png"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:57,columnNumber:17},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:56,columnNumber:15},this),e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV(v,{className:"text-secondary-500",children:o("Addon name")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:66,columnNumber:17},this),e.jsxDEV(v,{as:"h5",fontSize:"lg",fontWeight:"semibold",children:o(i.name)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:67,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:65,columnNumber:15},this),e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV(v,{className:"text-secondary-500",children:o("Price")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:73,columnNumber:17},this),e.jsxDEV(v,{as:"h5",fontSize:"lg",fontWeight:"semibold",children:se(i.price)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:74,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:72,columnNumber:15},this),e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV(v,{className:"text-secondary-500",children:o("Availability")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:80,columnNumber:17},this),e.jsxDEV(me,{size:"lg",variant:"solid",colorScheme:i.isAvailable?"green":"primary",className:"w-fit",children:o(i.isAvailable?"Available":"Unavailable")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:81,columnNumber:17},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:79,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:55,columnNumber:13},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:54,columnNumber:11},this),e.jsxDEV(R,{borderTopWidth:"1px",borderColor:"secondary.200",className:"bg-white w-full gap-3 [&>button]:flex-1",children:[e.jsxDEV(b,{variant:"outline",onClick:s,children:o("Close")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:98,columnNumber:13},this),e.jsxDEV(ne,{id:i.id,refresh:s,isIconButton:!1},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:101,columnNumber:13},this),e.jsxDEV(te,{addon:i,refresh:s,isIconButton:!1},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:102,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:93,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:48,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:40,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Admin/AddonItems/ViewAddon.tsx",lineNumber:30,columnNumber:5},this)}function Vi(){const{t:i}=I(),[l,m]=f.useState(1),[s,a]=f.useState(10),[t,o]=f.useState(""),[r,d]=f.useState([]),[h,c]=f.useState({}),[u,p]=f.useState([]),[y,w]=f.useState(!1),g=De(t,300),{items:D,meta:N,isLoading:E,refresh:A,isValidating:S}=Ie("/api/addons",{page:l,limit:s,search:g,available:h.available});return f.useEffect(()=>{!S&&D.length===0&&p([])},[S]),e.jsxDEV(fe,{title:i("Add-on items"),children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV(je,{bulkAction:{isBulkAction:!!u.length,BulkUpdateBar:()=>e.jsxDEV(Ve,{rows:u,reset:()=>p([]),available:y,setAvailable:w},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:59,columnNumber:15},this)},filter:e.jsxDEV(ye,{filter:h,setFilter:c},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:67,columnNumber:19},this),AddNew:()=>e.jsxDEV(we,{refresh:A},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:68,columnNumber:25},this),setSearchQuery:o},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:55,columnNumber:9},this),e.jsxDEV(ve,{data:D,isLoading:E,sorting:r,setSorting:d,onRowSelection:p,enableMultiRowSelection:!0,getRowId:n=>n.id,pagination:{total:N==null?void 0:N.total,page:l,setPage:m,limit:s,setLimit:a},structure:[{accessorKey:"checkbox",enableSorting:!1,header:({table:n})=>e.jsxDEV("input",{type:"checkbox",checked:n==null?void 0:n.getIsAllRowsSelected(),onChange:n==null?void 0:n.getToggleAllRowsSelectedHandler(),className:"accent-primary-500 cursor-pointer scale-110"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:92,columnNumber:17},this),cell:({row:n})=>e.jsxDEV("input",{type:"checkbox",checked:n==null?void 0:n.getIsSelected(),onChange:n==null?void 0:n.getToggleSelectedHandler(),className:"accent-primary-500 cursor-pointer scale-110"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:100,columnNumber:17},this)},{accessorKey:"id",header:()=>i("SL"),cell:n=>n.row.index+1},{accessorKey:"image",header:()=>"",meta:{className:"px-2.5"},cell:({row:n})=>{var j,U,W;return e.jsxDEV(be,{w:"60px",children:e.jsxDEV("img",{className:"w-[60px] h-[50px] object-cover rounded-md",src:(U=(j=n.original)==null?void 0:j.image)==null?void 0:U.url,alt:(W=n.original)==null?void 0:W.name,onError:oe=>oe.currentTarget.src="/default_fallback.png"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:119,columnNumber:19},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:118,columnNumber:17},this)}},{accessorKey:"name",header:()=>i("Addon Name")},{accessorKey:"price",header:()=>i("Price"),cell:({row:n})=>{var j;return e.jsxDEV(v,{fontWeight:700,children:se((j=n.original)==null?void 0:j.price)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:136,columnNumber:17},this)}},{accessorKey:"isAvailable",header:()=>i("Availability"),cell:({row:n})=>{var j;return e.jsxDEV(Se,{isAvailable:(j=n.original)==null?void 0:j.isAvailable,id:n.original.id,refresh:A},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:143,columnNumber:17},this)}},{accessorKey:"actions",header:()=>i("Actions"),cell:({row:n})=>e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(ke,{addon:n.original},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:155,columnNumber:19},this),e.jsxDEV(te,{addon:n.original,refresh:A},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:156,columnNumber:19},this),e.jsxDEV(ne,{id:n.original.id,refresh:A},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:157,columnNumber:19},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:154,columnNumber:17},this)}]},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:72,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:54,columnNumber:7},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Admin/AddonItems.tsx",lineNumber:53,columnNumber:5},this)}export{Vi as default};
