import{r as m,j as e,u as D,f as E,S as v}from"./app-DV9Enp-g.js";import{c as O}from"./currency_formatter-Bz1CGAdC.js";import{O as V}from"./order_status-CM2aeLIm.js";import{s as A}from"./string_formatter-C0BoQtKC.js";import{u as y}from"./useTranslation-B_tqir3M.js";import{B as u}from"./input-BY0aN3Wh.js";import{B as p,H as C}from"./platform_roles-C6HFwJ_S.js";import{f as w}from"./format-DNgEHVKA.js";import{L as R}from"./Layout-4Yl3SVGs.js";import{z as S,N as b}from"./index-CuMLbxmh.js";import{A as T,a as N,b as f,c as x,d as h}from"./accordion-panel-Bmo1-bWf.js";import{T as d}from"./ArrowDown2-BYk1CnSd.js";import"./_rollupPluginBabelHelpers-3bc641ae-fORsOdMW.js";import"./formik.esm-57hcKfmx.js";import"./tab-panels-vLnb1L73.js";import"./form-label-BRtD5jpz.js";import"./Clock-DOUKTfsE.js";import"./ProfileCircle-kDGWjsR6.js";const g=new V;function B({data:i}){const{t:s}=y(),[a,o]=m.useState(()=>g.getStatusDetails(i.status||"pending"));if(m.useEffect(()=>{o(g.getStatusDetails(i.status))},[i]),!i)return;const{orderNumber:l,type:r,grandTotal:n,orderItems:t,paymentStatus:c,createdAt:j}=i;return e.jsxDEV(u,{className:"h-56 flex flex-col justify-between bg-white shadow-primary rounded-md p-4 select-none",children:[e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(p,{colorScheme:{dine_in:"cyan",delivery:"primary",pickup:"blue"}[r],mb:1,children:s(A(r))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Display/OrderCardReadOnly.tsx",lineNumber:47,columnNumber:11},this),e.jsxDEV("p",{className:"text-secondary-600 font-bold mb-1",children:["#",l]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Display/OrderCardReadOnly.tsx",lineNumber:53,columnNumber:11},this),e.jsxDEV("p",{className:"text-secondary-400 text-sm",children:w(new Date(j),"MMM dd, yyyy | hh:mm a")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Display/OrderCardReadOnly.tsx",lineNumber:54,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Display/OrderCardReadOnly.tsx",lineNumber:46,columnNumber:9},this),e.jsxDEV("div",{className:"flex flex-col items-end",children:[e.jsxDEV(p,{colorScheme:c?"green":"orange",mb:1,children:s(c?"Paid":"Unpaid")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Display/OrderCardReadOnly.tsx",lineNumber:59,columnNumber:11},this),e.jsxDEV("p",{className:"text-secondary-600 font-bold mb-1",children:O(n)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Display/OrderCardReadOnly.tsx",lineNumber:62,columnNumber:11},this),e.jsxDEV("p",{className:"text-secondary-400 text-sm",children:[t.length," ",t.length>1?s("Item(s)"):s("Item")]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Display/OrderCardReadOnly.tsx",lineNumber:63,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Display/OrderCardReadOnly.tsx",lineNumber:58,columnNumber:9},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Display/OrderCardReadOnly.tsx",lineNumber:45,columnNumber:7},this),e.jsxDEV("div",{className:"flex flex-col gap-2",children:e.jsxDEV(u,{color:a==null?void 0:a.fgColor,borderColor:a==null?void 0:a.fgColor,className:"flex items-center justify-between border rounded-md py-2 h-10 px-4 font-semibold",children:s(a==null?void 0:a.label)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Display/OrderCardReadOnly.tsx",lineNumber:70,columnNumber:9},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Display/OrderCardReadOnly.tsx",lineNumber:69,columnNumber:7},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/components/Display/OrderCardReadOnly.tsx",lineNumber:44,columnNumber:5},this)}function Z(){const{t:i}=y(),{data:s,isLoading:a,mutate:o}=D("/api/orders",E);m.useEffect(()=>((async()=>{const n=transmit.subscription("orders");await n.create(),n.onMessage(t=>{t!=null&&t.success&&o()})})(),()=>{transmit.close()}),[o]);const l=r=>e.jsxDEV("div",{className:"order-card-container",children:S({items:r,isLoading:a}).with({isLoading:!0},()=>e.jsxDEV(C,{height:"200px",justifyContent:"center",children:[e.jsxDEV(v,{size:"sm"},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:48,columnNumber:15},this),e.jsxDEV(d,{children:i("Loading...")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:49,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:47,columnNumber:13},this)).with({items:b.not(b.nullish)},({items:n})=>n.length?e.jsxDEV("div",{className:"order-card-grid",children:n.map(t=>e.jsxDEV(B,{data:t},t.id,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:60,columnNumber:19},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:58,columnNumber:15},this):e.jsxDEV(d,{className:"text-secondary-500",children:[" ",i("No orders available")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:55,columnNumber:22},this)).otherwise(()=>e.jsxDEV(d,{className:"text-secondary-500",children:[" ",i("No orders available")," "]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:66,columnNumber:13},this))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:44,columnNumber:7},this);return e.jsxDEV(R,{title:i("Active orders"),children:e.jsxDEV("div",{className:"h-screen w-full p-6",children:e.jsxDEV(T,{defaultIndex:[0,1],allowMultiple:!0,children:[e.jsxDEV(N,{border:0,children:[e.jsxDEV(f,{className:"flex items-center justify-between border-b border-black/10",children:[e.jsxDEV("p",{className:"font-medium pb-1",children:i("Pending")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:78,columnNumber:15},this),e.jsxDEV(x,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:79,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:77,columnNumber:13},this),e.jsxDEV(h,{className:"px-1",children:l(s==null?void 0:s.filter(r=>r.status==="pending"&&r.type!=="delivery"))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:81,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:76,columnNumber:11},this),e.jsxDEV(N,{border:0,children:[e.jsxDEV(f,{className:"flex items-center justify-between border-b border-black/10",children:[e.jsxDEV("p",{className:"font-medium pb-1",children:i("Others")},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:91,columnNumber:15},this),e.jsxDEV(x,{},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:92,columnNumber:15},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:90,columnNumber:13},this),e.jsxDEV(h,{className:"px-1 order-card-container",children:l(s==null?void 0:s.filter(r=>r.status!=="pending"&&r.type!=="delivery"))},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:94,columnNumber:13},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:75,columnNumber:9},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:74,columnNumber:7},this)},void 0,!1,{fileName:"E:/abid/getpasto-adonisjs6/inertia/pages/Display/ActiveOrders.tsx",lineNumber:73,columnNumber:5},this)}export{Z as default};
