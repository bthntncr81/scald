import{r as o,X as he,u as ae,f as oe,j as e,S as q,M as xe,a as De,t as R,b as fe}from"./app-p3FobzL5.js";import{u as ve,L as Ae}from"./Layout-AyYa8XQx.js";import{U as Oe,O as ee}from"./OrderCard-C0-xKnUP.js";import{z as J,N as C}from"./index-CuMLbxmh.js";import{s as U}from"./string_formatter-C0BoQtKC.js";import{c as O}from"./currency_formatter-Bz1CGAdC.js";import{O as ke,P as ge}from"./PrintInvoice-D1BOIbqI.js";import{O as je}from"./order_status-CM2aeLIm.js";import{D as Ee}from"./DiscountTypeSelect-BDVkpI5Y.js";import{u as me}from"./useTranslation-jbS6ivqO.js";import{H as k,F as Ue,B as Ve,D as Se,a as ye}from"./platform_roles-D3HjcMuK.js";import{T as i,M as W,a as $,A as G,b as _,c as H}from"./ArrowDown2-DM1rERZ4.js";import{B as D}from"./_rollupPluginBabelHelpers-3bc641ae-btRFf1Fy.js";import{B as V,I as ue}from"./input-cx0LjzCS.js";import{S as we}from"./switch-CU8nt3W3.js";import{D as re}from"./divider-CHTuOarn.js";import{T as Ce}from"./textarea-pmQ9KYwB.js";import{u as Te}from"./useDebounce-C3LzOcPg.js";import{T as Pe,a as Le,b as S,c as ze,d as y}from"./tab-panels-DHV8yGV0.js";import{I as Be}from"./input-group-3FZosNBb.js";import{I as Me}from"./input-element-DW2n0nal.js";import{S as Fe}from"./SearchNormal-CydsvnL-.js";import{A as Re,a as se,b as te,c as ie,d as ne}from"./accordion-panel-C6BP8wfC.js";/* empty css            */import"./formik.esm-C9K4NhZh.js";import"./form-label-rj1Y5muO.js";import"./format-DNgEHVKA.js";import"./Clock-6LrARp7T.js";import"./ProfileCircle-DpyEwL7u.js";import"./User-B7pdFi89.js";import"./tr-EefZORq7.js";import"./popover-trigger-D9abZrFQ.js";import"./generate_invoice-BYY1s1ph.js";import"./use-radio-BmR54MTD.js";import"./visually-hidden.style-Bfr07Aua.js";import"./use-checkbox-fX-NceDq.js";const X=new je;function We({isOpen:n,orderId:f,refresh:v,onClose:g,isValidating:T}){const{t}=me(),[a,j]=o.useState(X.getStatusDetails("pending")),[d,E]=o.useState(""),[p,w]=o.useState(),[h,l]=o.useState(),[b,x]=o.useState(),[P,le]=o.useState(""),[ce,K]=o.useState(!1),[L,de]=o.useState([]),[z,B]=o.useState(0),[c,A]=o.useState({type:"amount",value:0,show:!1}),{props:{branding:M}}=he(),be=ve(),{data:m,isLoading:F,mutate:Q}=ae(()=>f?`/api/orders/${f}`:null,oe);o.useEffect(()=>{Q()},[T]),o.useEffect(()=>{var s;const r=[];(s=m==null?void 0:m.orderCharges)==null||s.forEach(u=>{let N=0;N+=u.amount;const I=r.findIndex(pe=>pe.name===u.name);I===-1?r.push({...u,amount:N}):r[I].amount+=N}),de(r)},[m]);const Y=o.useCallback(()=>{!F&&m&&(A({show:!1,type:"amount",value:m.manualDiscount}),B(m.manualDiscount),j(X.getStatusDetails(m.status)),w(m.type),E(m.customerNote??""),l(m.paymentType),le(new Date(m.deliveryDate).toISOString().split("T")[0]),x(!!m.paymentStatus))},[m,F]);o.useEffect(()=>{Y()},[Y]);const Ne=async r=>{var u;if(r.type==="delivery"&&(a.value==="on_delivery"||a.value==="completed")&&!r.deliveryManId){R.error(t("Select delivery person first"));return}const s={userId:r.userId,type:p,manualDiscount:z,discountType:c.type,paymentType:h,customerNote:d,paymentStatus:b,deliveryDate:P,status:a.value};K(!0);try{const{data:N}=await fe.put(`/api/orders/${r.id}`,s);(u=N==null?void 0:N.content)!=null&&u.id&&(v(),Q(),R.success(t("Order updated successfully")))}catch(N){R.error(t(N.response.data.message)||t("Something went wrong"))}finally{K(!1)}},Z=e.jsxDEV("div",{className:"relative w-full grid grid-rows-[1fr,9rem] h-screen lg:h-[calc(100vh-76px)] bg-white border-l border-black/10",children:J({orderItem:m,isLoading:F}).with({isLoading:!0},()=>e.jsxDEV(k,{justify:"center",height:"200px",children:[e.jsxDEV(q,{size:"sm"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:181,columnNumber:13},this),e.jsxDEV(i,{className:"text-secondary-500",children:t("Loading...")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:182,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:180,columnNumber:11},this)).with({orderItem:null,isLoading:!1},()=>e.jsxDEV(i,{className:"py-6 px-4 text-secondary-500",children:t("Order not found")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:188,columnNumber:11},this)).otherwise(({orderItem:r})=>e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"px-4 py-6 pb-6 flex-1 lg:h-[calc(100vh-220px)] overflow-y-auto",children:[e.jsxDEV("div",{className:"order-details-container",children:[e.jsxDEV(i,{as:"h3",className:"font-medium text-xl text-secondary-600 mb-6",children:t("Order details")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:196,columnNumber:17},this),e.jsxDEV("div",{className:"order-details-grid md:gap-[30px]",children:[e.jsxDEV("div",{className:"lg:w-fit flex flex-col gap-1 pb-[30px] lg:border-b border-black/5",children:[e.jsxDEV(i,{className:"text-base font-normal text-secondary-400",children:t("Order number")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:204,columnNumber:21},this),e.jsxDEV(i,{as:"h3",className:"text-secondary-600 text-xl font-semibold",children:r==null?void 0:r.orderNumber},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:207,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:203,columnNumber:19},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1 pb-[30px] border-b border-black/5",children:[e.jsxDEV(i,{className:"text-base font-normal text-secondary-400",children:t("Order type")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:214,columnNumber:21},this),a.value==="pending"?e.jsxDEV(W,{children:[e.jsxDEV($,{as:D,variant:"outline",rightIcon:e.jsxDEV(G,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:223,columnNumber:38},this),onClick:s=>s.stopPropagation(),isDisabled:(r==null?void 0:r.userId)===null,children:t(U(p))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:220,columnNumber:25},this),e.jsxDEV(_,{className:"p-1",children:["dine_in","delivery","pickup"].map(s=>{var u;return!!((u=M==null?void 0:M.business)!=null&&u[s])&&e.jsxDEV(H,{onClick:()=>w(s),children:t(U(s))},s,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:235,columnNumber:33},this)})},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:229,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:219,columnNumber:23},this):e.jsxDEV(V,{className:"w-fit border border-secondary-200 px-4 py-2 rounded-md h-10",children:t(U(p))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:246,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:213,columnNumber:19},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1 pb-[30px] border-b border-black/5",children:[e.jsxDEV(i,{className:"text-base font-normal text-secondary-400",children:t("Status")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:254,columnNumber:21},this),e.jsxDEV(W,{children:[e.jsxDEV($,{as:D,variant:"outline",color:a==null?void 0:a.fgColor,borderColor:a==null?void 0:a.fgColor,rightIcon:e.jsxDEV(G,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:262,columnNumber:36},this),onClick:s=>s.stopPropagation(),children:t(a==null?void 0:a.label)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:257,columnNumber:23},this),e.jsxDEV(_,{className:"p-1",children:X.all().map((s,u)=>(!s.orderType||p===s.orderType)&&e.jsxDEV(H,{color:s.fgColor,onClick:()=>j(s),children:t(s.label)},u,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:271,columnNumber:31},this))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:267,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:256,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:253,columnNumber:19},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1",children:[e.jsxDEV(i,{className:"text-base font-normal text-secondary-400",children:t("Delivery date")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:282,columnNumber:21},this),e.jsxDEV(i,{as:"h3",className:"text-secondary-600 text-xl font-semibold",children:new Date(r==null?void 0:r.deliveryDate).toLocaleDateString()},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:285,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:281,columnNumber:19},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1",children:[e.jsxDEV(i,{className:"text-base font-normal text-secondary-400",children:t("Payment method")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:292,columnNumber:21},this),e.jsxDEV(W,{children:[e.jsxDEV($,{as:D,variant:"outline",rightIcon:e.jsxDEV(G,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:300,columnNumber:36},this),onClick:s=>s.stopPropagation(),children:t(U(h))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:297,columnNumber:23},this),e.jsxDEV(_,{children:["cash","card"].map(s=>e.jsxDEV(H,{onClick:()=>l(s),children:t(U(s))},s,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:307,columnNumber:27},this))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:305,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:296,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:291,columnNumber:19},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1",children:[e.jsxDEV(i,{className:"text-base font-normal text-secondary-400",children:t("Payment status")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:317,columnNumber:21},this),e.jsxDEV(Ue,{justifyContent:"space-between",alignItems:"center",className:"text-secondary-600 text-xl font-semibold",children:[b!==void 0&&e.jsxDEV(we,{colorScheme:"green",size:"lg",isChecked:b,onChange:s=>x(s.target.checked)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:326,columnNumber:25},this),e.jsxDEV(Ve,{variant:"solid",colorScheme:b?"green":"orange",size:"sm",className:"py-0 leading-5 min-h-fit",children:t(b?"Paid":"Unpaid")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:333,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:320,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:316,columnNumber:19},this),(r==null?void 0:r.type)==="delivery"&&(r==null?void 0:r.status)!=="pending"&&e.jsxDEV("div",{className:"col-span-2",children:e.jsxDEV("div",{className:"flex flex-col gap-1",children:[e.jsxDEV(i,{className:"text-base font-normal text-secondary-400",children:t("Delivery person")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:348,columnNumber:25},this),e.jsxDEV(Oe,{type:r.type,deliveryPerson:r==null?void 0:r.deliveryMan,status:r.status,orderId:r==null?void 0:r.id,refresh:v},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:352,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:347,columnNumber:23},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:346,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:201,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:195,columnNumber:15},this),e.jsxDEV(re,{className:"border-black/5"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:365,columnNumber:15},this),e.jsxDEV("div",{className:"mt-3 mb-4",children:e.jsxDEV("div",{className:"flex flex-col space-y-2",children:[e.jsxDEV(i,{className:"text-base font-normal text-secondary-400",children:t("Order note")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:370,columnNumber:19},this),a.value!=="pending"?e.jsxDEV(i,{children:d||e.jsxDEV("span",{className:"text-secondary-500",children:[" ",t("Empty")]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:375,columnNumber:40},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:374,columnNumber:21},this):e.jsxDEV(Ce,{value:d,onChange:s=>E(s.target.value),placeholder:t("Write customer note")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:378,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:369,columnNumber:17},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:368,columnNumber:15},this),e.jsxDEV(ke,{items:r==null?void 0:r.orderItems},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:388,columnNumber:15},this),e.jsxDEV("div",{className:"mt-4 flex flex-col gapy-2 [&>div]:border-b [&>div]:border-black/5 [&>div]:py-1 [&>div]:px-4",children:[e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg",children:[e.jsxDEV("div",{children:[" ",t("Subtotal"),": "]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:393,columnNumber:19},this),e.jsxDEV("h4",{className:"font-medium text-right",children:O(r==null?void 0:r.total)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:394,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:392,columnNumber:17},this),L==null?void 0:L.map(s=>e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg",children:[e.jsxDEV("div",{children:[s==null?void 0:s.name,": "]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:402,columnNumber:21},this),e.jsxDEV("h4",{className:"font-medium text-right",children:O(s==null?void 0:s.amount)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:403,columnNumber:21},this)]},s.id,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:401,columnNumber:19},this)),(r==null?void 0:r.type)==="delivery"&&e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg",children:[e.jsxDEV("div",{children:[" ",t("Delivery charge"),": "]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:411,columnNumber:21},this),e.jsxDEV("h4",{className:"font-medium text-right",children:O(r==null?void 0:r.deliveryCharge)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:412,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:410,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg",children:[e.jsxDEV("div",{children:[" ",t("Discount"),": "]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:420,columnNumber:19},this),e.jsxDEV("h4",{className:"font-medium text-right",children:["- ",O(r==null?void 0:r.discount)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:421,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:419,columnNumber:17},this),e.jsxDEV(V,{as:"div",className:"grid grid-cols-[1fr,100px] border-b py-1.5 border-black/5 text-lg",children:[e.jsxDEV(V,{className:"flex flex-wrap @xs:flex-nowrap items-center gap-3",children:[t("Extra Discount"),":",!c.show&&e.jsxDEV(D,{size:"sm",className:"px-3",onClick:()=>A({...c,show:!0}),children:t(c.value===0?t("Add Discount"):t("Edit Discount"))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:434,columnNumber:23},this),c.show&&e.jsxDEV(D,{size:"sm",className:"px-3",onClick:()=>{A({...c,value:0,show:!1})},children:t("Remove Discount")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:443,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:431,columnNumber:19},this),e.jsxDEV(i,{fontWeight:500,textAlign:"right",children:["- ",O(z)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:454,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:427,columnNumber:17},this),c.show&&e.jsxDEV(V,{as:"div",className:"grid grid-cols-[1fr,100px] gap-4 pt-2",children:[e.jsxDEV(k,{className:"flex gap-3",children:[e.jsxDEV(k,{children:e.jsxDEV(Ee,{onChange:s=>A(u=>({...u,type:s}))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:462,columnNumber:25},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:461,columnNumber:23},this),e.jsxDEV(ue,{type:"number",value:c.value,onChange:s=>A(u=>({...u,value:+s.target.value})),placeholder:t("Add discount"),onFocus:s=>s.target.select()},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:471,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:460,columnNumber:21},this),e.jsxDEV(D,{variant:"outline",colorScheme:"blue",type:"button",onClick:()=>{A(s=>({...s,show:!1})),c.type==="percentage"?B(r.total*c.value*.01):B(c.value)},children:t("Update")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:481,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:459,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:390,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:194,columnNumber:13},this),e.jsxDEV(V,{px:"4",pt:"2",pb:"4",shadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.06),0px -1px 3px 0px rgba(0, 0, 0, 0.1)",className:"absolute w-full h-36 bottom-0 bg-white z-10 flex flex-col justify-center gap-5",children:[e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg px-4",children:[e.jsxDEV("div",{children:[" ",t("Grand total"),": "]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:508,columnNumber:17},this),e.jsxDEV("h4",{className:"font-bold text-right",children:O((r==null?void 0:r.grandTotal)-(z-r.manualDiscount))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:509,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:507,columnNumber:15},this),e.jsxDEV(re,{className:"border-black/5"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:515,columnNumber:15},this),e.jsxDEV(k,{className:"w-full gap-2 px-4",children:[e.jsxDEV(D,{onClick:g,variant:"outline",className:"flex-1",children:t("Close")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:518,columnNumber:17},this),e.jsxDEV(ge,{orderId:r.id},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:521,columnNumber:17},this),e.jsxDEV(D,{type:"button",onClick:()=>Ne(r),colorScheme:"blue",className:"flex-1",isLoading:ce,children:t("Update")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:522,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:517,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:500,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:193,columnNumber:11},this))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:176,columnNumber:5},this);if(be.width<992)return e.jsxDEV(Se,{isOpen:n,placement:"right",size:"md",onClose:g,children:[e.jsxDEV(xe,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:542,columnNumber:9},this),e.jsxDEV(ye,{className:"p-0",children:e.jsxDEV(De,{className:"p-0 h-screen",children:Z},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:544,columnNumber:11},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:543,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/ActiveOrders/OrderDetailsSidebar.tsx",lineNumber:541,columnNumber:7},this);if(n)return Z}function gr(){const{t:n}=me(),[f,v]=o.useState(!1),[g,T]=o.useState(""),t=Te(g,300),[a,j]=o.useState(),{data:d,isLoading:E,mutate:p,isValidating:w}=ae(`/api/orders?search=${t}&listType=active`,oe),h=l=>e.jsxDEV("div",{className:"order-card-container",children:J({orderItems:d,isLoading:E}).with({isLoading:!0},()=>e.jsxDEV(k,{height:"200px",justifyContent:"center",children:[e.jsxDEV(q,{size:"sm"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:50,columnNumber:15},this),e.jsxDEV(i,{children:n("Loading...")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:51,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:49,columnNumber:13},this)).with({orderItems:C.not(C.nullish)},()=>{const b=d.filter(x=>x.status===l);return b.length?e.jsxDEV("div",{className:"order-card-grid",children:b.map(x=>x.status===l&&e.jsxDEV(ee,{refresh:p,onClick:P=>{j(P),v(!0)},data:x},x.id,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:65,columnNumber:23},this))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:61,columnNumber:15},this):e.jsxDEV(i,{className:"text-secondary-500",children:[" ",n("No orders available")," "]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:58,columnNumber:22},this)}).otherwise(()=>e.jsxDEV(i,{className:"text-secondary-500",children:[" ",n("No orders available")," "]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:80,columnNumber:13},this))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:46,columnNumber:7},this);return e.jsxDEV(Ae,{title:n("Active orders"),children:e.jsxDEV("div",{className:`grid ${f?"grid-cols-2":"grid-cols-1"} @container justify-between`,children:[e.jsxDEV("div",{className:"h-[calc(100vh-76px)] w-full p-6 overflow-y-scroll",children:e.jsxDEV(Pe,{children:[e.jsxDEV("div",{className:"flex flex-col @3xl:flex-row @3xl:items-center justify-between gap-4",children:[e.jsxDEV("div",{className:"flex-1 max-w-full overflow-x-auto",children:e.jsxDEV(Le,{className:"flex whitespace-nowrap",children:[e.jsxDEV(S,{children:n("All")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:94,columnNumber:19},this),e.jsxDEV(S,{children:n("Pending")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:95,columnNumber:19},this),e.jsxDEV(S,{children:n("Processing")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:96,columnNumber:19},this),e.jsxDEV(S,{children:n("Ready")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:97,columnNumber:19},this),e.jsxDEV(S,{children:n("On delivery")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:98,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:93,columnNumber:17},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:92,columnNumber:15},this),!f&&e.jsxDEV("div",{className:"max-w-[300px]",children:e.jsxDEV(Be,{children:[e.jsxDEV(Me,{pointerEvents:"none",children:e.jsxDEV(Fe,{size:18},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:105,columnNumber:23},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:104,columnNumber:21},this),e.jsxDEV(ue,{type:"search",value:g,onChange:l=>T(l.target.value),placeholder:n("Search"),className:"bg-white"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:107,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:103,columnNumber:19},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:102,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:91,columnNumber:13},this),e.jsxDEV(ze,{children:[e.jsxDEV(y,{children:e.jsxDEV(Re,{defaultIndex:[0,1],allowMultiple:!0,children:[e.jsxDEV(se,{border:0,children:[e.jsxDEV(te,{className:"flex items-center justify-between border-b border-black/10",children:[e.jsxDEV("p",{className:"font-medium pb-1",children:n("Pending")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:124,columnNumber:23},this),e.jsxDEV(ie,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:125,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:123,columnNumber:21},this),e.jsxDEV(ne,{className:"px-1",children:h("pending")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:127,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:122,columnNumber:19},this),e.jsxDEV(se,{border:0,children:[e.jsxDEV(te,{className:"flex items-center justify-between border-b border-black/10",children:[e.jsxDEV("p",{className:"font-medium pb-1",children:n("Others")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:131,columnNumber:23},this),e.jsxDEV(ie,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:132,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:130,columnNumber:21},this),e.jsxDEV(ne,{className:"px-1 order-card-container",children:J({orderItems:d,isLoading:E}).with({isLoading:!0},()=>e.jsxDEV(k,{height:"200px",justifyContent:"center",children:[e.jsxDEV(q,{size:"sm"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:138,columnNumber:29},this),e.jsxDEV(i,{children:n("Loading...")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:139,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:137,columnNumber:27},this)).with({orderItems:C.not(C.nullish)},()=>e.jsxDEV("div",{className:"order-card-grid",children:d.map(l=>l.status!=="pending"&&e.jsxDEV(ee,{refresh:()=>p(d),onClick:b=>{j(b),v(!0)},data:l},l.id,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:147,columnNumber:35},this))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:143,columnNumber:27},this)).otherwise(()=>e.jsxDEV(i,{className:"text-secondary-400",children:[" ",n("No pending orders")," "]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:161,columnNumber:27},this))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:134,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:129,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:121,columnNumber:17},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:120,columnNumber:15},this),e.jsxDEV(y,{children:h("pending")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:167,columnNumber:15},this),e.jsxDEV(y,{children:h("processing")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:168,columnNumber:15},this),e.jsxDEV(y,{children:h("ready")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:169,columnNumber:15},this),e.jsxDEV(y,{children:h("on_delivery")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:119,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:90,columnNumber:11},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:89,columnNumber:9},this),a&&e.jsxDEV(We,{isValidating:w,isOpen:f,onClose:()=>v(!1),orderId:a,refresh:()=>p(d)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:176,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:88,columnNumber:7},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/pages/Admin/ActiveOrders.tsx",lineNumber:87,columnNumber:5},this)}export{gr as default};
