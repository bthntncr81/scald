import{j as e,t as v,b as F,r as m,X as te,u as re,f as se,M as oe,a as ne,S as ie}from"./app-p3FobzL5.js";import{O as J}from"./order_status-CM2aeLIm.js";import{s as A}from"./string_formatter-C0BoQtKC.js";import{u as $}from"./useTranslation-jbS6ivqO.js";import{M as B,a as y,A as C,b as T,c as z,T as a}from"./ArrowDown2-DM1rERZ4.js";import{B as u,u as ae}from"./_rollupPluginBabelHelpers-3bc641ae-btRFf1Fy.js";import{z as ue}from"./index-CuMLbxmh.js";import{c as U}from"./currency_formatter-Bz1CGAdC.js";import{O as me,P as le}from"./PrintInvoice-D1BOIbqI.js";import{D as ce}from"./DiscountTypeSelect-BDVkpI5Y.js";import{E as de}from"./Eye-BnFH3BGQ.js";import{D as be,a as pe,H as g,F as Ne,B as he,M as xe}from"./platform_roles-D3HjcMuK.js";import{S as fe}from"./switch-CU8nt3W3.js";import{D as q}from"./divider-CHTuOarn.js";import{T as ve}from"./textarea-pmQ9KYwB.js";import{B as P,I as De,a as we}from"./input-cx0LjzCS.js";import{P as Ve,a as Se,b as Oe}from"./popover-trigger-D9abZrFQ.js";import{T as ke}from"./Trash-CzXP6s3A.js";import{P as Ue,B as Ae}from"./popover-arrow-cOi1xr-l.js";import{P as Ee}from"./popover-header-DBc-fTNW.js";import{P as ge}from"./popover-body-Cnhf1gCL.js";import{P as Pe}from"./popover-footer-Bj-c8mCp.js";const j=new J;function Ie({orderId:D,status:p,refresh:t,type:N,isDeliveryPersonSelected:l}){var f,V,S;const{t:d}=$(),o=async(i,h)=>{var O;if(!l&&N==="delivery"&&(h.status==="on_delivery"||h.status==="completed")){v.error(d("Select delivery person first"));return}try{const{data:x}=await F.patch(`/api/orders/${i}`,h);(O=x==null?void 0:x.content)!=null&&O.id&&(v.success(d("Order updated successfully")),t())}catch(x){v.error(d(x.response.data.message||"Something went wrong"))}};return e.jsxDEV("div",{children:e.jsxDEV(B,{children:[e.jsxDEV(y,{as:u,size:"sm",variant:"outline",colorScheme:(f=j.getStatusDetails(p))==null?void 0:f.scheme,borderColor:(V=j.getStatusDetails(p))==null?void 0:V.fgColor,color:(S=j.getStatusDetails(p))==null?void 0:S.fgColor,rightIcon:e.jsxDEV(C,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/UpdateOrderStatus.tsx",lineNumber:58,columnNumber:22},this),onClick:i=>i.stopPropagation(),children:d(A(p))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/UpdateOrderStatus.tsx",lineNumber:51,columnNumber:9},this),e.jsxDEV(T,{className:"p-1",children:j.all().map(i=>N!=="delivery"&&i.value==="on_delivery"?null:e.jsxDEV(z,{color:i.fgColor,onClick:h=>{h.stopPropagation(),o(D,{status:i.value})},children:d(i.label)},i.value,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/UpdateOrderStatus.tsx",lineNumber:66,columnNumber:15},this))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/UpdateOrderStatus.tsx",lineNumber:63,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/UpdateOrderStatus.tsx",lineNumber:50,columnNumber:7},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/UpdateOrderStatus.tsx",lineNumber:49,columnNumber:5},this)}const W=new J;function et({orderId:D,refresh:p}){const{t}=$(),{isOpen:N,onOpen:l,onClose:d}=ae(),[o,f]=m.useState(W.getStatusDetails("pending")),[V,S]=m.useState(""),[i,h]=m.useState(),[O,x]=m.useState(),[E,G]=m.useState(),[K,Q]=m.useState(""),[Y,H]=m.useState(!1),[_,M]=m.useState(0),[c,w]=m.useState({type:"amount",value:0,show:!1}),{props:{branding:L}}=te(),Z=m.useRef(null),{data:n,isLoading:R,mutate:I}=re(()=>D&&N?`/api/orders/${D}`:null,se),X=m.useCallback(()=>{!R&&n&&(w({show:!1,type:"amount",value:n.manualDiscount}),M(n.manualDiscount),f(W.getStatusDetails(n.status)),h(n.type),S(n.customerNote??""),x(n.paymentType),Q(new Date(n.deliveryDate).toISOString().split("T")[0]),G(n.paymentStatus))},[n,R]);m.useEffect(()=>{X()},[X]);const ee=async s=>{var b;const r={userId:s.userId,type:i,manualDiscount:_,discountType:c.type,paymentType:O,customerNote:V,paymentStatus:E,deliveryDate:K,status:o.value};H(!0);try{const{data:k}=await F.put(`/api/orders/${s.id}`,r);(b=k==null?void 0:k.content)!=null&&b.id&&(v.success(t("Order updated successfully")),I(s),p())}catch(k){v.error(t(k.response.data.message)||t("Something went wrong"))}finally{H(!1)}};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(u,{onClick:l,variant:"outline",colorScheme:"secondary",className:"border-secondary-200 text-secondary-800 hover:bg-secondary-100",rightIcon:e.jsxDEV(de,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:148,columnNumber:20},this),children:t("View")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:143,columnNumber:7},this),e.jsxDEV(be,{isOpen:N,placement:"right",size:"lg",onClose:()=>{d()},finalFocusRef:Z,children:[e.jsxDEV(oe,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:161,columnNumber:9},this),e.jsxDEV(pe,{className:"@container",children:[e.jsxDEV(ne,{className:"p-0 px-4",children:e.jsxDEV("div",{className:"w-full bg-white",children:ue({orderItem:n,isLoading:R}).with({isLoading:!0},()=>e.jsxDEV(g,{className:"mt-6 mx-4",children:[e.jsxDEV(ie,{size:"sm"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:169,columnNumber:21},this),e.jsxDEV(a,{className:"text-secondary-500",children:[" ",t("Loading...")," "]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:170,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:168,columnNumber:19},this)).with({orderItem:null,isLoading:!1},()=>e.jsxDEV(a,{className:"py-6 px-4 text-secondary-500",children:[" ",t("Order not found")," "]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:176,columnNumber:19},this)).otherwise(({orderItem:s})=>e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"px-4 py-6",children:[e.jsxDEV("div",{className:"order-details-container",children:[e.jsxDEV(a,{as:"h3",className:"font-medium text-xl text-secondary-600 mb-6",children:t("Order details")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:184,columnNumber:25},this),e.jsxDEV("div",{className:"order-details-grid md:gap-[30px]",children:[e.jsxDEV("div",{className:"lg:w-fit flex flex-col gap-1 pb-[30px] lg:border-b border-black/5",children:[e.jsxDEV(a,{className:"text-base font-normal text-secondary-400",children:t("Order number")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:192,columnNumber:29},this),e.jsxDEV(a,{as:"h3",className:"text-secondary-600 text-xl font-semibold",children:s==null?void 0:s.orderNumber},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:195,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:191,columnNumber:27},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1 pb-[30px] border-b border-black/5",children:[e.jsxDEV(a,{className:"text-base font-normal text-secondary-400",children:t("Order type")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:202,columnNumber:29},this),e.jsxDEV(B,{matchWidth:!0,children:[e.jsxDEV(y,{as:u,variant:"outline",rightIcon:e.jsxDEV(C,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:210,columnNumber:44},this),onClick:r=>r.stopPropagation(),className:"text-left",children:t(A(i))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:207,columnNumber:31},this),e.jsxDEV(T,{className:"p-1",children:["dine_in","delivery","pickup"].map(r=>{var b;return e.jsxDEV(z,{isDisabled:!((b=L==null?void 0:L.business)!=null&&b[r]),onClick:()=>h(r),children:t(A(r))},r,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:218,columnNumber:35},this)})},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:216,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:206,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:201,columnNumber:27},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1 pb-[30px] border-b border-black/5",children:[e.jsxDEV(a,{className:"text-base font-normal text-secondary-400",children:t("Status")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:236,columnNumber:29},this),e.jsxDEV(B,{matchWidth:!0,children:[e.jsxDEV(y,{as:u,variant:"outline",color:o==null?void 0:o.fgColor,borderColor:o==null?void 0:o.fgColor,rightIcon:e.jsxDEV(C,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:246,columnNumber:44},this),onClick:r=>r.stopPropagation(),className:"text-left",children:t(o==null?void 0:o.label)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:241,columnNumber:31},this),e.jsxDEV(T,{className:"p-1",children:W.all().map(r=>(!r.orderType||i===r.orderType)&&e.jsxDEV(z,{color:r.fgColor,onClick:()=>f(r),children:t(r.label)},r.value,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:256,columnNumber:39},this))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:252,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:240,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:235,columnNumber:27},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1",children:[e.jsxDEV(a,{className:"text-base font-normal text-secondary-400",children:t("Delivery date")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:271,columnNumber:29},this),e.jsxDEV(a,{as:"h3",className:"text-secondary-600 text-xl font-semibold",children:new Date(s==null?void 0:s.deliveryDate).toLocaleDateString()},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:274,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:270,columnNumber:27},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1",children:[e.jsxDEV(a,{className:"text-base font-normal text-secondary-400",children:t("Payment method")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:281,columnNumber:29},this),e.jsxDEV(B,{matchWidth:!0,children:[e.jsxDEV(y,{as:u,variant:"outline",rightIcon:e.jsxDEV(C,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:289,columnNumber:44},this),onClick:r=>r.stopPropagation(),className:"text-left",children:t(A(O))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:286,columnNumber:31},this),e.jsxDEV(T,{className:"p-1",children:["cash","card"].map(r=>e.jsxDEV(z,{onClick:()=>x(r),children:t(A(r))},r,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:297,columnNumber:35},this))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:295,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:285,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:280,columnNumber:27},this),e.jsxDEV("div",{className:"md:w-fit flex flex-col gap-1",children:[e.jsxDEV(a,{className:"text-base font-normal text-secondary-400",children:t("Payment status")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:310,columnNumber:29},this),e.jsxDEV(Ne,{justifyContent:"space-between",className:"text-secondary-600 text-xl font-semibold",children:[E!==void 0&&e.jsxDEV(fe,{colorScheme:"green",defaultChecked:E,onChange:r=>G(r.target.checked)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:318,columnNumber:33},this),e.jsxDEV(he,{variant:"solid",colorScheme:"green",size:"sm",className:"py-0 leading-5 min-h-fit",children:t(E?"PAID":"UNPAID")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:324,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:313,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:309,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:189,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:183,columnNumber:23},this),e.jsxDEV(q,{className:"border-black/5"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:337,columnNumber:23},this),e.jsxDEV("div",{className:"mt-3 mb-4",children:e.jsxDEV("div",{className:"flex flex-col space-y-2",children:[e.jsxDEV(a,{className:"text-base font-normal text-secondary-400",children:t("Order note")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:342,columnNumber:27},this),e.jsxDEV(ve,{value:V,onChange:r=>S(r.target.value),placeholder:t("Write customer note")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:345,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:341,columnNumber:25},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:340,columnNumber:23},this),e.jsxDEV(me,{items:s==null?void 0:s.orderItems},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:354,columnNumber:23},this),e.jsxDEV("div",{className:"mt-4 flex flex-col gapy-2 [&>div]:border-b [&>div]:border-black/5 [&>div]:py-1 [&>div]:px-4",children:[e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg",children:[e.jsxDEV("div",{children:[" ",t("Subtotal"),": "]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:359,columnNumber:27},this),e.jsxDEV("h4",{className:"font-medium text-right",children:U(s==null?void 0:s.total)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:360,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:358,columnNumber:25},this),e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg",children:[e.jsxDEV("div",{children:[" ",t("Vat/Tax"),": "]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:367,columnNumber:27},this),e.jsxDEV("h4",{className:"font-medium text-right",children:U(s==null?void 0:s.totalTax)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:368,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:366,columnNumber:25},this),e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg",children:[e.jsxDEV("div",{children:[" ",t("Service charge"),": "]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:375,columnNumber:27},this),e.jsxDEV("h4",{className:"font-medium text-right",children:U(s==null?void 0:s.totalCharges)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:376,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:374,columnNumber:25},this),e.jsxDEV(P,{as:"div",className:"grid grid-cols-[1fr,100px] border-b py-1.5 border-black/5 text-lg",children:[e.jsxDEV(P,{className:"flex flex-wrap @xs:flex-nowrap items-center gap-3",children:[t("Extra Discount"),":",!c.show&&e.jsxDEV(u,{size:"sm",className:"px-3",onClick:()=>w({...c,show:!0}),children:t(c.value===0?"Add Discount":"Edit Discount")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:389,columnNumber:31},this),c.show&&e.jsxDEV(u,{size:"sm",className:"px-3",onClick:()=>{w({...c,value:0,show:!1})},children:t("Remove Discount")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:398,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:386,columnNumber:27},this),e.jsxDEV(a,{fontWeight:500,textAlign:"right",children:["- ",U(_)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:409,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:382,columnNumber:25},this),c.show&&e.jsxDEV(P,{as:"div",className:"grid grid-cols-[1fr,100px] gap-4 pt-2",children:[e.jsxDEV(g,{className:"flex gap-3",children:[e.jsxDEV(g,{children:e.jsxDEV(ce,{onChange:r=>w(b=>({...b,type:r}))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:417,columnNumber:33},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:416,columnNumber:31},this),e.jsxDEV(De,{type:"number",value:c.value,onChange:r=>w(b=>({...b,value:+r.target.value})),placeholder:t("Add discount"),onFocus:r=>r.target.select()},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:426,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:415,columnNumber:29},this),e.jsxDEV(u,{variant:"outline",colorScheme:"blue",type:"button",onClick:()=>{w(r=>({...r,show:!1})),c.type==="percentage"?M(s.total*c.value*.01):M(c.value)},children:t("Update")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:436,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:414,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:356,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:182,columnNumber:21},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:181,columnNumber:19},this))},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:164,columnNumber:13},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:163,columnNumber:11},this),e.jsxDEV(xe,{className:"p-0",children:e.jsxDEV(P,{pt:"2",pb:"4",shadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.06),0px -1px 3px 0px rgba(0, 0, 0, 0.1)",className:"w-full bg-white z-10 flex flex-col gap-5 px-4 @md:px-8",children:[e.jsxDEV("div",{className:"grid grid-cols-[1fr,150px] text-lg px-4",children:[e.jsxDEV("div",{children:[" ",t("Grand total"),": "]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:467,columnNumber:17},this),e.jsxDEV("h4",{className:"font-bold text-right",children:U(n==null?void 0:n.grandTotal)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:468,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:466,columnNumber:15},this),e.jsxDEV(q,{className:"border-black/5"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:472,columnNumber:15},this),e.jsxDEV(g,{className:"w-full px-4",children:[e.jsxDEV(u,{onClick:d,variant:"outline",className:"flex-1",children:t("Close")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:475,columnNumber:17},this),e.jsxDEV(le,{orderId:n==null?void 0:n.id},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:479,columnNumber:17},this),e.jsxDEV(u,{type:"button",onClick:()=>ee(n),colorScheme:"blue",className:"flex-1",isLoading:Y,children:t("Update")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:481,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:474,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:460,columnNumber:13},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:458,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:162,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:152,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/ViewPreviewButton.tsx",lineNumber:142,columnNumber:5},this)}function tt({isIconButton:D=!1,id:p,refresh:t,onClose:N}){const{t:l}=$(),d=async()=>{try{const{data:o,status:f}=await F.delete(`/api/orders/${p}`);f===200&&(v.success(o.message),t(),N&&N())}catch(o){F.isAxiosError(o)&&v.error(l("Something went wrong"))}};return e.jsxDEV(Ve,{children:({onClose:o})=>e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Se,{children:D?e.jsxDEV(we,{"aria-label":l("Delete"),icon:e.jsxDEV(ke,{size:"18"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:54,columnNumber:23},this),colorScheme:"red",className:"hover:bg-red-100",variant:"outline"},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:52,columnNumber:15},this):e.jsxDEV(u,{variant:"outline",w:"full",colorScheme:"red",mr:3,children:l("Delete")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:60,columnNumber:15},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:50,columnNumber:11},this),e.jsxDEV(Oe,{children:[e.jsxDEV(Ue,{},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:66,columnNumber:13},this),e.jsxDEV(Ee,{pt:4,fontWeight:"bold",border:"0",children:l("Delete order")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:67,columnNumber:13},this),e.jsxDEV(ge,{whiteSpace:"normal",children:l("Are you sure you want to delete this order?")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:70,columnNumber:13},this),e.jsxDEV(Pe,{border:"0",display:"flex",alignItems:"center",justifyContent:"flex-end",pb:4,children:e.jsxDEV(Ae,{size:"sm",children:[e.jsxDEV(u,{colorScheme:"secondary",className:"bg-secondary-200 text-secondary-800 hover:bg-secondary-300",onClick:o,children:l("Cancel")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:81,columnNumber:17},this),e.jsxDEV(u,{type:"button",colorScheme:"red",className:"bg-red-400 hover:bg-red-500",onClick:d,children:l("Delete")},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:88,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:80,columnNumber:15},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:73,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:65,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:49,columnNumber:9},this)},void 0,!1,{fileName:"/Users/omerbatuhantuncer/Desktop/resto/source/inertia/components/Admin/OrderStatus/DeleteOrder.tsx",lineNumber:47,columnNumber:5},this)}export{tt as D,et as O,Ie as U};
